
> frontend@0.1.0 test
> vitest --no-color


 DEV  v4.0.14 /Users/isak/Downloads/iso-doc-platform/frontend

 âœ“ app/app/page.test.tsx (1 test) 56ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Failed to resolve import "@/lib/api" from "app/app/dashboard/page.test.tsx". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.test.tsx:3:0
  6  |  const __vi_import_1__ = await import("@testing-library/react");
  7  |  const __vi_import_2__ = await import("./page");
  8  |  const __vi_import_3__ = await import("@/lib/api");
     |                                       ^
  9  |  
  10 |  
 â¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:28992:43
 â¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:28989:14
 â¯ normalizeUrl node_modules/vite/dist/node/chunks/config.js:27112:18
 â¯ node_modules/vite/dist/node/chunks/config.js:27170:32
 â¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:27138:4
 â¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:28790:14
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/config.js:22660:26

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed | 1 passed (2)
      Tests  1 passed (1)
   Start at  22:09:11
   Duration  558ms (transform 32ms, setup 99ms, import 78ms, tests 56ms, environment 617ms)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.test.ts x1 

 â¯ app/app/dashboard/page.test.tsx (0 test)
 âœ“ lib/api.test.ts (4 tests) 5ms

 Test Files  1 failed | 1 passed (2)
      Tests  4 passed (4)
   Start at  22:24:07
   Duration  81ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts x2 

 â¯ app/app/dashboard/page.test.tsx (0 test)
 âœ“ lib/api.test.ts (4 tests) 4ms

 Test Files  1 failed | 1 passed (2)
      Tests  4 passed (4)
   Start at  22:50:18
   Duration  174ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/reports/[id]/page.test.tsx x1 

 â¯ app/app/dashboard/page.test.tsx (0 test)
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 47ms

 Test Files  1 failed | 1 passed (2)
      Tests  3 passed (3)
   Start at  22:51:02
   Duration  268ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/reports/[id]/page.test.tsx x2 

 â¯ app/app/dashboard/page.test.tsx (0 test)
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 42ms

 Test Files  1 failed | 1 passed (2)
      Tests  3 passed (3)
   Start at  22:51:02
   Duration  136ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 â¯ app/app/dashboard/page.test.tsx (0 test)
 âœ“ lib/api.test.ts (4 tests) 5ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 42ms

 Test Files  1 failed | 2 passed (3)
      Tests  7 passed (7)
   Start at  23:05:52
   Duration  671ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x1 


â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 1 error:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.test.tsx:10:11: ERROR: Expected identifier but found "<"
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.test.tsx:10:11
  
  Expected identifier but found "<"
  8  |      fetchDocuments: vi.fn(),
  9  |      uploadDocument: vi.fn(),
  10 |      render(<Dashboard />);
     |             ^
  11 |  
  12 |  await waitFor(() => {
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  no tests
   Start at  23:06:58
   Duration  74ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x2 

 âœ“ app/app/dashboard/page.test.tsx (2 tests) 102ms

 Test Files  1 passed (1)
      Tests  2 passed (2)
   Start at  23:07:13
   Duration  321ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 âœ“ lib/api.test.ts (4 tests) 8ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 120ms
 âœ“ app/app/dashboard/page.test.tsx (2 tests) 225ms

 Test Files  3 passed (3)
      Tests  9 passed (9)
   Start at  23:21:09
   Duration  2.75s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 âœ“ lib/api.test.ts (4 tests) 36ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 56ms
 âœ“ app/app/dashboard/page.test.tsx (2 tests) 120ms

 Test Files  3 passed (3)
      Tests  9 passed (9)
   Start at  23:22:00
   Duration  2.82s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.test.tsx x1 

 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 119ms

 Test Files  1 passed (1)
      Tests  2 passed (2)
   Start at  23:22:26
   Duration  461ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 âœ“ lib/api.test.ts (4 tests) 20ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 154ms
 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 430ms
     âœ“ renders document details and download button  379ms
 âœ“ app/app/dashboard/page.test.tsx (2 tests) 287ms

 Test Files  4 passed (4)
      Tests  11 passed (11)
   Start at  23:30:13
   Duration  6.35s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/gap-analysis/page.test.tsx x1 

 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 80ms

 Test Files  1 passed (1)
      Tests  2 passed (2)
   Start at  23:30:43
   Duration  363ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/gap-analysis/page.test.tsx x2 

 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 40ms

 Test Files  1 passed (1)
      Tests  2 passed (2)
   Start at  23:30:44
   Duration  222ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 âœ“ lib/api.test.ts (4 tests) 194ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 589ms
     âœ“ renders and loads standards  319ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 1149ms
     âœ“ renders loading state initially  636ms
     âœ“ renders report data successfully  453ms
 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 584ms
     âœ“ renders document details and download button  549ms
 âœ“ app/app/dashboard/page.test.tsx (2 tests) 413ms
     âœ“ renders documents and standards  325ms

 Test Files  5 passed (5)
      Tests  13 passed (13)
   Start at  23:41:11
   Duration  20.78s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x7 


â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 2 errors:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:190:0: ERROR: The character "}" is not valid inside a JSX element
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:191:0: ERROR: Unexpected end of file before a closing "div" tag
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:190:0
  
  The character "}" is not valid inside a JSX element
  188 |                  </div>
  189 |                  );
  190 |  }
      |  ^
  191 |  
  
  Unexpected end of file before a closing "div" tag
  189 |                  );
  190 |  }
  191 |  
      |  ^
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  no tests
   Start at  23:41:49
   Duration  66ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x8 


â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 3 errors:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:150:18: ERROR: Unexpected closing "div" tag does not match opening "main" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:158:10: ERROR: Unexpected closing "main" tag does not match opening "div" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:160:8: ERROR: Expected ")" but found "{"
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:150:18
  
  Unexpected closing "div" tag does not match opening "main" tag
  148 |                              </div>
  149 |                          </div>
  150 |                  </div>
      |                    ^
  151 |              </div>
  152 |  
  
  Unexpected closing "main" tag does not match opening "div" tag
  156 |              </div>
  157 |          </div>
  158 |          </main >
      |            ^
  159 |  
  160 |          {/* Analysis Modal */ }
  
  Expected ")" but found "{"
  158 |          </main >
  159 |  
  160 |          {/* Analysis Modal */ }
      |          ^
  161 |      {
  162 |          selectedDocId && (
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  no tests
   Start at  23:41:51
   Duration  42ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x9 


â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 3 errors:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:162:18: ERROR: Unexpected closing "div" tag does not match opening "main" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:170:10: ERROR: Unexpected closing "main" tag does not match opening "div" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:172:8: ERROR: Expected ")" but found "{"
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:162:18
  
  Unexpected closing "div" tag does not match opening "main" tag
  160 |                              </div>
  161 |                          </div>
  162 |                  </div>
      |                    ^
  163 |              </div>
  164 |  
  
  Unexpected closing "main" tag does not match opening "div" tag
  168 |              </div>
  169 |          </div>
  170 |          </main >
      |            ^
  171 |  
  172 |          {/* Analysis Modal */ }
  
  Expected ")" but found "{"
  170 |          </main >
  171 |  
  172 |          {/* Analysis Modal */ }
      |          ^
  173 |      {
  174 |          selectedDocId && (
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  no tests
   Start at  23:41:53
   Duration  40ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x10 


â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 3 errors:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:164:18: ERROR: Unexpected closing "div" tag does not match opening "main" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:172:10: ERROR: Unexpected closing "main" tag does not match opening "div" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:174:8: ERROR: Expected ")" but found "{"
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:164:18
  
  Unexpected closing "div" tag does not match opening "main" tag
  162 |                              </div>
  163 |                          </div>
  164 |                  </div>
      |                    ^
  165 |              </div>
  166 |  
  
  Unexpected closing "main" tag does not match opening "div" tag
  170 |              </div>
  171 |          </div>
  172 |          </main >
      |            ^
  173 |  
  174 |          {/* Analysis Modal */ }
  
  Expected ")" but found "{"
  172 |          </main >
  173 |  
  174 |          {/* Analysis Modal */ }
      |          ^
  175 |      {
  176 |          selectedDocId && (
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  no tests
   Start at  23:41:54
   Duration  40ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x11 


â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 3 errors:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:164:18: ERROR: Unexpected closing "div" tag does not match opening "main" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:172:10: ERROR: Unexpected closing "main" tag does not match opening "div" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:174:8: ERROR: Expected ")" but found "{"
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:164:18
  
  Unexpected closing "div" tag does not match opening "main" tag
  162 |                              </div>
  163 |                          </div>
  164 |                  </div>
      |                    ^
  165 |              </div>
  166 |  
  
  Unexpected closing "main" tag does not match opening "div" tag
  170 |              </div>
  171 |          </div>
  172 |          </main >
      |            ^
  173 |  
  174 |          {/* Analysis Modal */ }
  
  Expected ")" but found "{"
  172 |          </main >
  173 |  
  174 |          {/* Analysis Modal */ }
      |          ^
  175 |      {
  176 |          selectedDocId && (
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  no tests
   Start at  23:41:55
   Duration  59ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x12 

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Error: [vitest] No "fetchDashboardStats" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadStats [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/dashboard/page.tsx:41:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/dashboard/page.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Error: [vitest] No "fetchDashboardStats" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadStats [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/dashboard/page.tsx:41:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/dashboard/page.tsx:36:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

 âœ“ app/app/dashboard/page.test.tsx (2 tests) 130ms

 Test Files  1 passed (1)
      Tests  2 passed (2)
   Start at  23:42:43
   Duration  424ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x13 

 âœ“ app/app/dashboard/page.test.tsx (2 tests) 107ms

 Test Files  1 passed (1)
      Tests  2 passed (2)
   Start at  23:43:05
   Duration  417ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x14 

 âœ“ app/app/dashboard/page.test.tsx (2 tests) 150ms

 Test Files  1 passed (1)
      Tests  2 passed (2)
   Start at  23:43:08
   Duration  386ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x15 

 âœ“ app/app/dashboard/page.test.tsx (3 tests) 160ms

 Test Files  1 passed (1)
      Tests  3 passed (3)
   Start at  23:43:10
   Duration  408ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x4 

stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
An error occurred in the <DocumentView> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
An error occurred in the <DocumentView> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 2033ms
     Ã— renders document details and download button 1028ms
     Ã— triggers export on button click 1004ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
TestingLibraryElementError: Unable to find an element with the text: Test Document. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:34:15

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
TestingLibraryElementError: Unable to find an element with the text: â¬‡ï¸ Download JSON. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:54:15

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/2]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 2 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
ReferenceError: DocumentPreview is not defined
 â¯ DocumentView app/app/documents/[id]/page.tsx:110:30
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/documents/[id]/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders document details and download button". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
ReferenceError: DocumentPreview is not defined
 â¯ DocumentView app/app/documents/[id]/page.tsx:110:30
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/documents/[id]/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "triggers export on button click". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  1 failed (1)
      Tests  2 failed (2)
     Errors  2 errors
   Start at  23:55:44
   Duration  2.63s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x5 

 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 1 failed) 1035ms
     Ã— renders document details and download button 1022ms
     âœ“ triggers export on button click 12ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
TestingLibraryElementError: Found multiple elements with the text: Test Document

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h1[39m
  [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
[36m>[39m
  [0mTest Document[0m
[36m</h1>[39m

Ignored nodes: comments, script, style
[36m<h3[39m
  [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
  [33mtitle[39m=[32m"Test Document"[39m
[36m>[39m
  [0mTest Document[0m
[36m</h3>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 p-8"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-6xl mx-auto bg-white rounded-lg shadow p-6"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"mb-8 border-b pb-4 flex justify-between items-start"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mTest Document[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4 text-sm text-gray-500"[39m
            [36m>[39m
              [36m<span>[39m
                [0mUploaded: [0m
                [0m1/1/2023[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium"[39m
              [36m>[39m
                [0mANALYZED[0m
              [36m</span>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm text-blue-600 hover:underline flex items-center gap-1"[39m
              [36m>[39m
                [0mâ¬‡ï¸ Download JSON[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<a[39m
            [33mclass[39m=[32m"text-blue-600 hover:text-blue-800 text-sm"[39m
            [33mhref[39m=[32m"/dashboard"[39m
          [36m>[39m
            [0mâ† Back to Dashboard[0m
          [36m</a>[39m
        [36m</header>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-[600px]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-4 py-2 border-b border-gray-200 bg-gray-50 flex justify-between items-center"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
                    [33mtitle[39m=[32m"Test Document"[39m
                  [36m>[39m
                    [0mTest Document[0m
                  [36m</h3>[39m
                  [36m<a[39m
                    [33mclass[39m=[32m"text-xs text-blue-600 hover:underline"[39m
                    [33mhref[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                    [33mrel[39m=[32m"noopener noreferrer"[39m
                    [33mtarget[39m=[32m"_blank"[39m
                  [36m>[39m
                    [0mOpen in new tab[0m
                  [36m</a>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 bg-gray-100 relative"[39m
                [36m>[39m
                  [36m<iframe[39m
                    [33mclass[39m=[32m"absolute inset-0 w-full h-full"[39m
                    [33msrc[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                    [33mtitle[39m=[32m"Preview of Test Document"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border rounded-lg p-4 bg-gray-50"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
              [36m>[39m
                [0mMetadata (JSON)[0m
              [36m</h2>[39m
              [36m<pre[39m
                [33mclass[39m=[32m"bg-gray-900 text-green-400 p-4 rounded overflow-auto text-sm font-mono max-h-60"[39m
              [36m>[39m
                [0m{
  "id": "doc-1",
  "title": "Test Document",
  "status": "ANALYZED",
  "createdAt": "2023-01-01T00:00:00Z"
}[0m
              [36m</pre>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border rounded-lg p-6 bg-white shadow-sm border-blue-100"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold mb-4 flex items-center gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-2xl"[39m
                [36m>[39m
                  [0mğŸ›¡ï¸[0m
                [36m</span>[39m
                [0m Compliance Analyst[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-6"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [36m>[39m
                  [0mSelect ISO Standard[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-2"[39m
                [36m>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0m-- Select Standard --[0m
                    [36m</option>[39m
                  [36m</select>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors opacity-50 cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0mRun Check[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen bg-gray-50 p-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-6xl mx-auto bg-white rounded-lg shadow p-6"[39m
        [36m>[39m
          [36m<header[39m
            [33mclass[39m=[32m"mb-8 border-b pb-4 flex justify-between items-start"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
              [36m>[39m
                [0mTest Document[0m
              [36m</h1>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4 text-sm text-gray-500"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mUploaded: [0m
                  [0m1/1/2023[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium"[39m
                [36m>[39m
                  [0mANALYZED[0m
                [36m</span>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-sm text-blue-600 hover:underline flex items-center gap-1"[39m
                [36m>[39m
                  [0mâ¬‡ï¸ Download JSON[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<a[39m
              [33mclass[39m=[32m"text-blue-600 hover:text-blue-800 text-sm"[39m
              [33mhref[39m=[32m"/dashboard"[39m
            [36m>[39m
              [0mâ† Back to Dashboard[0m
            [36m</a>[39m
          [36m</header>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-[600px]"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-4 py-2 border-b border-gray-200 bg-gray-50 flex justify-between items-center"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
                      [33mtitle[39m=[32m"Test Document"[39m
                    [36m>[39m
                      [0mTest Document[0m
                    [36m</h3>[39m
                    [36m<a[39m
                      [33mclass[39m=[32m"text-xs text-blue-600 hover:underline"[39m
                      [33mhref[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                      [33mrel[39m=[32m"noopener noreferrer"[39m
                      [33mtarget[39m=[32m"_blank"[39m
                    [36m>[39m
                      [0mOpen in new tab[0m
                    [36m</a>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 bg-gray-100 relative"[39m
                  [36m>[39m
                    [36m<iframe[39m
                      [33mclass[39m=[32m"absolute inset-0 w-full h-full"[39m
                      [33msrc[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                      [33mtitle[39m=[32m"Preview of Test Document"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 bg-gray-50"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
                [36m>[39m
                  [0mMetadata (JSON)[0m
                [36m</h2>[39m
                [36m<pre[39m
                  [33mclass[39m=[32m"bg-gray-900 text-green-400 p-4 rounded overflow-auto text-sm font-mono max-h-60"[39m
                [36m>[39m
                  [0m{
  "id": "doc-1",
  "title": "Test Document",
  "status": "ANALYZED",
  "createdAt": "2023-01-01T00:00:00Z"
}[0m
                [36m</pre>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-6 bg-white shadow-sm border-blue-100"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-semibold mb-4 flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-2xl"[39m
                  [36m>[39m
                    [0mğŸ›¡ï¸[0m
                  [36m</span>[39m
                  [0m Compliance Analyst[0m
                [36m</h2>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                  [36m>[39m
                    [0mSelect ISO Standard[0m
                  [36m</label>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-2"[39m
                  [36m>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0m-- Select Standard --[0m
                      [36m</option>[39m
                    [36m</select>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors opacity-50 cursor-not-allowed"[39m
                      [33mdisabled[39m=[32m""[39m
                    [36m>[39m
                      [0mRun Check[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:34:15
     32|         render(<DocumentView />);
     33| 
     34|         await waitFor(() => {
       |               ^
     35|             expect(screen.getByText('Test Document')).toBeDefined();
     36|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  1 failed | 1 passed (2)
   Start at  23:55:47
   Duration  1.43s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.test.tsx x6 

 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 1 failed) 1051ms
     Ã— renders document details and download button 1038ms
     âœ“ triggers export on button click 11ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
TestingLibraryElementError: Found multiple elements with the text: Test Document

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h1[39m
  [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
[36m>[39m
  [0mTest Document[0m
[36m</h1>[39m

Ignored nodes: comments, script, style
[36m<h3[39m
  [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
  [33mtitle[39m=[32m"Test Document"[39m
[36m>[39m
  [0mTest Document[0m
[36m</h3>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 p-8"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-6xl mx-auto bg-white rounded-lg shadow p-6"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"mb-8 border-b pb-4 flex justify-between items-start"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mTest Document[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4 text-sm text-gray-500"[39m
            [36m>[39m
              [36m<span>[39m
                [0mUploaded: [0m
                [0m1/1/2023[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium"[39m
              [36m>[39m
                [0mANALYZED[0m
              [36m</span>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm text-blue-600 hover:underline flex items-center gap-1"[39m
              [36m>[39m
                [0mâ¬‡ï¸ Download JSON[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<a[39m
            [33mclass[39m=[32m"text-blue-600 hover:text-blue-800 text-sm"[39m
            [33mhref[39m=[32m"/dashboard"[39m
          [36m>[39m
            [0mâ† Back to Dashboard[0m
          [36m</a>[39m
        [36m</header>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-[600px]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-4 py-2 border-b border-gray-200 bg-gray-50 flex justify-between items-center"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
                    [33mtitle[39m=[32m"Test Document"[39m
                  [36m>[39m
                    [0mTest Document[0m
                  [36m</h3>[39m
                  [36m<a[39m
                    [33mclass[39m=[32m"text-xs text-blue-600 hover:underline"[39m
                    [33mhref[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                    [33mrel[39m=[32m"noopener noreferrer"[39m
                    [33mtarget[39m=[32m"_blank"[39m
                  [36m>[39m
                    [0mOpen in new tab[0m
                  [36m</a>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 bg-gray-100 relative"[39m
                [36m>[39m
                  [36m<iframe[39m
                    [33mclass[39m=[32m"absolute inset-0 w-full h-full"[39m
                    [33msrc[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                    [33mtitle[39m=[32m"Preview of Test Document"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border rounded-lg p-4 bg-gray-50"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
              [36m>[39m
                [0mMetadata (JSON)[0m
              [36m</h2>[39m
              [36m<pre[39m
                [33mclass[39m=[32m"bg-gray-900 text-green-400 p-4 rounded overflow-auto text-sm font-mono max-h-60"[39m
              [36m>[39m
                [0m{
  "id": "doc-1",
  "title": "Test Document",
  "status": "ANALYZED",
  "createdAt": "2023-01-01T00:00:00Z"
}[0m
              [36m</pre>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border rounded-lg p-6 bg-white shadow-sm border-blue-100"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold mb-4 flex items-center gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-2xl"[39m
                [36m>[39m
                  [0mğŸ›¡ï¸[0m
                [36m</span>[39m
                [0m Compliance Analyst[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-6"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [36m>[39m
                  [0mSelect ISO Standard[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-2"[39m
                [36m>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0m-- Select Standard --[0m
                    [36m</option>[39m
                  [36m</select>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors opacity-50 cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0mRun Check[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen bg-gray-50 p-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-6xl mx-auto bg-white rounded-lg shadow p-6"[39m
        [36m>[39m
          [36m<header[39m
            [33mclass[39m=[32m"mb-8 border-b pb-4 flex justify-between items-start"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
              [36m>[39m
                [0mTest Document[0m
              [36m</h1>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4 text-sm text-gray-500"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mUploaded: [0m
                  [0m1/1/2023[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium"[39m
                [36m>[39m
                  [0mANALYZED[0m
                [36m</span>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-sm text-blue-600 hover:underline flex items-center gap-1"[39m
                [36m>[39m
                  [0mâ¬‡ï¸ Download JSON[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<a[39m
              [33mclass[39m=[32m"text-blue-600 hover:text-blue-800 text-sm"[39m
              [33mhref[39m=[32m"/dashboard"[39m
            [36m>[39m
              [0mâ† Back to Dashboard[0m
            [36m</a>[39m
          [36m</header>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-[600px]"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-4 py-2 border-b border-gray-200 bg-gray-50 flex justify-between items-center"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
                      [33mtitle[39m=[32m"Test Document"[39m
                    [36m>[39m
                      [0mTest Document[0m
                    [36m</h3>[39m
                    [36m<a[39m
                      [33mclass[39m=[32m"text-xs text-blue-600 hover:underline"[39m
                      [33mhref[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                      [33mrel[39m=[32m"noopener noreferrer"[39m
                      [33mtarget[39m=[32m"_blank"[39m
                    [36m>[39m
                      [0mOpen in new tab[0m
                    [36m</a>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 bg-gray-100 relative"[39m
                  [36m>[39m
                    [36m<iframe[39m
                      [33mclass[39m=[32m"absolute inset-0 w-full h-full"[39m
                      [33msrc[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                      [33mtitle[39m=[32m"Preview of Test Document"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 bg-gray-50"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
                [36m>[39m
                  [0mMetadata (JSON)[0m
                [36m</h2>[39m
                [36m<pre[39m
                  [33mclass[39m=[32m"bg-gray-900 text-green-400 p-4 rounded overflow-auto text-sm font-mono max-h-60"[39m
                [36m>[39m
                  [0m{
  "id": "doc-1",
  "title": "Test Document",
  "status": "ANALYZED",
  "createdAt": "2023-01-01T00:00:00Z"
}[0m
                [36m</pre>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-6 bg-white shadow-sm border-blue-100"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-semibold mb-4 flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-2xl"[39m
                  [36m>[39m
                    [0mğŸ›¡ï¸[0m
                  [36m</span>[39m
                  [0m Compliance Analyst[0m
                [36m</h2>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                  [36m>[39m
                    [0mSelect ISO Standard[0m
                  [36m</label>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-2"[39m
                  [36m>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0m-- Select Standard --[0m
                      [36m</option>[39m
                    [36m</select>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors opacity-50 cursor-not-allowed"[39m
                      [33mdisabled[39m=[32m""[39m
                    [36m>[39m
                      [0mRun Check[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:34:15
     32|         render(<DocumentView />);
     33| 
     34|         await waitFor(() => {
       |               ^
     35|             expect(screen.getByText('Test Document')).toBeDefined();
     36|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  1 failed | 1 passed (2)
   Start at  23:56:01
   Duration  1.43s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x7 

stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
Failed to fetch standards ReferenceError: fetchIsoStandards is not defined
    at loadStandards [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:46:26[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:29:13
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15519:11[90m)[39m
    at flushPassiveEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:18432:9[90m)[39m

stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
An error occurred in the <DocumentView> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Failed to fetch standards ReferenceError: fetchIsoStandards is not defined
    at loadStandards [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:46:26[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:29:13
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15519:11[90m)[39m
    at flushPassiveEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:18432:9[90m)[39m

stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
An error occurred in the <DocumentView> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 2023ms
     Ã— renders document details and download button 1017ms
     Ã— triggers export on button click 1005ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
TestingLibraryElementError: Unable to find an element with the text: Test Document. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:34:15

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
TestingLibraryElementError: Unable to find an element with the text: â¬‡ï¸ Download JSON. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:55:15

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/2]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 2 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
ReferenceError: runComplianceCheck is not defined
 â¯ DocumentView app/app/documents/[id]/page.tsx:136:50
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/documents/[id]/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders document details and download button". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
ReferenceError: runComplianceCheck is not defined
 â¯ DocumentView app/app/documents/[id]/page.tsx:136:50
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/documents/[id]/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "triggers export on button click". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  1 failed (1)
      Tests  2 failed (2)
     Errors  2 errors
   Start at  23:57:00
   Duration  2.45s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x8 

stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
Failed to fetch standards Error: [vitest] No "fetchIsoStandards" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadStandards [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:46:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:29:13
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
Failed to fetch standards Error: [vitest] No "fetchIsoStandards" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadStandards [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:46:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:29:13
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Failed to fetch standards Error: [vitest] No "fetchIsoStandards" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadStandards [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:46:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:29:13
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Failed to fetch standards Error: [vitest] No "fetchIsoStandards" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadStandards [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:46:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mapp/app/documents/[id]/page.tsx:29:13
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 1 failed) 1035ms
     Ã— renders document details and download button 1023ms
     âœ“ triggers export on button click 11ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
TestingLibraryElementError: Found multiple elements with the text: Test Document

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h1[39m
  [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
[36m>[39m
  [0mTest Document[0m
[36m</h1>[39m

Ignored nodes: comments, script, style
[36m<h3[39m
  [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
  [33mtitle[39m=[32m"Test Document"[39m
[36m>[39m
  [0mTest Document[0m
[36m</h3>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 p-8"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-6xl mx-auto bg-white rounded-lg shadow p-6"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"mb-8 border-b pb-4 flex justify-between items-start"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mTest Document[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4 text-sm text-gray-500"[39m
            [36m>[39m
              [36m<span>[39m
                [0mUploaded: [0m
                [0m1/1/2023[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium"[39m
              [36m>[39m
                [0mANALYZED[0m
              [36m</span>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm text-blue-600 hover:underline flex items-center gap-1"[39m
              [36m>[39m
                [0mâ¬‡ï¸ Download JSON[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<a[39m
            [33mclass[39m=[32m"text-blue-600 hover:text-blue-800 text-sm"[39m
            [33mhref[39m=[32m"/dashboard"[39m
          [36m>[39m
            [0mâ† Back to Dashboard[0m
          [36m</a>[39m
        [36m</header>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-[600px]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-4 py-2 border-b border-gray-200 bg-gray-50 flex justify-between items-center"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
                    [33mtitle[39m=[32m"Test Document"[39m
                  [36m>[39m
                    [0mTest Document[0m
                  [36m</h3>[39m
                  [36m<a[39m
                    [33mclass[39m=[32m"text-xs text-blue-600 hover:underline"[39m
                    [33mhref[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                    [33mrel[39m=[32m"noopener noreferrer"[39m
                    [33mtarget[39m=[32m"_blank"[39m
                  [36m>[39m
                    [0mOpen in new tab[0m
                  [36m</a>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 bg-gray-100 relative"[39m
                [36m>[39m
                  [36m<iframe[39m
                    [33mclass[39m=[32m"absolute inset-0 w-full h-full"[39m
                    [33msrc[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                    [33mtitle[39m=[32m"Preview of Test Document"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border rounded-lg p-4 bg-gray-50"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
              [36m>[39m
                [0mMetadata (JSON)[0m
              [36m</h2>[39m
              [36m<pre[39m
                [33mclass[39m=[32m"bg-gray-900 text-green-400 p-4 rounded overflow-auto text-sm font-mono max-h-60"[39m
              [36m>[39m
                [0m{
  "id": "doc-1",
  "title": "Test Document",
  "status": "ANALYZED",
  "createdAt": "2023-01-01T00:00:00Z"
}[0m
              [36m</pre>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border rounded-lg p-6 bg-white shadow-sm border-blue-100"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold mb-4 flex items-center gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-2xl"[39m
                [36m>[39m
                  [0mğŸ›¡ï¸[0m
                [36m</span>[39m
                [0m Compliance Analyst[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-6"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [36m>[39m
                  [0mSelect ISO Standard[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-2"[39m
                [36m>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0m-- Select Standard --[0m
                    [36m</option>[39m
                  [36m</select>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors opacity-50 cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0mRun Check[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen bg-gray-50 p-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-6xl mx-auto bg-white rounded-lg shadow p-6"[39m
        [36m>[39m
          [36m<header[39m
            [33mclass[39m=[32m"mb-8 border-b pb-4 flex justify-between items-start"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
              [36m>[39m
                [0mTest Document[0m
              [36m</h1>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4 text-sm text-gray-500"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mUploaded: [0m
                  [0m1/1/2023[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium"[39m
                [36m>[39m
                  [0mANALYZED[0m
                [36m</span>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-sm text-blue-600 hover:underline flex items-center gap-1"[39m
                [36m>[39m
                  [0mâ¬‡ï¸ Download JSON[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<a[39m
              [33mclass[39m=[32m"text-blue-600 hover:text-blue-800 text-sm"[39m
              [33mhref[39m=[32m"/dashboard"[39m
            [36m>[39m
              [0mâ† Back to Dashboard[0m
            [36m</a>[39m
          [36m</header>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-[600px]"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-4 py-2 border-b border-gray-200 bg-gray-50 flex justify-between items-center"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
                      [33mtitle[39m=[32m"Test Document"[39m
                    [36m>[39m
                      [0mTest Document[0m
                    [36m</h3>[39m
                    [36m<a[39m
                      [33mclass[39m=[32m"text-xs text-blue-600 hover:underline"[39m
                      [33mhref[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                      [33mrel[39m=[32m"noopener noreferrer"[39m
                      [33mtarget[39m=[32m"_blank"[39m
                    [36m>[39m
                      [0mOpen in new tab[0m
                    [36m</a>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 bg-gray-100 relative"[39m
                  [36m>[39m
                    [36m<iframe[39m
                      [33mclass[39m=[32m"absolute inset-0 w-full h-full"[39m
                      [33msrc[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                      [33mtitle[39m=[32m"Preview of Test Document"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 bg-gray-50"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
                [36m>[39m
                  [0mMetadata (JSON)[0m
                [36m</h2>[39m
                [36m<pre[39m
                  [33mclass[39m=[32m"bg-gray-900 text-green-400 p-4 rounded overflow-auto text-sm font-mono max-h-60"[39m
                [36m>[39m
                  [0m{
  "id": "doc-1",
  "title": "Test Document",
  "status": "ANALYZED",
  "createdAt": "2023-01-01T00:00:00Z"
}[0m
                [36m</pre>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-6 bg-white shadow-sm border-blue-100"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-semibold mb-4 flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-2xl"[39m
                  [36m>[39m
                    [0mğŸ›¡ï¸[0m
                  [36m</span>[39m
                  [0m Compliance Analyst[0m
                [36m</h2>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                  [36m>[39m
                    [0mSelect ISO Standard[0m
                  [36m</label>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-2"[39m
                  [36m>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0m-- Select Standard --[0m
                      [36m</option>[39m
                    [36m</select>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors opacity-50 cursor-not-allowed"[39m
                      [33mdisabled[39m=[32m""[39m
                    [36m>[39m
                      [0mRun Check[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:34:15
     32|         render(<DocumentView />);
     33| 
     34|         await waitFor(() => {
       |               ^
     35|             expect(screen.getByText('Test Document')).toBeDefined();
     36|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  1 failed | 1 passed (2)
   Start at  23:57:03
   Duration  1.36s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.test.tsx x9 

stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
An error occurred in the <DocumentView> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
An error occurred in the <DocumentView> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 2022ms
     Ã— renders document details and download button 1018ms
     Ã— triggers export on button click 1003ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
TestingLibraryElementError: Unable to find an element with the text: Test Document. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:36:15

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
TestingLibraryElementError: Unable to find an element with the text: â¬‡ï¸ Download JSON. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:57:15

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/2]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 2 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'map')
 â¯ DocumentView app/app/documents/[id]/page.tsx:131:52
    129|                                     >
    130|                                         <option value="">-- Select Staâ€¦
    131|                                         {standards.map(std => (
       |                                                    ^
    132|                                             <option key={std.id} valueâ€¦
    133|                                         ))}
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/documents/[id]/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders document details and download button". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'map')
 â¯ DocumentView app/app/documents/[id]/page.tsx:131:52
    129|                                     >
    130|                                         <option value="">-- Select Staâ€¦
    131|                                         {standards.map(std => (
       |                                                    ^
    132|                                             <option key={std.id} valueâ€¦
    133|                                         ))}
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/documents/[id]/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "triggers export on button click". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  1 failed (1)
      Tests  2 failed (2)
     Errors  2 errors
   Start at  23:57:15
   Duration  2.38s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.test.tsx x10 

stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
An error occurred in the <DocumentView> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
An error occurred in the <DocumentView> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 2022ms
     Ã— renders document details and download button 1019ms
     Ã— triggers export on button click 1002ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
TestingLibraryElementError: Unable to find an element with the text: Test Document. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:36:15
     34|         render(<DocumentView />);
     35| 
     36|         await waitFor(() => {
       |               ^
     37|             expect(screen.getByText('Test Document')).toBeDefined();
     38|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
TestingLibraryElementError: Unable to find an element with the text: â¬‡ï¸ Download JSON. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:57:15
     55|         render(<DocumentView />);
     56| 
     57|         await waitFor(() => {
       |               ^
     58|             expect(screen.getByText('â¬‡ï¸ Download JSON')).toBeDefined();
     59|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/2]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 2 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'map')
 â¯ DocumentView app/app/documents/[id]/page.tsx:131:52
    129|                                     >
    130|                                         <option value="">-- Select Staâ€¦
    131|                                         {standards.map(std => (
       |                                                    ^
    132|                                             <option key={std.id} valueâ€¦
    133|                                         ))}
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/documents/[id]/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders document details and download button". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'map')
 â¯ DocumentView app/app/documents/[id]/page.tsx:131:52
    129|                                     >
    130|                                         <option value="">-- Select Staâ€¦
    131|                                         {standards.map(std => (
       |                                                    ^
    132|                                             <option key={std.id} valueâ€¦
    133|                                         ))}
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/documents/[id]/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "triggers export on button click". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  1 failed (1)
      Tests  2 failed (2)
     Errors  2 errors
   Start at  23:57:18
   Duration  2.36s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.test.tsx x11 

 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 1 failed) 1023ms
     Ã— renders document details and download button 1011ms
     âœ“ triggers export on button click 11ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
TestingLibraryElementError: Found multiple elements with the text: Test Document

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h1[39m
  [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
[36m>[39m
  [0mTest Document[0m
[36m</h1>[39m

Ignored nodes: comments, script, style
[36m<h3[39m
  [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
  [33mtitle[39m=[32m"Test Document"[39m
[36m>[39m
  [0mTest Document[0m
[36m</h3>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 p-8"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-6xl mx-auto bg-white rounded-lg shadow p-6"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"mb-8 border-b pb-4 flex justify-between items-start"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mTest Document[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4 text-sm text-gray-500"[39m
            [36m>[39m
              [36m<span>[39m
                [0mUploaded: [0m
                [0m1/1/2023[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium"[39m
              [36m>[39m
                [0mANALYZED[0m
              [36m</span>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm text-blue-600 hover:underline flex items-center gap-1"[39m
              [36m>[39m
                [0mâ¬‡ï¸ Download JSON[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<a[39m
            [33mclass[39m=[32m"text-blue-600 hover:text-blue-800 text-sm"[39m
            [33mhref[39m=[32m"/dashboard"[39m
          [36m>[39m
            [0mâ† Back to Dashboard[0m
          [36m</a>[39m
        [36m</header>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-[600px]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-4 py-2 border-b border-gray-200 bg-gray-50 flex justify-between items-center"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
                    [33mtitle[39m=[32m"Test Document"[39m
                  [36m>[39m
                    [0mTest Document[0m
                  [36m</h3>[39m
                  [36m<a[39m
                    [33mclass[39m=[32m"text-xs text-blue-600 hover:underline"[39m
                    [33mhref[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                    [33mrel[39m=[32m"noopener noreferrer"[39m
                    [33mtarget[39m=[32m"_blank"[39m
                  [36m>[39m
                    [0mOpen in new tab[0m
                  [36m</a>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 bg-gray-100 relative"[39m
                [36m>[39m
                  [36m<iframe[39m
                    [33mclass[39m=[32m"absolute inset-0 w-full h-full"[39m
                    [33msrc[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                    [33mtitle[39m=[32m"Preview of Test Document"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border rounded-lg p-4 bg-gray-50"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
              [36m>[39m
                [0mMetadata (JSON)[0m
              [36m</h2>[39m
              [36m<pre[39m
                [33mclass[39m=[32m"bg-gray-900 text-green-400 p-4 rounded overflow-auto text-sm font-mono max-h-60"[39m
              [36m>[39m
                [0m{
  "id": "doc-1",
  "title": "Test Document",
  "status": "ANALYZED",
  "createdAt": "2023-01-01T00:00:00Z"
}[0m
              [36m</pre>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border rounded-lg p-6 bg-white shadow-sm border-blue-100"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold mb-4 flex items-center gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-2xl"[39m
                [36m>[39m
                  [0mğŸ›¡ï¸[0m
                [36m</span>[39m
                [0m Compliance Analyst[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-6"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [36m>[39m
                  [0mSelect ISO Standard[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-2"[39m
                [36m>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0m-- Select Standard --[0m
                    [36m</option>[39m
                  [36m</select>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors opacity-50 cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0mRun Check[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen bg-gray-50 p-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-6xl mx-auto bg-white rounded-lg shadow p-6"[39m
        [36m>[39m
          [36m<header[39m
            [33mclass[39m=[32m"mb-8 border-b pb-4 flex justify-between items-start"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
              [36m>[39m
                [0mTest Document[0m
              [36m</h1>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4 text-sm text-gray-500"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mUploaded: [0m
                  [0m1/1/2023[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium"[39m
                [36m>[39m
                  [0mANALYZED[0m
                [36m</span>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-sm text-blue-600 hover:underline flex items-center gap-1"[39m
                [36m>[39m
                  [0mâ¬‡ï¸ Download JSON[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<a[39m
              [33mclass[39m=[32m"text-blue-600 hover:text-blue-800 text-sm"[39m
              [33mhref[39m=[32m"/dashboard"[39m
            [36m>[39m
              [0mâ† Back to Dashboard[0m
            [36m</a>[39m
          [36m</header>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-[600px]"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-4 py-2 border-b border-gray-200 bg-gray-50 flex justify-between items-center"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
                      [33mtitle[39m=[32m"Test Document"[39m
                    [36m>[39m
                      [0mTest Document[0m
                    [36m</h3>[39m
                    [36m<a[39m
                      [33mclass[39m=[32m"text-xs text-blue-600 hover:underline"[39m
                      [33mhref[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                      [33mrel[39m=[32m"noopener noreferrer"[39m
                      [33mtarget[39m=[32m"_blank"[39m
                    [36m>[39m
                      [0mOpen in new tab[0m
                    [36m</a>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 bg-gray-100 relative"[39m
                  [36m>[39m
                    [36m<iframe[39m
                      [33mclass[39m=[32m"absolute inset-0 w-full h-full"[39m
                      [33msrc[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                      [33mtitle[39m=[32m"Preview of Test Document"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 bg-gray-50"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
                [36m>[39m
                  [0mMetadata (JSON)[0m
                [36m</h2>[39m
                [36m<pre[39m
                  [33mclass[39m=[32m"bg-gray-900 text-green-400 p-4 rounded overflow-auto text-sm font-mono max-h-60"[39m
                [36m>[39m
                  [0m{
  "id": "doc-1",
  "title": "Test Document",
  "status": "ANALYZED",
  "createdAt": "2023-01-01T00:00:00Z"
}[0m
                [36m</pre>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-6 bg-white shadow-sm border-blue-100"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-semibold mb-4 flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-2xl"[39m
                  [36m>[39m
                    [0mğŸ›¡ï¸[0m
                  [36m</span>[39m
                  [0m Compliance Analyst[0m
                [36m</h2>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                  [36m>[39m
                    [0mSelect ISO Standard[0m
                  [36m</label>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-2"[39m
                  [36m>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0m-- Select Standard --[0m
                      [36m</option>[39m
                    [36m</select>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors opacity-50 cursor-not-allowed"[39m
                      [33mdisabled[39m=[32m""[39m
                    [36m>[39m
                      [0mRun Check[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:37:15
     35|         render(<DocumentView />);
     36| 
     37|         await waitFor(() => {
       |               ^
     38|             expect(screen.getByText('Test Document')).toBeDefined();
     39|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  1 failed | 1 passed (2)
   Start at  23:57:43
   Duration  1.52s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x12 

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
loadDocument called with doc-1

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
fetchDocument resolved {
  id: [32m'doc-1'[39m,
  title: [32m'Test Document'[39m,
  status: [32m'ANALYZED'[39m,
  createdAt: [32m'2023-01-01T00:00:00Z'[39m
}
setLoading false

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
loadDocument called with doc-1

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
fetchDocument resolved {
  id: [32m'doc-1'[39m,
  title: [32m'Test Document'[39m,
  status: [32m'ANALYZED'[39m,
  createdAt: [32m'2023-01-01T00:00:00Z'[39m
}
setLoading false

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
loadDocument called with doc-1

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
fetchDocument resolved {
  id: [32m'doc-1'[39m,
  title: [32m'Test Document'[39m,
  status: [32m'ANALYZED'[39m,
  createdAt: [32m'2023-01-01T00:00:00Z'[39m
}
setLoading false

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
loadDocument called with doc-1

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
fetchDocument resolved {
  id: [32m'doc-1'[39m,
  title: [32m'Test Document'[39m,
  status: [32m'ANALYZED'[39m,
  createdAt: [32m'2023-01-01T00:00:00Z'[39m
}
setLoading false

 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 1 failed) 1098ms
     Ã— renders document details and download button 1075ms
     âœ“ triggers export on button click 21ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
TestingLibraryElementError: Found multiple elements with the text: Test Document

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h1[39m
  [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
[36m>[39m
  [0mTest Document[0m
[36m</h1>[39m

Ignored nodes: comments, script, style
[36m<h3[39m
  [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
  [33mtitle[39m=[32m"Test Document"[39m
[36m>[39m
  [0mTest Document[0m
[36m</h3>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"min-h-screen bg-gray-50 p-8"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-6xl mx-auto bg-white rounded-lg shadow p-6"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"mb-8 border-b pb-4 flex justify-between items-start"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mTest Document[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4 text-sm text-gray-500"[39m
            [36m>[39m
              [36m<span>[39m
                [0mUploaded: [0m
                [0m1/1/2023[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium"[39m
              [36m>[39m
                [0mANALYZED[0m
              [36m</span>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm text-blue-600 hover:underline flex items-center gap-1"[39m
              [36m>[39m
                [0mâ¬‡ï¸ Download JSON[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<a[39m
            [33mclass[39m=[32m"text-blue-600 hover:text-blue-800 text-sm"[39m
            [33mhref[39m=[32m"/dashboard"[39m
          [36m>[39m
            [0mâ† Back to Dashboard[0m
          [36m</a>[39m
        [36m</header>[39m
        [36m<div[39m
          [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-8"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-[600px]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-4 py-2 border-b border-gray-200 bg-gray-50 flex justify-between items-center"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
                    [33mtitle[39m=[32m"Test Document"[39m
                  [36m>[39m
                    [0mTest Document[0m
                  [36m</h3>[39m
                  [36m<a[39m
                    [33mclass[39m=[32m"text-xs text-blue-600 hover:underline"[39m
                    [33mhref[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                    [33mrel[39m=[32m"noopener noreferrer"[39m
                    [33mtarget[39m=[32m"_blank"[39m
                  [36m>[39m
                    [0mOpen in new tab[0m
                  [36m</a>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 bg-gray-100 relative"[39m
                [36m>[39m
                  [36m<iframe[39m
                    [33mclass[39m=[32m"absolute inset-0 w-full h-full"[39m
                    [33msrc[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                    [33mtitle[39m=[32m"Preview of Test Document"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border rounded-lg p-4 bg-gray-50"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
              [36m>[39m
                [0mMetadata (JSON)[0m
              [36m</h2>[39m
              [36m<pre[39m
                [33mclass[39m=[32m"bg-gray-900 text-green-400 p-4 rounded overflow-auto text-sm font-mono max-h-60"[39m
              [36m>[39m
                [0m{
  "id": "doc-1",
  "title": "Test Document",
  "status": "ANALYZED",
  "createdAt": "2023-01-01T00:00:00Z"
}[0m
              [36m</pre>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border rounded-lg p-6 bg-white shadow-sm border-blue-100"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold mb-4 flex items-center gap-2"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-2xl"[39m
                [36m>[39m
                  [0mğŸ›¡ï¸[0m
                [36m</span>[39m
                [0m Compliance Analyst[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-6"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                [36m>[39m
                  [0mSelect ISO Standard[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-2"[39m
                [36m>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0m-- Select Standard --[0m
                    [36m</option>[39m
                  [36m</select>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors opacity-50 cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0mRun Check[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"min-h-screen bg-gray-50 p-8"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-6xl mx-auto bg-white rounded-lg shadow p-6"[39m
        [36m>[39m
          [36m<header[39m
            [33mclass[39m=[32m"mb-8 border-b pb-4 flex justify-between items-start"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-gray-900 mb-2"[39m
              [36m>[39m
                [0mTest Document[0m
              [36m</h1>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-4 text-sm text-gray-500"[39m
              [36m>[39m
                [36m<span>[39m
                  [0mUploaded: [0m
                  [0m1/1/2023[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium"[39m
                [36m>[39m
                  [0mANALYZED[0m
                [36m</span>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-sm text-blue-600 hover:underline flex items-center gap-1"[39m
                [36m>[39m
                  [0mâ¬‡ï¸ Download JSON[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<a[39m
              [33mclass[39m=[32m"text-blue-600 hover:text-blue-800 text-sm"[39m
              [33mhref[39m=[32m"/dashboard"[39m
            [36m>[39m
              [0mâ† Back to Dashboard[0m
            [36m</a>[39m
          [36m</header>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-2 gap-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-[600px]"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"h-full flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-4 py-2 border-b border-gray-200 bg-gray-50 flex justify-between items-center"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"font-medium text-gray-700 truncate"[39m
                      [33mtitle[39m=[32m"Test Document"[39m
                    [36m>[39m
                      [0mTest Document[0m
                    [36m</h3>[39m
                    [36m<a[39m
                      [33mclass[39m=[32m"text-xs text-blue-600 hover:underline"[39m
                      [33mhref[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                      [33mrel[39m=[32m"noopener noreferrer"[39m
                      [33mtarget[39m=[32m"_blank"[39m
                    [36m>[39m
                      [0mOpen in new tab[0m
                    [36m</a>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 bg-gray-100 relative"[39m
                  [36m>[39m
                    [36m<iframe[39m
                      [33mclass[39m=[32m"absolute inset-0 w-full h-full"[39m
                      [33msrc[39m=[32m"http://localhost:3002/documents/doc-1/content"[39m
                      [33mtitle[39m=[32m"Preview of Test Document"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-4 bg-gray-50"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-semibold mb-4"[39m
                [36m>[39m
                  [0mMetadata (JSON)[0m
                [36m</h2>[39m
                [36m<pre[39m
                  [33mclass[39m=[32m"bg-gray-900 text-green-400 p-4 rounded overflow-auto text-sm font-mono max-h-60"[39m
                [36m>[39m
                  [0m{
  "id": "doc-1",
  "title": "Test Document",
  "status": "ANALYZED",
  "createdAt": "2023-01-01T00:00:00Z"
}[0m
                [36m</pre>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border rounded-lg p-6 bg-white shadow-sm border-blue-100"[39m
              [36m>[39m
                [36m<h2[39m
                  [33mclass[39m=[32m"text-xl font-semibold mb-4 flex items-center gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-2xl"[39m
                  [36m>[39m
                    [0mğŸ›¡ï¸[0m
                  [36m</span>[39m
                  [0m Compliance Analyst[0m
                [36m</h2>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-6"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
                  [36m>[39m
                    [0mSelect ISO Standard[0m
                  [36m</label>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-2"[39m
                  [36m>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"flex-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0m-- Select Standard --[0m
                      [36m</option>[39m
                    [36m</select>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors opacity-50 cursor-not-allowed"[39m
                      [33mdisabled[39m=[32m""[39m
                    [36m>[39m
                      [0mRun Check[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/[id]/page.test.tsx:37:15
     35|         render(<DocumentView />);
     36| 
     37|         await waitFor(() => {
       |               ^
     38|             expect(screen.getByText('Test Document')).toBeDefined();
     39|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  1 failed | 1 passed (2)
   Start at  23:58:32
   Duration  2.60s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.test.tsx x13 

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
loadDocument called with doc-1

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
fetchDocument resolved {
  id: [32m'doc-1'[39m,
  title: [32m'Test Document'[39m,
  status: [32m'ANALYZED'[39m,
  createdAt: [32m'2023-01-01T00:00:00Z'[39m
}
setLoading false

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
loadDocument called with doc-1

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
fetchDocument resolved {
  id: [32m'doc-1'[39m,
  title: [32m'Test Document'[39m,
  status: [32m'ANALYZED'[39m,
  createdAt: [32m'2023-01-01T00:00:00Z'[39m
}
setLoading false

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
loadDocument called with doc-1

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
fetchDocument resolved {
  id: [32m'doc-1'[39m,
  title: [32m'Test Document'[39m,
  status: [32m'ANALYZED'[39m,
  createdAt: [32m'2023-01-01T00:00:00Z'[39m
}
setLoading false

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
loadDocument called with doc-1

stdout | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
fetchDocument resolved {
  id: [32m'doc-1'[39m,
  title: [32m'Test Document'[39m,
  status: [32m'ANALYZED'[39m,
  createdAt: [32m'2023-01-01T00:00:00Z'[39m
}
setLoading false

 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 349ms
     âœ“ renders document details and download button  325ms

 Test Files  1 passed (1)
      Tests  2 passed (2)
   Start at  23:59:37
   Duration  1.13s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x14 

 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 751ms
     âœ“ renders document details and download button  711ms

 Test Files  1 passed (1)
      Tests  2 passed (2)
   Start at  00:00:04
   Duration  1.21s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 âœ“ lib/api.test.ts (4 tests) 252ms
 âœ“ app/app/dashboard/page.test.tsx (3 tests) 857ms
     âœ“ opens analysis modal and runs check  666ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 102ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 132ms
 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 712ms
     âœ“ renders document details and download button  676ms

 Test Files  5 passed (5)
      Tests  14 passed (14)
   Start at  00:06:27
   Duration  23.91s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x17 

 âœ“ app/app/dashboard/page.test.tsx (3 tests) 173ms

 Test Files  1 passed (1)
      Tests  3 passed (3)
   Start at  00:06:50
   Duration  701ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x18 

 âœ“ app/app/dashboard/page.test.tsx (3 tests) 157ms

 Test Files  1 passed (1)
      Tests  3 passed (3)
   Start at  00:06:52
   Duration  503ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/SearchBar.tsx x19 

 â¯ app/app/dashboard/page.test.tsx (3 tests | 3 failed) 66ms
     Ã— renders documents and standards 58ms
     Ã— renders dashboard widgets 4ms
     Ã— opens analysis modal and runs check 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 3 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
ReferenceError: useEffect is not defined
 â¯ SearchBar app/components/SearchBar.tsx:11:5
      9|     const router = useRouter();
     10| 
     11|     useEffect(() => {
       |     ^
     12|         const delayDebounceFn = setTimeout(() => {
     13|             if (query.trim()) {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/3]â¯


 Test Files  1 failed (1)
      Tests  3 failed (3)
   Start at  00:08:37
   Duration  516ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/SearchBar.tsx x20 

 â¯ app/app/dashboard/page.test.tsx (3 tests | 3 failed) 40ms
     Ã— renders documents and standards 12ms
     Ã— renders dashboard widgets 26ms
     Ã— opens analysis modal and runs check 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 3 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
ReferenceError: useEffect is not defined
 â¯ SearchBar app/components/SearchBar.tsx:11:5
      9|     const router = useRouter();
     10| 
     11|     useEffect(() => {
       |     ^
     12|         const delayDebounceFn = setTimeout(() => {
     13|             if (query.trim()) {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/3]â¯


 Test Files  1 failed (1)
      Tests  3 failed (3)
   Start at  00:08:39
   Duration  355ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/SearchBar.tsx x21 

 âœ“ app/app/dashboard/page.test.tsx (3 tests) 193ms

 Test Files  1 passed (1)
      Tests  3 passed (3)
   Start at  00:08:41
   Duration  439ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x22 

 â¯ app/app/dashboard/page.test.tsx (3 tests | 3 failed) 86ms
     Ã— renders documents and standards 10ms
     Ã— renders dashboard widgets 70ms
     Ã— opens analysis modal and runs check 4ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 3 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
ReferenceError: Sidebar is not defined
 â¯ Dashboard app/app/dashboard/page.tsx:95:14
     93|     return (
     94|         <div className="flex min-h-screen bg-gray-50">
     95|             <Sidebar />
       |              ^
     96| 
     97|             <div className="flex-1 flex flex-col">
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/3]â¯


 Test Files  1 failed (1)
      Tests  3 failed (3)
   Start at  00:11:09
   Duration  970ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x23 

 â¯ app/app/dashboard/page.test.tsx (3 tests | 3 failed) 16ms
     Ã— renders documents and standards 12ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 3 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Error: [vitest] No "usePathname" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ Sidebar app/components/Sidebar.tsx:6:22
      4| 
      5| export default function Sidebar() {
      6|     const pathname = usePathname();
       |                      ^
      7| 
      8|     const menuItems = [
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/3]â¯


 Test Files  1 failed (1)
      Tests  3 failed (3)
   Start at  00:11:12
   Duration  546ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x24 

 â¯ app/app/dashboard/page.test.tsx (3 tests | 3 failed) 28ms
     Ã— renders documents and standards 21ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 3 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Error: [vitest] No "usePathname" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ Sidebar app/components/Sidebar.tsx:6:22
      4| 
      5| export default function Sidebar() {
      6|     const pathname = usePathname();
       |                      ^
      7| 
      8|     const menuItems = [
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/3]â¯


 Test Files  1 failed (1)
      Tests  3 failed (3)
   Start at  00:11:30
   Duration  654ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x25 

 â¯ app/app/dashboard/page.test.tsx (3 tests | 1 failed) 1305ms
     âœ“ renders documents and standards 210ms
     âœ“ renders dashboard widgets 36ms
     Ã— opens analysis modal and runs check 1039ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
TestingLibraryElementError: Unable to find an element with the text: Analyze. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
            [36m>[39m
              [0mğŸ””[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mTotal Documents[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0m10[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAnalyzed[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                [36m>[39m
                  [0m5[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAvg. Compliance Score[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                [36m>[39m
                  [0m85[0m
                  [0m%[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr[39m
                          [33mclass[39m=[32m"hover:bg-gray-50 transition-colors"[39m
                        [36m>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex items-center"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"flex-shrink-0 h-10 w-10 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</div>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"ml-4"[39m
                              [36m>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                                [36m>[39m
                                  [0mDoc 1[0m
                                [36m</div>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"text-xs text-gray-500"[39m
                                [36m>[39m
                                  [0mID: [0m
                                  [0m1[0m
                                [36m</div>[39m
                              [36m</div>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap"[39m
                          [36m>[39m
                            [36m<span[39m
                              [33mclass[39m=[32m"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"[39m
                            [36m>[39m
                              [0mPENDING[0m
                            [36m</span>[39m
                          [36m</td>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap text-sm text-gray-500"[39m
                          [36m>[39m
                            [0m1/1/2023[0m
                          [36m</td>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex justify-end gap-3"[39m
                            [36m>[39m
                              [36m<a[39m
                                [33mclass[39m=[32m"text-gray-400 hover:text-blue-600 transition-colors"[39m
                                [33mhref[39m=[32m"/app/documents/1"[39m
                                [33mtitle[39m=[32m"View"[39m
                              [36m>[39m
                                [0mğŸ‘ï¸[0m
                              [36m</a>[39m
                              [36m<button[39m
                                [33mclass[39m=[32m"text-gray-400 hover:text-green-600 transition-colors"[39m
                                [33mtitle[39m=[32m"Analyze"[39m
                              [36m>[39m
                                [0mâš¡ï¸[0m
                              [36m</button>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mRecent Activity[0m
                    [36m</h3>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mDoc 1[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mUpdated: [0m
                          [0m1/1/2023[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                      [36m>[39m
                        [0mANALYZED[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
      [36m>[39m
        [36m<aside[39m
          [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
            [36m>[39m
              [36m<span>[39m
                [0mğŸ›¡ï¸[0m
              [36m</span>[39m
              [0m ISO Doc[0m
            [36m</h1>[39m
          [36m</div>[39m
          [36m<nav[39m
            [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
          [36m>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
              [33mhref[39m=[32m"/app/dashboard"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“Š[0m
              [36m</span>[39m
              [0mDashboard[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/documents"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“[0m
              [36m</span>[39m
              [0mDocuments[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/gap-analysis"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ”[0m
              [36m</span>[39m
              [0mGap Analysis[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/reports"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“‹[0m
              [36m</span>[39m
              [0mReports[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/settings"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mâš™ï¸[0m
              [36m</span>[39m
              [0mSettings[0m
            [36m</a>[39m
          [36m</nav>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
              [36m>[39m
                [0mPro Plan[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
              [36m>[39m
                [0mGet access to advanced AI features.[0m
              [36m</p>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
              [36m>[39m
                [0mUpgrade Now[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</aside>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 flex flex-col"[39m
        [36m>[39m
          [36m<header[39m
            [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
              [36m>[39m
                [0mDashboard[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500"[39m
              [36m>[39m
                [0mWelcome back, User[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-1/3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative w-full max-w-xl"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-gray-400"[39m
                    [36m>[39m
                      [0mğŸ”[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mSearch[0m
                  [36m</button>[39m
                [36m</form>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
              [36m>[39m
                [0mU[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</header>[39m
          [36m<main[39m
            [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mTotal Documents[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                  [36m>[39m
                    [0m10[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mAnalyzed[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                  [36m>[39m
                    [0m5[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mAvg. Compliance Score[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                  [36m>[39m
                    [0m85[0m
                    [0m%[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                        [36m>[39m
                          [0mRecent Documents[0m
                        [36m</h3>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"text-sm text-gray-500"[39m
                        [36m>[39m
                          [0mManage and analyze your files[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"relative"[39m
                      [36m>[39m
                        [36m<input[39m
                          [33mclass[39m=[32m"hidden"[39m
                          [33mid[39m=[32m"file-upload"[39m
                          [33mtype[39m=[32m"file"[39m
                        [36m/>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                          [33mfor[39m=[32m"file-upload"[39m
                        [36m>[39m
                          [36m<span>[39m
                            [0mâ˜ï¸[0m
                          [36m</span>[39m
                          [0mUpload New[0m
                        [36m</label>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"overflow-x-auto"[39m
                    [36m>[39m
                      [36m<table[39m
                        [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<thead[39m
                          [33mclass[39m=[32m"bg-gray-50"[39m
                        [36m>[39m
                          [36m<tr>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mDocument[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mStatus[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mDate[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mActions[0m
                            [36m</th>[39m
                          [36m</tr>[39m
                        [36m</thead>[39m
                        [36m<tbody[39m
                          [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                        [36m>[39m
                          [36m<tr[39m
                            [33mclass[39m=[32m"hover:bg-gray-50 transition-colors"[39m
                          [36m>[39m
                            [36m<td[39m
                              [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"flex items-center"[39m
                              [36m>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"flex-shrink-0 h-10 w-10 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600"[39m
                                [36m>[39m
                                  [0mğŸ“„[0m
                                [36m</div>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"ml-4"[39m
                                [36m>[39m
                                  [36m<div[39m
                                    [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                                  [36m>[39m
                                    [0mDoc 1[0m
                                  [36m</div>[39m
                                  [36m<div[39m
                                    [33mclass[39m=[32m"text-xs text-gray-500"[39m
                                  [36m>[39m
                                    [0mID: [0m
                                    [0m1[0m
                                  [36m</div>[39m
                                [36m</div>[39m
                              [36m</div>[39m
                            [36m</td>[39m
                            [36m<td[39m
                              [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"[39m
                              [36m>[39m
                                [0mPENDING[0m
                              [36m</span>[39m
                            [36m</td>[39m
                            [36m<td[39m
                              [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap text-sm text-gray-500"[39m
                            [36m>[39m
                              [0m1/1/2023[0m
                            [36m</td>[39m
                            [36m<td[39m
                              [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"flex justify-end gap-3"[39m
                              [36m>[39m
                                [36m<a[39m
                                  [33mclass[39m=[32m"text-gray-400 hover:text-blue-600 transition-colors"[39m
                                  [33mhref[39m=[32m"/app/documents/1"[39m
                                  [33mtitle[39m=[32m"View"[39m
                                [36m>[39m
                                  [0mğŸ‘ï¸[0m
                                [36m</a>[39m
                                [36m<button[39m
                                  [33mclass[39m=[32m"text-gray-400 hover:text-green-600 transition-colors"[39m
                                  [33mtitle[39m=[32m"Analyze"[39m
                                [36m>[39m
                                  [0mâš¡ï¸[0m
                                [36m</button>[39m
                              [36m</div>[39m
                            [36m</td>[39m
                          [36m</tr>[39m
                        [36m</tbody>[39m
                      [36m</table>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-8"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Activity[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"font-medium text-gray-900"[39m
                          [36m>[39m
                            [0mDoc 1[0m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mUpdated: [0m
                            [0m1/1/2023[0m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                        [36m>[39m
                          [0mANALYZED[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                    [36m>[39m
                      [0mNeed Help?[0m
                    [36m</h3>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                    [36m>[39m
                      [0mAsk our AI Auditor anything about your compliance status.[0m
                    [36m</p>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                    [36m>[39m
                      [0mStart Chat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</main>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:86:15
     84|         render(<Dashboard />);
     85| 
     86|         await waitFor(() => {
       |               ^
     87|             expect(screen.getByText('Analyze')).toBeDefined();
     88|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  1 failed | 2 passed (3)
   Start at  00:11:32
   Duration  1.84s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x26 

 â¯ app/app/dashboard/page.test.tsx (3 tests | 1 failed) 1162ms
     âœ“ renders documents and standards 57ms
     âœ“ renders dashboard widgets 96ms
     Ã— opens analysis modal and runs check 1008ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
TestingLibraryElementError: Unable to find an element with the text: Analyze. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
            [36m>[39m
              [0mğŸ””[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mTotal Documents[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0m10[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAnalyzed[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                [36m>[39m
                  [0m5[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAvg. Compliance Score[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                [36m>[39m
                  [0m85[0m
                  [0m%[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr[39m
                          [33mclass[39m=[32m"hover:bg-gray-50 transition-colors"[39m
                        [36m>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex items-center"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"flex-shrink-0 h-10 w-10 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</div>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"ml-4"[39m
                              [36m>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                                [36m>[39m
                                  [0mDoc 1[0m
                                [36m</div>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"text-xs text-gray-500"[39m
                                [36m>[39m
                                  [0mID: [0m
                                  [0m1[0m
                                [36m</div>[39m
                              [36m</div>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap"[39m
                          [36m>[39m
                            [36m<span[39m
                              [33mclass[39m=[32m"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"[39m
                            [36m>[39m
                              [0mPENDING[0m
                            [36m</span>[39m
                          [36m</td>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap text-sm text-gray-500"[39m
                          [36m>[39m
                            [0m1/1/2023[0m
                          [36m</td>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex justify-end gap-3"[39m
                            [36m>[39m
                              [36m<a[39m
                                [33mclass[39m=[32m"text-gray-400 hover:text-blue-600 transition-colors"[39m
                                [33mhref[39m=[32m"/app/documents/1"[39m
                                [33mtitle[39m=[32m"View"[39m
                              [36m>[39m
                                [0mğŸ‘ï¸[0m
                              [36m</a>[39m
                              [36m<button[39m
                                [33mclass[39m=[32m"text-gray-400 hover:text-green-600 transition-colors"[39m
                                [33mtitle[39m=[32m"Analyze"[39m
                              [36m>[39m
                                [0mâš¡ï¸[0m
                              [36m</button>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mRecent Activity[0m
                    [36m</h3>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mDoc 1[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mUpdated: [0m
                          [0m1/1/2023[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                      [36m>[39m
                        [0mANALYZED[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
      [36m>[39m
        [36m<aside[39m
          [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
            [36m>[39m
              [36m<span>[39m
                [0mğŸ›¡ï¸[0m
              [36m</span>[39m
              [0m ISO Doc[0m
            [36m</h1>[39m
          [36m</div>[39m
          [36m<nav[39m
            [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
          [36m>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
              [33mhref[39m=[32m"/app/dashboard"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“Š[0m
              [36m</span>[39m
              [0mDashboard[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/documents"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“[0m
              [36m</span>[39m
              [0mDocuments[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/gap-analysis"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ”[0m
              [36m</span>[39m
              [0mGap Analysis[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/reports"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“‹[0m
              [36m</span>[39m
              [0mReports[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/settings"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mâš™ï¸[0m
              [36m</span>[39m
              [0mSettings[0m
            [36m</a>[39m
          [36m</nav>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
              [36m>[39m
                [0mPro Plan[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
              [36m>[39m
                [0mGet access to advanced AI features.[0m
              [36m</p>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
              [36m>[39m
                [0mUpgrade Now[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</aside>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 flex flex-col"[39m
        [36m>[39m
          [36m<header[39m
            [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
              [36m>[39m
                [0mDashboard[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500"[39m
              [36m>[39m
                [0mWelcome back, User[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-1/3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative w-full max-w-xl"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-gray-400"[39m
                    [36m>[39m
                      [0mğŸ”[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mSearch[0m
                  [36m</button>[39m
                [36m</form>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
              [36m>[39m
                [0mU[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</header>[39m
          [36m<main[39m
            [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mTotal Documents[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                  [36m>[39m
                    [0m10[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mAnalyzed[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                  [36m>[39m
                    [0m5[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mAvg. Compliance Score[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                  [36m>[39m
                    [0m85[0m
                    [0m%[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                        [36m>[39m
                          [0mRecent Documents[0m
                        [36m</h3>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"text-sm text-gray-500"[39m
                        [36m>[39m
                          [0mManage and analyze your files[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"relative"[39m
                      [36m>[39m
                        [36m<input[39m
                          [33mclass[39m=[32m"hidden"[39m
                          [33mid[39m=[32m"file-upload"[39m
                          [33mtype[39m=[32m"file"[39m
                        [36m/>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                          [33mfor[39m=[32m"file-upload"[39m
                        [36m>[39m
                          [36m<span>[39m
                            [0mâ˜ï¸[0m
                          [36m</span>[39m
                          [0mUpload New[0m
                        [36m</label>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"overflow-x-auto"[39m
                    [36m>[39m
                      [36m<table[39m
                        [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<thead[39m
                          [33mclass[39m=[32m"bg-gray-50"[39m
                        [36m>[39m
                          [36m<tr>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mDocument[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mStatus[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mDate[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mActions[0m
                            [36m</th>[39m
                          [36m</tr>[39m
                        [36m</thead>[39m
                        [36m<tbody[39m
                          [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                        [36m>[39m
                          [36m<tr[39m
                            [33mclass[39m=[32m"hover:bg-gray-50 transition-colors"[39m
                          [36m>[39m
                            [36m<td[39m
                              [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"flex items-center"[39m
                              [36m>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"flex-shrink-0 h-10 w-10 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600"[39m
                                [36m>[39m
                                  [0mğŸ“„[0m
                                [36m</div>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"ml-4"[39m
                                [36m>[39m
                                  [36m<div[39m
                                    [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                                  [36m>[39m
                                    [0mDoc 1[0m
                                  [36m</div>[39m
                                  [36m<div[39m
                                    [33mclass[39m=[32m"text-xs text-gray-500"[39m
                                  [36m>[39m
                                    [0mID: [0m
                                    [0m1[0m
                                  [36m</div>[39m
                                [36m</div>[39m
                              [36m</div>[39m
                            [36m</td>[39m
                            [36m<td[39m
                              [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"[39m
                              [36m>[39m
                                [0mPENDING[0m
                              [36m</span>[39m
                            [36m</td>[39m
                            [36m<td[39m
                              [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap text-sm text-gray-500"[39m
                            [36m>[39m
                              [0m1/1/2023[0m
                            [36m</td>[39m
                            [36m<td[39m
                              [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"flex justify-end gap-3"[39m
                              [36m>[39m
                                [36m<a[39m
                                  [33mclass[39m=[32m"text-gray-400 hover:text-blue-600 transition-colors"[39m
                                  [33mhref[39m=[32m"/app/documents/1"[39m
                                  [33mtitle[39m=[32m"View"[39m
                                [36m>[39m
                                  [0mğŸ‘ï¸[0m
                                [36m</a>[39m
                                [36m<button[39m
                                  [33mclass[39m=[32m"text-gray-400 hover:text-green-600 transition-colors"[39m
                                  [33mtitle[39m=[32m"Analyze"[39m
                                [36m>[39m
                                  [0mâš¡ï¸[0m
                                [36m</button>[39m
                              [36m</div>[39m
                            [36m</td>[39m
                          [36m</tr>[39m
                        [36m</tbody>[39m
                      [36m</table>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-8"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Activity[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"font-medium text-gray-900"[39m
                          [36m>[39m
                            [0mDoc 1[0m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mUpdated: [0m
                            [0m1/1/2023[0m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                        [36m>[39m
                          [0mANALYZED[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                    [36m>[39m
                      [0mNeed Help?[0m
                    [36m</h3>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                    [36m>[39m
                      [0mAsk our AI Auditor anything about your compliance status.[0m
                    [36m</p>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                    [36m>[39m
                      [0mStart Chat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</main>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:86:15
     84|         render(<Dashboard />);
     85| 
     86|         await waitFor(() => {
       |               ^
     87|             expect(screen.getByText('Analyze')).toBeDefined();
     88|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  1 failed | 2 passed (3)
   Start at  00:11:35
   Duration  1.61s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x27 

 â¯ app/app/dashboard/page.test.tsx (3 tests | 1 failed) 310ms
     âœ“ renders documents and standards 133ms
     âœ“ renders dashboard widgets 130ms
     Ã— opens analysis modal and runs check 32ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
TestingLibraryElementError: Unable to find an element with the text: Analyze. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
            [36m>[39m
              [0mğŸ””[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mTotal Documents[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0m10[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAnalyzed[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                [36m>[39m
                  [0m5[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAvg. Compliance Score[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                [36m>[39m
                  [0m85[0m
                  [0m%[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr[39m
                          [33mclass[39m=[32m"hover:bg-gray-50 transition-colors"[39m
                        [36m>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex items-center"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"flex-shrink-0 h-10 w-10 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</div>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"ml-4"[39m
                              [36m>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                                [36m>[39m
                                  [0mDoc 1[0m
                                [36m</div>[39m
                                [36m<div[39m
                                  [33mclass[39m=[32m"text-xs text-gray-500"[39m
                                [36m>[39m
                                  [0mID: [0m
                                  [0m1[0m
                                [36m</div>[39m
                              [36m</div>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap"[39m
                          [36m>[39m
                            [36m<span[39m
                              [33mclass[39m=[32m"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"[39m
                            [36m>[39m
                              [0mPENDING[0m
                            [36m</span>[39m
                          [36m</td>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap text-sm text-gray-500"[39m
                          [36m>[39m
                            [0m1/1/2023[0m
                          [36m</td>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex justify-end gap-3"[39m
                            [36m>[39m
                              [36m<a[39m
                                [33mclass[39m=[32m"text-gray-400 hover:text-blue-600 transition-colors"[39m
                                [33mhref[39m=[32m"/app/documents/1"[39m
                                [33mtitle[39m=[32m"View"[39m
                              [36m>[39m
                                [0mğŸ‘ï¸[0m
                              [36m</a>[39m
                              [36m<button[39m
                                [33mclass[39m=[32m"text-gray-400 hover:text-green-600 transition-colors"[39m
                                [33mtitle[39m=[32m"Analyze"[39m
                              [36m>[39m
                                [0mâš¡ï¸[0m
                              [36m</button>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mRecent Activity[0m
                    [36m</h3>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mDoc 1[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mUpdated: [0m
                          [0m1/1/2023[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                      [36m>[39m
                        [0mANALYZED[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/dashboard/page.test.tsx:91:32
     89| 
     90|         // Click Analyze
     91|         fireEvent.click(screen.getByText('Analyze'));
       |                                ^
     92| 
     93|         // Check modal

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  1 failed (1)
      Tests  1 failed | 2 passed (3)
   Start at  00:12:07
   Duration  933ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x28 

 âœ“ app/app/dashboard/page.test.tsx (3 tests) 261ms

 Test Files  1 passed (1)
      Tests  3 passed (3)
   Start at  00:12:09
   Duration  786ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 522ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 294ms
 âœ“ app/app/dashboard/page.test.tsx (3 tests) 1054ms
     âœ“ renders documents and standards  691ms
 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 530ms
     âœ“ renders document details and download button  514ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/2]â¯


 Test Files  1 failed | 4 passed (5)
      Tests  2 failed | 12 passed (14)
   Start at  00:40:06
   Duration  23.95s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x30 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms
 â¯ app/app/dashboard/page.test.tsx (3 tests | 3 failed) 18ms
     Ã— renders documents and standards 14ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 3 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
ReferenceError: stats is not defined
 â¯ Dashboard app/app/dashboard/page.tsx:141:26
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/3]â¯


 Test Files  2 failed (2)
      Tests  5 failed | 2 passed (7)
   Start at  00:41:49
   Duration  906ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x31 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms
 â¯ app/app/dashboard/page.test.tsx (3 tests | 3 failed) 15ms
     Ã— renders documents and standards 11ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 3 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
ReferenceError: stats is not defined
 â¯ Dashboard app/app/dashboard/page.tsx:141:26
    139|                     <div className="max-w-7xl mx-auto space-y-8">
    140|                         {/* Stats Row */}
    141|                         {stats && <StatsWidget stats={stats} />}
       |                          ^
    142| 
    143|                         {/* Staged Documents Review Queue */}
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/3]â¯


 Test Files  2 failed (2)
      Tests  5 failed | 2 passed (7)
   Start at  00:41:51
   Duration  720ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x32 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms
 âœ“ app/app/dashboard/page.test.tsx (3 tests) 217ms

 Test Files  1 failed | 1 passed (2)
      Tests  2 failed | 5 passed (7)
   Start at  00:42:11
   Duration  999ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x33 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms
 âœ“ app/app/dashboard/page.test.tsx (3 tests) 406ms

 Test Files  1 failed | 1 passed (2)
      Tests  2 failed | 5 passed (7)
   Start at  00:43:45
   Duration  968ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x34 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms
 â¯ app/app/dashboard/page.test.tsx (3 tests | 1 failed) 258ms
     âœ“ renders documents and standards 110ms
     âœ“ renders dashboard widgets 60ms
     Ã— opens analysis modal and runs check 87ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Error: Calling the test function inside another test function is not allowed. Please put it inside "describe" or "suite" so it can be properly collected.
 â¯ app/app/dashboard/page.test.tsx:105:9
    103|             expect(mockPush).toHaveBeenCalledWith('/app/reports/reportâ€¦
    104|         });
    105|         it('shows staged documents and allows approval', async () => {
       |         ^
    106|             const mockDocuments = [
    107|                 { id: '1', title: 'Doc 1', status: 'STAGED', createdAtâ€¦

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  2 failed (2)
      Tests  3 failed | 4 passed (7)
   Start at  00:43:48
   Duration  761ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x35 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 1 error:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.test.tsx:130:0: ERROR: Unexpected "}"
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.test.tsx:130:0
  
  Unexpected "}"
  128 |      });
  129 |  });
  130 |  });
      |  ^
  131 |  
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  2 failed (2)
      Tests  2 failed | 2 passed (4)
   Start at  00:44:43
   Duration  285ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x36 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms
 â¯ app/app/dashboard/page.test.tsx (4 tests | 1 failed) 1268ms
     âœ“ renders documents and standards 149ms
     âœ“ renders dashboard widgets 36ms
     âœ“ opens analysis modal and runs check 72ms
     Ã— shows staged documents and allows approval 1009ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
TestingLibraryElementError: Found multiple elements with the text: Doc 1

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<td[39m
  [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900"[39m
[36m>[39m
  [0mDoc 1[0m
[36m</td>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"font-medium text-gray-900"[39m
[36m>[39m
  [0mDoc 1[0m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
            [36m>[39m
              [0mğŸ””[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mTotal Documents[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0m10[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAnalyzed[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                [36m>[39m
                  [0m5[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAvg. Compliance Score[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                [36m>[39m
                  [0m85[0m
                  [0m%[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 rounded-xl border border-blue-100 p-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-center mb-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold text-blue-900"[39m
                  [36m>[39m
                    [0mReview Uploads[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-blue-700"[39m
                  [36m>[39m
                    [0mThese documents are processed and ready for approval.[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50"[39m
                [36m>[39m
                  [0mApprove All[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-blue-100 overflow-hidden"[39m
              [36m>[39m
                [36m<table[39m
                  [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                [36m>[39m
                  [36m<tbody[39m
                    [33mclass[39m=[32m"divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0mDoc 1[0m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-4 text-sm text-gray-500"[39m
                      [36m>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-green-600"[39m
                        [36m>[39m
                          [0mReady for Approval[0m
                        [36m</span>[39m
                      [36m</td>[39m
                    [36m</tr>[39m
                  [36m</tbody>[39m
                [36m</table>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mmultiple[39m=[32m""[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                            [33mcolspan[39m=[32m"4"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"text-4xl"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</span>[39m
                              [36m<p>[39m
                                [0mNo documents found[0m
                              [36m</p>[39m
                              [36m<p[39m
                                [33mclass[39m=[32m"text-sm"[39m
                              [36m>[39m
                                [0mUpload a document to get started[0m
                              [36m</p>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mRecent Activity[0m
                    [36m</h3>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mDoc 1[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mUpdated: [0m
                          [0m1/1/2023[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                      [36m>[39m
                        [0mANALYZED[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
      [36m>[39m
        [36m<aside[39m
          [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
            [36m>[39m
              [36m<span>[39m
                [0mğŸ›¡ï¸[0m
              [36m</span>[39m
              [0m ISO Doc[0m
            [36m</h1>[39m
          [36m</div>[39m
          [36m<nav[39m
            [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
          [36m>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
              [33mhref[39m=[32m"/app/dashboard"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“Š[0m
              [36m</span>[39m
              [0mDashboard[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/documents"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“[0m
              [36m</span>[39m
              [0mDocuments[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/gap-analysis"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ”[0m
              [36m</span>[39m
              [0mGap Analysis[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/reports"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“‹[0m
              [36m</span>[39m
              [0mReports[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/settings"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mâš™ï¸[0m
              [36m</span>[39m
              [0mSettings[0m
            [36m</a>[39m
          [36m</nav>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
              [36m>[39m
                [0mPro Plan[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
              [36m>[39m
                [0mGet access to advanced AI features.[0m
              [36m</p>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
              [36m>[39m
                [0mUpgrade Now[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</aside>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 flex flex-col"[39m
        [36m>[39m
          [36m<header[39m
            [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
              [36m>[39m
                [0mDashboard[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500"[39m
              [36m>[39m
                [0mWelcome back, User[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-1/3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative w-full max-w-xl"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-gray-400"[39m
                    [36m>[39m
                      [0mğŸ”[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mSearch[0m
                  [36m</button>[39m
                [36m</form>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
              [36m>[39m
                [0mU[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</header>[39m
          [36m<main[39m
            [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mTotal Documents[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                  [36m>[39m
                    [0m10[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mAnalyzed[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                  [36m>[39m
                    [0m5[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mAvg. Compliance Score[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                  [36m>[39m
                    [0m85[0m
                    [0m%[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 rounded-xl border border-blue-100 p-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-4"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-blue-900"[39m
                    [36m>[39m
                      [0mReview Uploads[0m
                    [36m</h3>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-blue-700"[39m
                    [36m>[39m
                      [0mThese documents are processed and ready for approval.[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50"[39m
                  [36m>[39m
                    [0mApprove All[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-blue-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<table[39m
                    [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<tbody[39m
                      [33mclass[39m=[32m"divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<td[39m
                          [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mDoc 1[0m
                        [36m</td>[39m
                        [36m<td[39m
                          [33mclass[39m=[32m"px-6 py-4 text-sm text-gray-500"[39m
                        [36m>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-green-600"[39m
                          [36m>[39m
                            [0mReady for Approval[0m
                          [36m</span>[39m
                        [36m</td>[39m
                      [36m</tr>[39m
                    [36m</tbody>[39m
                  [36m</table>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                        [36m>[39m
                          [0mRecent Documents[0m
                        [36m</h3>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"text-sm text-gray-500"[39m
                        [36m>[39m
                          [0mManage and analyze your files[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"relative"[39m
                      [36m>[39m
                        [36m<input[39m
                          [33mclass[39m=[32m"hidden"[39m
                          [33mid[39m=[32m"file-upload"[39m
                          [33mmultiple[39m=[32m""[39m
                          [33mtype[39m=[32m"file"[39m
                        [36m/>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                          [33mfor[39m=[32m"file-upload"[39m
                        [36m>[39m
                          [36m<span>[39m
                            [0mâ˜ï¸[0m
                          [36m</span>[39m
                          [0mUpload New[0m
                        [36m</label>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"overflow-x-auto"[39m
                    [36m>[39m
                      [36m<table[39m
                        [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<thead[39m
                          [33mclass[39m=[32m"bg-gray-50"[39m
                        [36m>[39m
                          [36m<tr>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mDocument[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mStatus[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mDate[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mActions[0m
                            [36m</th>[39m
                          [36m</tr>[39m
                        [36m</thead>[39m
                        [36m<tbody[39m
                          [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                        [36m>[39m
                          [36m<tr>[39m
                            [36m<td[39m
                              [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                              [33mcolspan[39m=[32m"4"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                              [36m>[39m
                                [36m<span[39m
                                  [33mclass[39m=[32m"text-4xl"[39m
                                [36m>[39m
                                  [0mğŸ“„[0m
                                [36m</span>[39m
                                [36m<p>[39m
                                  [0mNo documents found[0m
                                [36m</p>[39m
                                [36m<p[39m
                                  [33mclass[39m=[32m"text-sm"[39m
                                [36m>[39m
                                  [0mUpload a document to get started[0m
                                [36m</p>[39m
                              [36m</div>[39m
                            [36m</td>[39m
                          [36m</tr>[39m
                        [36m</tbody>[39m
                      [36m</table>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-8"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Activity[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"font-medium text-gray-900"[39m
                          [36m>[39m
                            [0mDoc 1[0m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mUpdated: [0m
                            [0m1/1/2023[0m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                        [36m>[39m
                          [0mANALYZED[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                    [36m>[39m
                      [0mNeed Help?[0m
                    [36m</h3>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                    [36m>[39m
                      [0mAsk our AI Auditor anything about your compliance status.[0m
                    [36m</p>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                    [36m>[39m
                      [0mStart Chat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</main>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:116:15
    114|         render(<Dashboard />);
    115| 
    116|         await waitFor(() => {
       |               ^
    117|             expect(screen.getByText('Review Uploads')).toBeDefined();
    118|             expect(screen.getByText('Doc 1')).toBeDefined();

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  2 failed (2)
      Tests  3 failed | 5 passed (8)
   Start at  00:44:59
   Duration  2.02s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x37 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms
stdout | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Fetched docs: [
  {
    id: [32m'1'[39m,
    title: [32m'Doc 1'[39m,
    status: [32m'PENDING'[39m,
    createdAt: [32m'2023-01-01'[39m
  }
]

stdout | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Fetched docs: []

stdout | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Fetched docs: [
  {
    id: [32m'1'[39m,
    title: [32m'Doc 1'[39m,
    status: [32m'PENDING'[39m,
    createdAt: [32m'2023-01-01'[39m
  }
]

stdout | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Fetched docs: [
  {
    id: [32m'1'[39m,
    title: [32m'Doc 1'[39m,
    status: [32m'STAGED'[39m,
    createdAt: [32m'2023-01-01'[39m
  }
]

 â¯ app/app/dashboard/page.test.tsx (4 tests | 1 failed) 1452ms
     âœ“ renders documents and standards 194ms
     âœ“ renders dashboard widgets 58ms
     âœ“ opens analysis modal and runs check 151ms
     Ã— shows staged documents and allows approval 1010ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
TestingLibraryElementError: Found multiple elements with the text: Doc 1

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<td[39m
  [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900"[39m
[36m>[39m
  [0mDoc 1[0m
[36m</td>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"font-medium text-gray-900"[39m
[36m>[39m
  [0mDoc 1[0m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
            [36m>[39m
              [0mğŸ””[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mTotal Documents[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0m10[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAnalyzed[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                [36m>[39m
                  [0m5[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAvg. Compliance Score[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                [36m>[39m
                  [0m85[0m
                  [0m%[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 rounded-xl border border-blue-100 p-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-center mb-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold text-blue-900"[39m
                  [36m>[39m
                    [0mReview Uploads[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-blue-700"[39m
                  [36m>[39m
                    [0mThese documents are processed and ready for approval.[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50"[39m
                [36m>[39m
                  [0mApprove All[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-blue-100 overflow-hidden"[39m
              [36m>[39m
                [36m<table[39m
                  [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                [36m>[39m
                  [36m<tbody[39m
                    [33mclass[39m=[32m"divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0mDoc 1[0m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-4 text-sm text-gray-500"[39m
                      [36m>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-green-600"[39m
                        [36m>[39m
                          [0mReady for Approval[0m
                        [36m</span>[39m
                      [36m</td>[39m
                    [36m</tr>[39m
                  [36m</tbody>[39m
                [36m</table>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mmultiple[39m=[32m""[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                            [33mcolspan[39m=[32m"4"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"text-4xl"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</span>[39m
                              [36m<p>[39m
                                [0mNo documents found[0m
                              [36m</p>[39m
                              [36m<p[39m
                                [33mclass[39m=[32m"text-sm"[39m
                              [36m>[39m
                                [0mUpload a document to get started[0m
                              [36m</p>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mRecent Activity[0m
                    [36m</h3>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mDoc 1[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mUpdated: [0m
                          [0m1/1/2023[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                      [36m>[39m
                        [0mANALYZED[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
      [36m>[39m
        [36m<aside[39m
          [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
            [36m>[39m
              [36m<span>[39m
                [0mğŸ›¡ï¸[0m
              [36m</span>[39m
              [0m ISO Doc[0m
            [36m</h1>[39m
          [36m</div>[39m
          [36m<nav[39m
            [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
          [36m>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
              [33mhref[39m=[32m"/app/dashboard"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“Š[0m
              [36m</span>[39m
              [0mDashboard[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/documents"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“[0m
              [36m</span>[39m
              [0mDocuments[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/gap-analysis"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ”[0m
              [36m</span>[39m
              [0mGap Analysis[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/reports"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“‹[0m
              [36m</span>[39m
              [0mReports[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/settings"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mâš™ï¸[0m
              [36m</span>[39m
              [0mSettings[0m
            [36m</a>[39m
          [36m</nav>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
              [36m>[39m
                [0mPro Plan[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
              [36m>[39m
                [0mGet access to advanced AI features.[0m
              [36m</p>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
              [36m>[39m
                [0mUpgrade Now[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</aside>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 flex flex-col"[39m
        [36m>[39m
          [36m<header[39m
            [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
              [36m>[39m
                [0mDashboard[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500"[39m
              [36m>[39m
                [0mWelcome back, User[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-1/3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative w-full max-w-xl"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-gray-400"[39m
                    [36m>[39m
                      [0mğŸ”[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mSearch[0m
                  [36m</button>[39m
                [36m</form>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
              [36m>[39m
                [0mU[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</header>[39m
          [36m<main[39m
            [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mTotal Documents[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                  [36m>[39m
                    [0m10[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mAnalyzed[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                  [36m>[39m
                    [0m5[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mAvg. Compliance Score[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                  [36m>[39m
                    [0m85[0m
                    [0m%[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 rounded-xl border border-blue-100 p-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-4"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-blue-900"[39m
                    [36m>[39m
                      [0mReview Uploads[0m
                    [36m</h3>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-blue-700"[39m
                    [36m>[39m
                      [0mThese documents are processed and ready for approval.[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50"[39m
                  [36m>[39m
                    [0mApprove All[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-blue-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<table[39m
                    [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<tbody[39m
                      [33mclass[39m=[32m"divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<td[39m
                          [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mDoc 1[0m
                        [36m</td>[39m
                        [36m<td[39m
                          [33mclass[39m=[32m"px-6 py-4 text-sm text-gray-500"[39m
                        [36m>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-green-600"[39m
                          [36m>[39m
                            [0mReady for Approval[0m
                          [36m</span>[39m
                        [36m</td>[39m
                      [36m</tr>[39m
                    [36m</tbody>[39m
                  [36m</table>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                        [36m>[39m
                          [0mRecent Documents[0m
                        [36m</h3>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"text-sm text-gray-500"[39m
                        [36m>[39m
                          [0mManage and analyze your files[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"relative"[39m
                      [36m>[39m
                        [36m<input[39m
                          [33mclass[39m=[32m"hidden"[39m
                          [33mid[39m=[32m"file-upload"[39m
                          [33mmultiple[39m=[32m""[39m
                          [33mtype[39m=[32m"file"[39m
                        [36m/>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                          [33mfor[39m=[32m"file-upload"[39m
                        [36m>[39m
                          [36m<span>[39m
                            [0mâ˜ï¸[0m
                          [36m</span>[39m
                          [0mUpload New[0m
                        [36m</label>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"overflow-x-auto"[39m
                    [36m>[39m
                      [36m<table[39m
                        [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<thead[39m
                          [33mclass[39m=[32m"bg-gray-50"[39m
                        [36m>[39m
                          [36m<tr>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mDocument[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mStatus[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mDate[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mActions[0m
                            [36m</th>[39m
                          [36m</tr>[39m
                        [36m</thead>[39m
                        [36m<tbody[39m
                          [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                        [36m>[39m
                          [36m<tr>[39m
                            [36m<td[39m
                              [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                              [33mcolspan[39m=[32m"4"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                              [36m>[39m
                                [36m<span[39m
                                  [33mclass[39m=[32m"text-4xl"[39m
                                [36m>[39m
                                  [0mğŸ“„[0m
                                [36m</span>[39m
                                [36m<p>[39m
                                  [0mNo documents found[0m
                                [36m</p>[39m
                                [36m<p[39m
                                  [33mclass[39m=[32m"text-sm"[39m
                                [36m>[39m
                                  [0mUpload a document to get started[0m
                                [36m</p>[39m
                              [36m</div>[39m
                            [36m</td>[39m
                          [36m</tr>[39m
                        [36m</tbody>[39m
                      [36m</table>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-8"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Activity[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"font-medium text-gray-900"[39m
                          [36m>[39m
                            [0mDoc 1[0m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mUpdated: [0m
                            [0m1/1/2023[0m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                        [36m>[39m
                          [0mANALYZED[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                    [36m>[39m
                      [0mNeed Help?[0m
                    [36m</h3>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                    [36m>[39m
                      [0mAsk our AI Auditor anything about your compliance status.[0m
                    [36m</p>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                    [36m>[39m
                      [0mStart Chat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</main>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:116:15
    114|         render(<Dashboard />);
    115| 
    116|         await waitFor(() => {
       |               ^
    117|             expect(screen.getByText('Review Uploads')).toBeDefined();
    118|             expect(screen.getByText('Doc 1')).toBeDefined();

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  2 failed (2)
      Tests  3 failed | 5 passed (8)
   Start at  00:45:41
   Duration  2.19s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x38 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms
 â¯ app/app/dashboard/page.test.tsx (4 tests | 1 failed) 1749ms
     âœ“ renders documents and standards  304ms
     âœ“ renders dashboard widgets 138ms
     âœ“ opens analysis modal and runs check 293ms
     Ã— shows staged documents and allows approval 1013ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
TestingLibraryElementError: Found multiple elements with the text: Doc 1

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<td[39m
  [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900"[39m
[36m>[39m
  [0mDoc 1[0m
[36m</td>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"font-medium text-gray-900"[39m
[36m>[39m
  [0mDoc 1[0m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
            [36m>[39m
              [0mğŸ””[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mTotal Documents[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0m10[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAnalyzed[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                [36m>[39m
                  [0m5[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAvg. Compliance Score[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                [36m>[39m
                  [0m85[0m
                  [0m%[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 rounded-xl border border-blue-100 p-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-center mb-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold text-blue-900"[39m
                  [36m>[39m
                    [0mReview Uploads[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-blue-700"[39m
                  [36m>[39m
                    [0mThese documents are processed and ready for approval.[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50"[39m
                [36m>[39m
                  [0mApprove All[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-blue-100 overflow-hidden"[39m
              [36m>[39m
                [36m<table[39m
                  [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                [36m>[39m
                  [36m<tbody[39m
                    [33mclass[39m=[32m"divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0mDoc 1[0m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-4 text-sm text-gray-500"[39m
                      [36m>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-green-600"[39m
                        [36m>[39m
                          [0mReady for Approval[0m
                        [36m</span>[39m
                      [36m</td>[39m
                    [36m</tr>[39m
                  [36m</tbody>[39m
                [36m</table>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mmultiple[39m=[32m""[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                            [33mcolspan[39m=[32m"4"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"text-4xl"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</span>[39m
                              [36m<p>[39m
                                [0mNo documents found[0m
                              [36m</p>[39m
                              [36m<p[39m
                                [33mclass[39m=[32m"text-sm"[39m
                              [36m>[39m
                                [0mUpload a document to get started[0m
                              [36m</p>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mRecent Activity[0m
                    [36m</h3>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mDoc 1[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mUpdated: [0m
                          [0m1/1/2023[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                      [36m>[39m
                        [0mANALYZED[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
      [36m>[39m
        [36m<aside[39m
          [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
            [36m>[39m
              [36m<span>[39m
                [0mğŸ›¡ï¸[0m
              [36m</span>[39m
              [0m ISO Doc[0m
            [36m</h1>[39m
          [36m</div>[39m
          [36m<nav[39m
            [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
          [36m>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
              [33mhref[39m=[32m"/app/dashboard"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“Š[0m
              [36m</span>[39m
              [0mDashboard[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/documents"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“[0m
              [36m</span>[39m
              [0mDocuments[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/gap-analysis"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ”[0m
              [36m</span>[39m
              [0mGap Analysis[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/reports"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“‹[0m
              [36m</span>[39m
              [0mReports[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/settings"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mâš™ï¸[0m
              [36m</span>[39m
              [0mSettings[0m
            [36m</a>[39m
          [36m</nav>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
              [36m>[39m
                [0mPro Plan[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
              [36m>[39m
                [0mGet access to advanced AI features.[0m
              [36m</p>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
              [36m>[39m
                [0mUpgrade Now[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</aside>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 flex flex-col"[39m
        [36m>[39m
          [36m<header[39m
            [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
              [36m>[39m
                [0mDashboard[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500"[39m
              [36m>[39m
                [0mWelcome back, User[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-1/3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative w-full max-w-xl"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-gray-400"[39m
                    [36m>[39m
                      [0mğŸ”[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mSearch[0m
                  [36m</button>[39m
                [36m</form>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
              [36m>[39m
                [0mU[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</header>[39m
          [36m<main[39m
            [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mTotal Documents[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                  [36m>[39m
                    [0m10[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mAnalyzed[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                  [36m>[39m
                    [0m5[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                  [36m>[39m
                    [0mAvg. Compliance Score[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                  [36m>[39m
                    [0m85[0m
                    [0m%[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-blue-50 rounded-xl border border-blue-100 p-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-center mb-4"[39m
                [36m>[39m
                  [36m<div>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-blue-900"[39m
                    [36m>[39m
                      [0mReview Uploads[0m
                    [36m</h3>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-blue-700"[39m
                    [36m>[39m
                      [0mThese documents are processed and ready for approval.[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50"[39m
                  [36m>[39m
                    [0mApprove All[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-blue-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<table[39m
                    [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<tbody[39m
                      [33mclass[39m=[32m"divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<td[39m
                          [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mDoc 1[0m
                        [36m</td>[39m
                        [36m<td[39m
                          [33mclass[39m=[32m"px-6 py-4 text-sm text-gray-500"[39m
                        [36m>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-green-600"[39m
                          [36m>[39m
                            [0mReady for Approval[0m
                          [36m</span>[39m
                        [36m</td>[39m
                      [36m</tr>[39m
                    [36m</tbody>[39m
                  [36m</table>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<h3[39m
                          [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                        [36m>[39m
                          [0mRecent Documents[0m
                        [36m</h3>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"text-sm text-gray-500"[39m
                        [36m>[39m
                          [0mManage and analyze your files[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"relative"[39m
                      [36m>[39m
                        [36m<input[39m
                          [33mclass[39m=[32m"hidden"[39m
                          [33mid[39m=[32m"file-upload"[39m
                          [33mmultiple[39m=[32m""[39m
                          [33mtype[39m=[32m"file"[39m
                        [36m/>[39m
                        [36m<label[39m
                          [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                          [33mfor[39m=[32m"file-upload"[39m
                        [36m>[39m
                          [36m<span>[39m
                            [0mâ˜ï¸[0m
                          [36m</span>[39m
                          [0mUpload New[0m
                        [36m</label>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"overflow-x-auto"[39m
                    [36m>[39m
                      [36m<table[39m
                        [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<thead[39m
                          [33mclass[39m=[32m"bg-gray-50"[39m
                        [36m>[39m
                          [36m<tr>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mDocument[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mStatus[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mDate[0m
                            [36m</th>[39m
                            [36m<th[39m
                              [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                            [36m>[39m
                              [0mActions[0m
                            [36m</th>[39m
                          [36m</tr>[39m
                        [36m</thead>[39m
                        [36m<tbody[39m
                          [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                        [36m>[39m
                          [36m<tr>[39m
                            [36m<td[39m
                              [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                              [33mcolspan[39m=[32m"4"[39m
                            [36m>[39m
                              [36m<div[39m
                                [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                              [36m>[39m
                                [36m<span[39m
                                  [33mclass[39m=[32m"text-4xl"[39m
                                [36m>[39m
                                  [0mğŸ“„[0m
                                [36m</span>[39m
                                [36m<p>[39m
                                  [0mNo documents found[0m
                                [36m</p>[39m
                                [36m<p[39m
                                  [33mclass[39m=[32m"text-sm"[39m
                                [36m>[39m
                                  [0mUpload a document to get started[0m
                                [36m</p>[39m
                              [36m</div>[39m
                            [36m</td>[39m
                          [36m</tr>[39m
                        [36m</tbody>[39m
                      [36m</table>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-8"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                    [36m>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Activity[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"font-medium text-gray-900"[39m
                          [36m>[39m
                            [0mDoc 1[0m
                          [36m</div>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"text-xs text-gray-500"[39m
                          [36m>[39m
                            [0mUpdated: [0m
                            [0m1/1/2023[0m
                          [36m</div>[39m
                        [36m</div>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                        [36m>[39m
                          [0mANALYZED[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                    [36m>[39m
                      [0mNeed Help?[0m
                    [36m</h3>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                    [36m>[39m
                      [0mAsk our AI Auditor anything about your compliance status.[0m
                    [36m</p>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                    [36m>[39m
                      [0mStart Chat[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</main>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:116:15

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  2 failed (2)
      Tests  3 failed | 5 passed (8)
   Start at  00:46:19
   Duration  2.96s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x39 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms
 â¯ app/app/dashboard/page.test.tsx (4 tests | 1 failed) 370ms
     âœ“ renders documents and standards 186ms
     âœ“ renders dashboard widgets 78ms
     âœ“ opens analysis modal and runs check 93ms
     Ã— shows staged documents and allows approval 13ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
TestingLibraryElementError: Found multiple elements with the text: Doc 1

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<td[39m
  [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900"[39m
[36m>[39m
  [0mDoc 1[0m
[36m</td>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mclass[39m=[32m"font-medium text-gray-900"[39m
[36m>[39m
  [0mDoc 1[0m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600"[39m
            [36m>[39m
              [0mğŸ””[0m
            [36m</button>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mTotal Documents[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0m10[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAnalyzed[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-blue-600"[39m
                [36m>[39m
                  [0m5[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white p-6 rounded-lg shadow-sm border border-gray-100"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-500 mb-1"[39m
                [36m>[39m
                  [0mAvg. Compliance Score[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-green-600"[39m
                [36m>[39m
                  [0m85[0m
                  [0m%[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 rounded-xl border border-blue-100 p-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-center mb-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold text-blue-900"[39m
                  [36m>[39m
                    [0mReview Uploads[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-blue-700"[39m
                  [36m>[39m
                    [0mThese documents are processed and ready for approval.[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50"[39m
                [36m>[39m
                  [0mApprove All[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-blue-100 overflow-hidden"[39m
              [36m>[39m
                [36m<table[39m
                  [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                [36m>[39m
                  [36m<tbody[39m
                    [33mclass[39m=[32m"divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-4 text-sm font-medium text-gray-900"[39m
                      [36m>[39m
                        [0mDoc 1[0m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-4 text-sm text-gray-500"[39m
                      [36m>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-green-600"[39m
                        [36m>[39m
                          [0mReady for Approval[0m
                        [36m</span>[39m
                      [36m</td>[39m
                    [36m</tr>[39m
                  [36m</tbody>[39m
                [36m</table>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mmultiple[39m=[32m""[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                            [33mcolspan[39m=[32m"4"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"text-4xl"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</span>[39m
                              [36m<p>[39m
                                [0mNo documents found[0m
                              [36m</p>[39m
                              [36m<p[39m
                                [33mclass[39m=[32m"text-sm"[39m
                              [36m>[39m
                                [0mUpload a document to get started[0m
                              [36m</p>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-6 py-4 border-b border-gray-100"[39m
                  [36m>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                    [36m>[39m
                      [0mRecent Activity[0m
                    [36m</h3>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"divide-y divide-gray-100"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"p-4 hover:bg-gray-50 transition-colors flex justify-between items-center"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"font-medium text-gray-900"[39m
                        [36m>[39m
                          [0mDoc 1[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-500"[39m
                        [36m>[39m
                          [0mUpdated: [0m
                          [0m1/1/2023[0m
                        [36m</div>[39m
                      [36m</div>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"[39m
                      [36m>[39m
                        [0mANALYZED[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 â¯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/dashboard/page.test.tsx:117:23
    115| 
    116|         expect(await screen.findByText('Review Uploads')).toBeDefined(â€¦
    117|         expect(screen.getByText('Doc 1')).toBeDefined();
       |                       ^
    118|         expect(screen.getByText('Ready for Approval')).toBeDefined();
    119| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  2 failed (2)
      Tests  3 failed | 5 passed (8)
   Start at  00:46:24
   Duration  940ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x40 

 â¯ lib/api.test.ts (4 tests | 2 failed) 86ms
       âœ“ should fetch documents successfully 14ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 63ms
       Ã— should throw error on upload failure 1ms
 âœ“ app/app/dashboard/page.test.tsx (4 tests) 331ms

 Test Files  1 failed | 1 passed (2)
      Tests  2 failed | 6 passed (8)
   Start at  00:47:06
   Duration  979ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 â¯ lib/api.test.ts (4 tests | 2 failed) 325ms
       âœ“ should fetch documents successfully 9ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 209ms
       Ã— should throw error on upload failure 96ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 547ms
     âœ“ renders and loads standards  403ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 1644ms
     âœ“ renders loading state initially  895ms
     âœ“ renders report data successfully  712ms
 âœ“ app/app/dashboard/page.test.tsx (4 tests) 2303ms
     âœ“ renders documents and standards  1180ms
     âœ“ renders dashboard widgets  578ms
     âœ“ opens analysis modal and runs check  372ms
 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 4374ms
     âœ“ renders document details and download button  4236ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/2]â¯


 Test Files  1 failed | 4 passed (5)
      Tests  2 failed | 13 passed (15)
   Start at  00:52:33
   Duration  50.79s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x42 

 â¯ lib/api.test.ts (4 tests | 2 failed) 325ms
       âœ“ should fetch documents successfully 9ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 209ms
       Ã— should throw error on upload failure 96ms
 âœ“ app/app/dashboard/page.test.tsx (4 tests) 688ms
     âœ“ renders documents and standards  378ms

 Test Files  1 failed | 1 passed (2)
      Tests  2 failed | 6 passed (8)
   Start at  00:53:01
   Duration  2.85s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x43 

 â¯ lib/api.test.ts (4 tests | 2 failed) 325ms
       âœ“ should fetch documents successfully 9ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 209ms
       Ã— should throw error on upload failure 96ms
 âœ“ app/app/dashboard/page.test.tsx (4 tests) 564ms

 Test Files  1 failed | 1 passed (2)
      Tests  2 failed | 6 passed (8)
   Start at  00:53:06
   Duration  1.25s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x44 

 â¯ lib/api.test.ts (4 tests | 2 failed) 325ms
       âœ“ should fetch documents successfully 9ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 209ms
       Ã— should throw error on upload failure 96ms
 âœ“ app/app/dashboard/page.test.tsx (4 tests) 327ms

 Test Files  1 failed | 1 passed (2)
      Tests  2 failed | 6 passed (8)
   Start at  00:53:09
   Duration  1.02s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x45 

 â¯ lib/api.test.ts (4 tests | 2 failed) 325ms
       âœ“ should fetch documents successfully 9ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 209ms
       Ã— should throw error on upload failure 96ms
 âœ“ app/app/dashboard/page.test.tsx (4 tests) 2347ms
     âœ“ renders documents and standards  1302ms
     âœ“ opens analysis modal and runs check  630ms

 Test Files  1 failed | 1 passed (2)
      Tests  2 failed | 6 passed (8)
   Start at  00:53:26
   Duration  3.64s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x46 

 â¯ lib/api.test.ts (4 tests | 2 failed) 325ms
       âœ“ should fetch documents successfully 9ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 209ms
       Ã— should throw error on upload failure 96ms
 â¯ app/app/dashboard/page.test.tsx (4 tests | 1 failed) 1881ms
     âœ“ renders documents and standards  367ms
     âœ“ renders dashboard widgets  938ms
     âœ“ opens analysis modal and runs check 268ms
     Ã— shows staged documents and allows approval 299ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Error: Calling the test function inside another test function is not allowed. Please put it inside "describe" or "suite" so it can be properly collected.
 â¯ app/app/dashboard/page.test.tsx:129:9
    127|             expect(commitDocuments).toHaveBeenCalledWith(['1']);
    128|         });
    129|         it('allows rejecting staged documents', async () => {
       |         ^
    130|             const mockDocuments = [
    131|                 { id: '1', title: 'Doc 1', status: 'STAGED', createdAtâ€¦

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  2 failed (2)
      Tests  3 failed | 5 passed (8)
   Start at  00:53:34
   Duration  4.93s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x47 

 â¯ lib/api.test.ts (4 tests | 2 failed) 325ms
       âœ“ should fetch documents successfully 9ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 209ms
       Ã— should throw error on upload failure 96ms
 â¯ app/app/dashboard/page.test.tsx (4 tests | 1 failed) 445ms
     âœ“ renders documents and standards  315ms
     âœ“ renders dashboard widgets 26ms
     âœ“ opens analysis modal and runs check 81ms
     Ã— shows staged documents and allows approval 20ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Error: Calling the test function inside another test function is not allowed. Please put it inside "describe" or "suite" so it can be properly collected.
 â¯ app/app/dashboard/page.test.tsx:129:9
    127|             expect(commitDocuments).toHaveBeenCalledWith(['1']);
    128|         });
    129|         it('allows rejecting staged documents', async () => {
       |         ^
    130|             const mockDocuments = [
    131|                 { id: '1', title: 'Doc 1', status: 'STAGED', createdAtâ€¦

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  2 failed (2)
      Tests  3 failed | 5 passed (8)
   Start at  00:53:43
   Duration  2.69s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x48 

 â¯ lib/api.test.ts (4 tests | 2 failed) 325ms
       âœ“ should fetch documents successfully 9ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 209ms
       Ã— should throw error on upload failure 96ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 1 error:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.test.tsx:155:0: ERROR: Unexpected "}"
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.test.tsx:155:0
  
  Unexpected "}"
  153 |      });
  154 |  });
  155 |  });
      |  ^
  156 |  
  157 |  
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  2 failed (2)
      Tests  2 failed | 2 passed (4)
   Start at  00:54:16
   Duration  1.11s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x49 

 â¯ lib/api.test.ts (4 tests | 2 failed) 325ms
       âœ“ should fetch documents successfully 9ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 209ms
       Ã— should throw error on upload failure 96ms
 âœ“ app/app/dashboard/page.test.tsx (5 tests) 661ms
     âœ“ renders documents and standards  372ms

 Test Files  1 failed | 1 passed (2)
      Tests  2 failed | 7 passed (9)
   Start at  00:54:55
   Duration  1.89s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 â¯ lib/api.test.ts (4 tests | 2 failed) 36ms
       âœ“ should fetch documents successfully 13ms
       âœ“ should throw error on failure 2ms
       Ã— should upload document successfully 14ms
       Ã— should throw error on upload failure 1ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 588ms
     âœ“ renders and loads standards  536ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 647ms
     âœ“ renders report data successfully  432ms
 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 1375ms
     âœ“ renders document details and download button  1288ms
 âœ“ app/app/dashboard/page.test.tsx (5 tests) 1001ms
     âœ“ renders documents and standards  548ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/2]â¯


 Test Files  1 failed | 4 passed (5)
      Tests  2 failed | 14 passed (16)
   Start at  01:04:04
   Duration  32.47s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x51 

 â¯ lib/api.test.ts (4 tests | 2 failed) 36ms
       âœ“ should fetch documents successfully 13ms
       âœ“ should throw error on failure 2ms
       Ã— should upload document successfully 14ms
       Ã— should throw error on upload failure 1ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications Error: [vitest] No "fetchNotifications" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:10:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:19:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications Error: [vitest] No "fetchNotifications" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:10:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:19:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications Error: [vitest] No "fetchNotifications" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:10:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:19:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications Error: [vitest] No "fetchNotifications" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:10:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:19:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications Error: [vitest] No "fetchNotifications" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:10:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:19:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

 âœ“ app/app/dashboard/page.test.tsx (5 tests) 515ms

 Test Files  1 failed | 1 passed (2)
      Tests  2 failed | 7 passed (9)
   Start at  01:04:46
   Duration  1.83s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x52 

 â¯ lib/api.test.ts (4 tests | 2 failed) 36ms
       âœ“ should fetch documents successfully 13ms
       âœ“ should throw error on failure 2ms
       Ã— should upload document successfully 14ms
       Ã— should throw error on upload failure 1ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications Error: [vitest] No "fetchNotifications" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:10:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:19:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications Error: [vitest] No "fetchNotifications" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:10:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:19:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications Error: [vitest] No "fetchNotifications" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:10:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:19:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications Error: [vitest] No "fetchNotifications" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:10:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:19:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications Error: [vitest] No "fetchNotifications" export is defined on the "@/lib/api" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

    at VitestMocker.createError [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:310:17[90m)[39m
    at Object.get [90m(file:///Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/startModuleRunner.W28wBIgJ.js:383:16[90m)[39m
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:10:32[90m)[39m
    at [90m/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:19:9
    at Object.react_stack_bottom_frame [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:25989:20[90m)[39m
    at runWithFiberInDEV [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at commitHookEffectListMount [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13249:29[90m)[39m
    at commitHookPassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:13336:11[90m)[39m
    at commitPassiveMountOnFiber [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15484:13[90m)[39m
    at recursivelyTraversePassiveMountEffects [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:15439:11[90m)[39m {
  codeFrame: [32m'vi.mock(import("@/lib/api"), async (importOriginal) => {\n'[39m +
    [32m'  const actual = await importOriginal()\n'[39m +
    [32m'  return {\n'[39m +
    [32m'    ...actual,\n'[39m +
    [32m'    // your mocked methods\n'[39m +
    [32m'  }\n'[39m +
    [32m'})'[39m
}

 âœ“ app/app/dashboard/page.test.tsx (5 tests) 1735ms
     âœ“ renders documents and standards  1029ms
     âœ“ opens analysis modal and runs check  435ms

 Test Files  1 failed | 1 passed (2)
      Tests  2 failed | 7 passed (9)
   Start at  01:04:50
   Duration  2.39s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x53 

 â¯ lib/api.test.ts (4 tests | 2 failed) 36ms
       âœ“ should fetch documents successfully 13ms
       âœ“ should throw error on failure 2ms
       Ã— should upload document successfully 14ms
       Ã— should throw error on upload failure 1ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at processTimers (node:internal/timers:516:9)[39m

 âœ“ app/app/dashboard/page.test.tsx (5 tests) 1788ms
     âœ“ renders documents and standards  1137ms

 Test Files  1 failed | 1 passed (2)
      Tests  2 failed | 7 passed (9)
   Start at  01:05:01
   Duration  5.87s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x54 

 â¯ lib/api.test.ts (4 tests | 2 failed) 36ms
       âœ“ should fetch documents successfully 13ms
       âœ“ should throw error on failure 2ms
       Ã— should upload document successfully 14ms
       Ã— should throw error on upload failure 1ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/dashboard/page.test.tsx (6 tests | 1 failed) 2606ms
     âœ“ renders documents and standards  845ms
     âœ“ renders dashboard widgets 279ms
     âœ“ opens analysis modal and runs check 283ms
     âœ“ shows staged documents and allows approval 73ms
     âœ“ allows rejecting staged documents 40ms
     Ã— shows notifications 1084ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed (2)
      Tests  3 failed | 7 passed (10)
     Errors  1 error
   Start at  01:05:10
   Duration  3.72s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x55 

 â¯ lib/api.test.ts (4 tests | 2 failed) 36ms
       âœ“ should fetch documents successfully 13ms
       âœ“ should throw error on failure 2ms
       Ã— should upload document successfully 14ms
       Ã— should throw error on upload failure 1ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/dashboard/page.test.tsx (6 tests | 1 failed) 1873ms
     âœ“ renders documents and standards  394ms
     âœ“ renders dashboard widgets 208ms
     âœ“ opens analysis modal and runs check 83ms
     âœ“ shows staged documents and allows approval 20ms
     âœ“ allows rejecting staged documents 146ms
     Ã— shows notifications 1020ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed (2)
      Tests  3 failed | 7 passed (10)
     Errors  1 error
   Start at  01:05:16
   Duration  4.30s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x56 

 â¯ lib/api.test.ts (4 tests | 2 failed) 36ms
       âœ“ should fetch documents successfully 13ms
       âœ“ should throw error on failure 2ms
       Ã— should upload document successfully 14ms
       Ã— should throw error on upload failure 1ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/dashboard/page.test.tsx (6 tests | 1 failed) 1895ms
     âœ“ renders documents and standards  395ms
     âœ“ renders dashboard widgets 115ms
     âœ“ opens analysis modal and runs check 248ms
     âœ“ shows staged documents and allows approval 54ms
     âœ“ allows rejecting staged documents 77ms
     Ã— shows notifications 1006ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed (2)
      Tests  3 failed | 7 passed (10)
     Errors  1 error
   Start at  01:05:31
   Duration  2.72s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 â¯ lib/api.test.ts (4 tests | 2 failed) 835ms
       âœ“ should fetch documents successfully 279ms
       âœ“ should throw error on failure 62ms
       Ã— should upload document successfully 369ms
       Ã— should throw error on upload failure 42ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 4054ms
     âœ“ renders and loads standards  2715ms
     âœ“ runs gap analysis and displays results  1238ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 1040ms
     âœ“ renders loading state initially  527ms
     âœ“ renders report data successfully  427ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
An update to DocumentView inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to DocumentView inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to DocumentView inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 1 failed) 5973ms
     Ã— renders document details and download button 5783ms
     âœ“ triggers export on button click 122ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/dashboard/page.test.tsx (6 tests | 1 failed) 7693ms
     âœ“ renders documents and standards  2891ms
     âœ“ renders dashboard widgets  1376ms
     âœ“ opens analysis modal and runs check  545ms
     âœ“ shows staged documents and allows approval  487ms
     âœ“ allows rejecting staged documents  880ms
     Ã— shows notifications 1495ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 4 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/4]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/4]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/4]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ app/app/documents/[id]/page.test.tsx:24:5
     22|     });
     23| 
     24|     it('renders document details and download button', async () => {
       |     ^
     25|         const mockDocument = {
     26|             id: 'doc-1',

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/4]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  3 failed | 2 passed (5)
      Tests  4 failed | 13 passed (17)
     Errors  1 error
   Start at  01:10:06
   Duration  77.38s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/hooks.ts x58 

 â¯ lib/api.test.ts (4 tests | 2 failed) 835ms
       âœ“ should fetch documents successfully 279ms
       âœ“ should throw error on failure 62ms
       Ã— should upload document successfully 369ms
       Ã— should throw error on upload failure 42ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 1 failed) 5973ms
     Ã— renders document details and download button 5783ms
     âœ“ triggers export on button click 122ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/dashboard/page.test.tsx (6 tests | 1 failed) 2802ms
     âœ“ renders documents and standards  494ms
     âœ“ renders dashboard widgets 261ms
     âœ“ opens analysis modal and runs check  423ms
     âœ“ shows staged documents and allows approval  359ms
     âœ“ allows rejecting staged documents 256ms
     Ã— shows notifications 1008ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  3 failed (3)
      Tests  4 failed | 8 passed (12)
     Errors  1 error
   Start at  01:11:04
   Duration  6.41s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 â¯ lib/api.test.ts (4 tests | 2 failed) 9ms
       âœ“ should fetch documents successfully 5ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 2ms
       Ã— should throw error on upload failure 0ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 879ms
     âœ“ renders and loads standards  850ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 1798ms
     âœ“ renders loading state initially  1349ms
     âœ“ renders report data successfully  376ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 2953ms
     âœ“ renders document details and download button  2840ms
 â¯ app/app/dashboard/page.test.tsx (6 tests | 1 failed) 5073ms
     âœ“ renders documents and standards  2304ms
     âœ“ renders dashboard widgets  401ms
     âœ“ opens analysis modal and runs check  899ms
     âœ“ shows staged documents and allows approval 296ms
     âœ“ allows rejecting staged documents 109ms
     Ã— shows notifications 1059ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 3 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/3]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/3]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/3]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed | 3 passed (5)
      Tests  3 failed | 14 passed (17)
     Errors  1 error
   Start at  01:11:27
   Duration  40.10s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/Header.tsx x60 

 â¯ lib/api.test.ts (4 tests | 2 failed) 9ms
       âœ“ should fetch documents successfully 5ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 2ms
       Ã— should throw error on upload failure 0ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/dashboard/page.test.tsx (6 tests | 1 failed) 5200ms
     âœ“ renders documents and standards  1282ms
     âœ“ renders dashboard widgets  644ms
     âœ“ opens analysis modal and runs check  1024ms
     âœ“ shows staged documents and allows approval  423ms
     âœ“ allows rejecting staged documents  806ms
     Ã— shows notifications 1020ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed (2)
      Tests  3 failed | 7 passed (10)
     Errors  1 error
   Start at  01:12:00
   Duration  9.24s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/Header.tsx x61 

 â¯ lib/api.test.ts (4 tests | 2 failed) 9ms
       âœ“ should fetch documents successfully 5ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 2ms
       Ã— should throw error on upload failure 0ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/dashboard/page.test.tsx (6 tests | 1 failed) 4315ms
     âœ“ renders documents and standards  2069ms
     âœ“ renders dashboard widgets 121ms
     âœ“ opens analysis modal and runs check  628ms
     âœ“ shows staged documents and allows approval  380ms
     âœ“ allows rejecting staged documents 42ms
     Ã— shows notifications 1027ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed (2)
      Tests  3 failed | 7 passed (10)
     Errors  1 error
   Start at  01:12:15
   Duration  7.88s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x62 

 â¯ lib/api.test.ts (4 tests | 2 failed) 9ms
       âœ“ should fetch documents successfully 5ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 2ms
       Ã— should throw error on upload failure 0ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 â¯ app/app/dashboard/page.test.tsx (6 tests | 1 failed) 2566ms
     âœ“ renders documents and standards  637ms
     âœ“ renders dashboard widgets 267ms
     âœ“ opens analysis modal and runs check  381ms
     âœ“ shows staged documents and allows approval 47ms
     âœ“ allows rejecting staged documents 212ms
     Ã— shows notifications 1020ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed (2)
      Tests  3 failed | 7 passed (10)
     Errors  1 error
   Start at  01:12:38
   Duration  8.05s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.test.tsx x63 

 â¯ lib/api.test.ts (4 tests | 2 failed) 9ms
       âœ“ should fetch documents successfully 5ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 2ms
       Ã— should throw error on upload failure 0ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 1824ms
     âœ“ renders documents and standards 187ms
     âœ“ renders dashboard widgets  304ms
     âœ“ opens analysis modal and runs check 139ms
     âœ“ shows staged documents and allows approval 28ms
     âœ“ allows rejecting staged documents 144ms
     Ã— shows notifications 1015ms
     Ã— shows upload progress 7ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
TestingLibraryElementError: Unable to find a label with the text of: Upload New

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mmultiple[39m=[32m""[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                            [33mcolspan[39m=[32m"4"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"text-4xl"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</span>[39m
                              [36m<p>[39m
                                [0mNo documents found[0m
                              [36m</p>[39m
                              [36m<p[39m
                                [33mclass[39m=[32m"text-sm"[39m
                              [36m>[39m
                                [0mUpload a document to get started[0m
                              [36m</p>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getAllByLabelText node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/dashboard/page.test.tsx:202:30
    200|         // Trigger upload
    201|         const file = new File(['hello'], 'hello.png', { type: 'image/pâ€¦
    202|         const input = screen.getByLabelText('Upload New') as HTMLInputâ€¦
       |                              ^
    203|         Object.defineProperty(input, 'files', { value: [file] });
    204|         fireEvent.change(input);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/2]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed (2)
      Tests  4 failed | 7 passed (11)
     Errors  1 error
   Start at  01:13:10
   Duration  2.83s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 â¯ lib/api.test.ts (4 tests | 2 failed) 163ms
       âœ“ should fetch documents successfully 96ms
       âœ“ should throw error on failure 7ms
       Ã— should upload document successfully 21ms
       Ã— should throw error on upload failure 20ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 1747ms
     âœ“ renders loading state initially  730ms
     âœ“ renders report data successfully  977ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 2305ms
     âœ“ renders and loads standards  927ms
     âœ“ runs gap analysis and displays results  1377ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 4280ms
     âœ“ renders document details and download button  4029ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 3325ms
     âœ“ renders documents and standards  1201ms
     âœ“ renders dashboard widgets  341ms
     âœ“ opens analysis modal and runs check  522ms
     âœ“ shows staged documents and allows approval 51ms
     âœ“ allows rejecting staged documents 177ms
     Ã— shows notifications 1025ms
     Ã— shows upload progress 7ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 4 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/4]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/4]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/4]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
TestingLibraryElementError: Unable to find a label with the text of: Upload New

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mmultiple[39m=[32m""[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                            [33mcolspan[39m=[32m"4"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"text-4xl"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</span>[39m
                              [36m<p>[39m
                                [0mNo documents found[0m
                              [36m</p>[39m
                              [36m<p[39m
                                [33mclass[39m=[32m"text-sm"[39m
                              [36m>[39m
                                [0mUpload a document to get started[0m
                              [36m</p>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getAllByLabelText node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/dashboard/page.test.tsx:202:30
    200|         // Trigger upload
    201|         const file = new File(['hello'], 'hello.png', { type: 'image/pâ€¦
    202|         const input = screen.getByLabelText('Upload New') as HTMLInputâ€¦
       |                              ^
    203|         Object.defineProperty(input, 'files', { value: [file] });
    204|         fireEvent.change(input);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/4]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed | 3 passed (5)
      Tests  4 failed | 14 passed (18)
     Errors  1 error
   Start at  01:48:51
   Duration  38.88s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 â¯ lib/api.test.ts (4 tests | 2 failed) 249ms
       âœ“ should fetch documents successfully 101ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 75ms
       Ã— should throw error on upload failure 20ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 312ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 576ms
     âœ“ renders report data successfully  417ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 1523ms
     âœ“ renders document details and download button  1510ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 2106ms
     âœ“ renders documents and standards  676ms
     âœ“ renders dashboard widgets 88ms
     âœ“ opens analysis modal and runs check 233ms
     âœ“ shows staged documents and allows approval 58ms
     âœ“ allows rejecting staged documents 28ms
     Ã— shows notifications 1008ms
     Ã— shows upload progress 11ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 4 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/4]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/4]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/4]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
TestingLibraryElementError: Unable to find a label with the text of: Upload New

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mmultiple[39m=[32m""[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                            [33mcolspan[39m=[32m"4"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"text-4xl"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</span>[39m
                              [36m<p>[39m
                                [0mNo documents found[0m
                              [36m</p>[39m
                              [36m<p[39m
                                [33mclass[39m=[32m"text-sm"[39m
                              [36m>[39m
                                [0mUpload a document to get started[0m
                              [36m</p>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getAllByLabelText node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/dashboard/page.test.tsx:202:30
    200|         // Trigger upload
    201|         const file = new File(['hello'], 'hello.png', { type: 'image/pâ€¦
    202|         const input = screen.getByLabelText('Upload New') as HTMLInputâ€¦
       |                              ^
    203|         Object.defineProperty(input, 'files', { value: [file] });
    204|         fireEvent.change(input);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/4]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed | 3 passed (5)
      Tests  4 failed | 14 passed (18)
     Errors  1 error
   Start at  01:53:03
   Duration  22.72s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x23 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 2106ms
     âœ“ renders documents and standards  676ms
     âœ“ renders dashboard widgets 88ms
     âœ“ opens analysis modal and runs check 233ms
     âœ“ shows staged documents and allows approval 58ms
     âœ“ allows rejecting staged documents 28ms
     Ã— shows notifications 1008ms
     Ã— shows upload progress 11ms
 â¯ lib/api.test.ts (4 tests | 2 failed) 249ms
       âœ“ should fetch documents successfully 101ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 75ms
       Ã— should throw error on upload failure 20ms
 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 135ms

 Test Files  2 failed | 1 passed (3)
      Tests  4 failed | 9 passed (13)
   Start at  01:53:27
   Duration  346ms

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x24 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 2106ms
     âœ“ renders documents and standards  676ms
     âœ“ renders dashboard widgets 88ms
     âœ“ opens analysis modal and runs check 233ms
     âœ“ shows staged documents and allows approval 58ms
     âœ“ allows rejecting staged documents 28ms
     Ã— shows notifications 1008ms
     Ã— shows upload progress 11ms
 â¯ lib/api.test.ts (4 tests | 2 failed) 249ms
       âœ“ should fetch documents successfully 101ms
       âœ“ should throw error on failure 1ms
       Ã— should upload document successfully 75ms
       Ã— should throw error on upload failure 20ms
â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯â¯ Unhandled Error â¯â¯â¯â¯â¯â¯â¯
Error: [vitest-pool-runner]: Timeout waiting for worker to respond
 â¯ Timeout.<anonymous> node_modules/vitest/dist/chunks/cli-api.CbjxIXjQ.js:7341:58
 â¯ listOnTimeout node:internal/timers:581:17
 â¯ processTimers node:internal/timers:519:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed | 1 passed (3)
      Tests  4 failed | 9 passed (13)
     Errors  1 error
   Start at  01:55:42
   Duration  346ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  package.json 

 â¯ lib/api.test.ts (4 tests | 2 failed) 25ms
       âœ“ should fetch documents successfully 18ms
       âœ“ should throw error on failure 4ms
       Ã— should upload document successfully 2ms
       Ã— should throw error on upload failure 0ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

 âœ“ app/app/page.test.tsx (1 test) 2671ms
     âœ“ renders a heading  2660ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 571ms
     âœ“ renders report data successfully  514ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at processTimers (node:internal/timers:516:9)[39m

 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 484ms
     âœ“ renders and loads standards  441ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 1900ms
     âœ“ renders document details and download button  1806ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 2707ms
     âœ“ renders documents and standards  692ms
     âœ“ renders dashboard widgets 280ms
     âœ“ opens analysis modal and runs check  347ms
     âœ“ shows staged documents and allows approval 112ms
     âœ“ allows rejecting staged documents 257ms
     Ã— shows notifications 1005ms
     Ã— shows upload progress 13ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 4 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/4]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
TestingLibraryElementError: Unable to find a label with the text of: Upload New

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mmultiple[39m=[32m""[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                            [33mcolspan[39m=[32m"4"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"text-4xl"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</span>[39m
                              [36m<p>[39m
                                [0mNo documents found[0m
                              [36m</p>[39m
                              [36m<p[39m
                                [33mclass[39m=[32m"text-sm"[39m
                              [36m>[39m
                                [0mUpload a document to get started[0m
                              [36m</p>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getAllByLabelText node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/dashboard/page.test.tsx:202:30
    200|         // Trigger upload
    201|         const file = new File(['hello'], 'hello.png', { type: 'image/pâ€¦
    202|         const input = screen.getByLabelText('Upload New') as HTMLInputâ€¦
       |                              ^
    203|         Object.defineProperty(input, 'files', { value: [file] });
    204|         fireEvent.change(input);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/4]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/4]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/4]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed | 4 passed (6)
      Tests  4 failed | 15 passed (19)
     Errors  1 error
   Start at  02:16:16
   Duration  41.61s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

stderr | lib/api.test.ts > API Client > fetchDocuments > should throw error on failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

 â¯ lib/api.test.ts (4 tests | 3 failed) 269ms
       Ã— should fetch documents successfully 259ms
       âœ“ should throw error on failure 6ms
       Ã— should upload document successfully 2ms
       Ã— should throw error on upload failure 1ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 1091ms
     âœ“ renders and loads standards  349ms
     âœ“ runs gap analysis and displays results  740ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 1213ms
     âœ“ renders report data successfully  396ms
     âœ“ renders error state on failure  781ms
 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 2953ms
     âœ“ renders document details and download button  2909ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 2437ms
     âœ“ renders documents and standards  765ms
     âœ“ renders dashboard widgets 214ms
     âœ“ opens analysis modal and runs check 225ms
     âœ“ shows staged documents and allows approval 22ms
     âœ“ allows rejecting staged documents 187ms
     Ã— shows notifications 1010ms
     Ã— shows upload progress 12ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 5 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > fetchDocuments > should fetch documents successfully
AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "/documents" ][90m

Received: 

[1m  1st vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "/api/auth/session",[90m
[31m+   {[90m
[31m+     "headers": {[90m
[31m+       "Content-Type": "application/json",[90m
[31m+     },[90m
[31m+   },[90m
[2m  ][22m

[1m  2nd vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "http://localhost:4000/documents",[90m
[31m+   {[90m
[31m+     "headers": {},[90m
[31m+   },[90m
[2m  ][22m
[39m[90m

Number of calls: [1m2[22m
[39m
 â¯ lib/api.test.ts:23:34
     21|             const docs = await fetchDocuments();
     22|             expect(docs).toEqual(mockDocs);
     23|             expect(global.fetch).toHaveBeenCalledWith(expect.stringConâ€¦
       |                                  ^
     24|         });
     25| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/5]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/5]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/5]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/5]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
TestingLibraryElementError: Unable to find a label with the text of: Upload New

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mmultiple[39m=[32m""[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                            [33mcolspan[39m=[32m"4"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"text-4xl"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</span>[39m
                              [36m<p>[39m
                                [0mNo documents found[0m
                              [36m</p>[39m
                              [36m<p[39m
                                [33mclass[39m=[32m"text-sm"[39m
                              [36m>[39m
                                [0mUpload a document to get started[0m
                              [36m</p>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getAllByLabelText node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/dashboard/page.test.tsx:202:30
    200|         // Trigger upload
    201|         const file = new File(['hello'], 'hello.png', { type: 'image/pâ€¦
    202|         const input = screen.getByLabelText('Upload New') as HTMLInputâ€¦
       |                              ^
    203|         Object.defineProperty(input, 'files', { value: [file] });
    204|         fireEvent.change(input);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/5]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed | 3 passed (5)
      Tests  5 failed | 13 passed (18)
     Errors  1 error
   Start at  02:19:01
   Duration  27.45s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 1089ms
     âœ“ renders and loads standards  367ms
     âœ“ runs gap analysis and displays results  719ms
stderr | lib/api.test.ts > API Client > fetchDocuments > should throw error on failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

 â¯ lib/api.test.ts (4 tests | 3 failed) 345ms
       Ã— should fetch documents successfully 269ms
       âœ“ should throw error on failure 63ms
       Ã— should upload document successfully 4ms
       Ã— should throw error on upload failure 0ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 1713ms
     âœ“ renders report data successfully  1357ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 2989ms
     âœ“ renders document details and download button  2891ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at processTimers (node:internal/timers:516:9)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 2223ms
     âœ“ renders documents and standards  681ms
     âœ“ renders dashboard widgets 56ms
     âœ“ opens analysis modal and runs check 239ms
     âœ“ shows staged documents and allows approval 122ms
     âœ“ allows rejecting staged documents 101ms
     Ã— shows notifications 1012ms
     Ã— shows upload progress 10ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 5 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > fetchDocuments > should fetch documents successfully
AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "/documents" ][90m

Received: 

[1m  1st vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "/api/auth/session",[90m
[31m+   {[90m
[31m+     "headers": {[90m
[31m+       "Content-Type": "application/json",[90m
[31m+     },[90m
[31m+   },[90m
[2m  ][22m

[1m  2nd vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "http://localhost:4000/documents",[90m
[31m+   {[90m
[31m+     "headers": {},[90m
[31m+   },[90m
[2m  ][22m
[39m[90m

Number of calls: [1m2[22m
[39m
 â¯ lib/api.test.ts:23:34
     21|             const docs = await fetchDocuments();
     22|             expect(docs).toEqual(mockDocs);
     23|             expect(global.fetch).toHaveBeenCalledWith(expect.stringConâ€¦
       |                                  ^
     24|         });
     25| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/5]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/5]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/5]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/5]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
TestingLibraryElementError: Unable to find a label with the text of: Upload New

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mmultiple[39m=[32m""[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                            [33mcolspan[39m=[32m"4"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"text-4xl"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</span>[39m
                              [36m<p>[39m
                                [0mNo documents found[0m
                              [36m</p>[39m
                              [36m<p[39m
                                [33mclass[39m=[32m"text-sm"[39m
                              [36m>[39m
                                [0mUpload a document to get started[0m
                              [36m</p>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getAllByLabelText node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/dashboard/page.test.tsx:202:30
    200|         // Trigger upload
    201|         const file = new File(['hello'], 'hello.png', { type: 'image/pâ€¦
    202|         const input = screen.getByLabelText('Upload New') as HTMLInputâ€¦
       |                              ^
    203|         Object.defineProperty(input, 'files', { value: [file] });
    204|         fireEvent.change(input);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/5]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  2 failed | 3 passed (5)
      Tests  5 failed | 13 passed (18)
     Errors  1 error
   Start at  02:19:55
   Duration  40.57s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  tests/auth.spec.ts x1 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 2223ms
     âœ“ renders documents and standards  681ms
     âœ“ renders dashboard widgets 56ms
     âœ“ opens analysis modal and runs check 239ms
     âœ“ shows staged documents and allows approval 122ms
     âœ“ allows rejecting staged documents 101ms
     Ã— shows notifications 1012ms
     Ã— shows upload progress 10ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 345ms
       Ã— should fetch documents successfully 269ms
       âœ“ should throw error on failure 63ms
       Ã— should upload document successfully 4ms
       Ã— should throw error on upload failure 0ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  tests/auth.spec.ts [ tests/auth.spec.ts ]
Error: No test suite found in file /Users/isak/Downloads/iso-doc-platform/frontend/tests/auth.spec.ts
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  3 failed (3)
      Tests  5 failed | 6 passed (11)
   Start at  02:20:35
   Duration  277ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  tests/auth.spec.ts x2 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 2223ms
     âœ“ renders documents and standards  681ms
     âœ“ renders dashboard widgets 56ms
     âœ“ opens analysis modal and runs check 239ms
     âœ“ shows staged documents and allows approval 122ms
     âœ“ allows rejecting staged documents 101ms
     Ã— shows notifications 1012ms
     Ã— shows upload progress 10ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 345ms
       Ã— should fetch documents successfully 269ms
       âœ“ should throw error on failure 63ms
       Ã— should upload document successfully 4ms
       Ã— should throw error on upload failure 0ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  tests/auth.spec.ts [ tests/auth.spec.ts ]
Error: Playwright Test did not expect test() to be called here.
Most common reasons include:
- You are calling test() in a configuration file.
- You are calling test() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._createTest node_modules/playwright/lib/common/testType.js:88:24
 â¯ node_modules/playwright/lib/transform/transform.js:275:12
 â¯ tests/auth.spec.ts:3:1
      1| import { test, expect } from '@playwright/test';
      2| 
      3| test('authentication flow', async ({ page }) => {
       | ^
      4|     // 1. Go to dashboard (should redirect to login)
      5|     await page.goto('http://localhost:3000/dashboard');

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  3 failed (3)
      Tests  5 failed | 6 passed (11)
   Start at  02:20:38
   Duration  100ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  tests/auth.spec.ts x3 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 2223ms
     âœ“ renders documents and standards  681ms
     âœ“ renders dashboard widgets 56ms
     âœ“ opens analysis modal and runs check 239ms
     âœ“ shows staged documents and allows approval 122ms
     âœ“ allows rejecting staged documents 101ms
     Ã— shows notifications 1012ms
     Ã— shows upload progress 10ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 345ms
       Ã— should fetch documents successfully 269ms
       âœ“ should throw error on failure 63ms
       Ã— should upload document successfully 4ms
       Ã— should throw error on upload failure 0ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  tests/auth.spec.ts [ tests/auth.spec.ts ]
Error: Playwright Test did not expect test() to be called here.
Most common reasons include:
- You are calling test() in a configuration file.
- You are calling test() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._createTest node_modules/playwright/lib/common/testType.js:88:24
 â¯ node_modules/playwright/lib/transform/transform.js:275:12
 â¯ tests/auth.spec.ts:3:1
      1| import { test, expect } from '@playwright/test';
      2| 
      3| test('authentication flow', async ({ page }) => {
       | ^
      4|     // 1. Go to dashboard (should redirect to login)
      5|     await page.goto('http://localhost:3000/dashboard');

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  3 failed (3)
      Tests  5 failed | 6 passed (11)
   Start at  02:20:53
   Duration  373ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  package.json 

stderr | lib/api.test.ts > API Client > fetchDocuments > should throw error on failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

 â¯ lib/api.test.ts (4 tests | 3 failed) 1075ms
       Ã— should fetch documents successfully 754ms
       âœ“ should throw error on failure 250ms
       Ã— should upload document successfully 17ms
       Ã— should throw error on upload failure 34ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 2670ms
     âœ“ renders loading state initially  1288ms
     âœ“ renders report data successfully  981ms
     âœ“ renders error state on failure  348ms
 âœ“ app/app/page.test.tsx (1 test) 4165ms
     âœ“ renders a heading  4108ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:60:5)[39m
[90m    at listOnTimeout (node:internal/timers:545:9)[39m
[90m    at processTimers (node:internal/timers:519:7)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 2892ms
     âœ“ renders document details and download button  2724ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
Failed to load notifications TypeError: Cannot read properties of undefined (reading 'filter')
    at loadNotifications [90m(/Users/isak/Downloads/iso-doc-platform/frontend/[39mlib/hooks.ts:12:33[90m)[39m

stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
An error occurred in the <ActivityWidget> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 395ms
stderr | app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Dashboard inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ app/app/dashboard/page.test.tsx (7 tests | 2 failed) 6060ms
     âœ“ renders documents and standards  3686ms
     âœ“ renders dashboard widgets 25ms
     âœ“ opens analysis modal and runs check  853ms
     âœ“ shows staged documents and allows approval 58ms
     âœ“ allows rejecting staged documents  339ms
     Ã— shows notifications 1063ms
     Ã— shows upload progress 16ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  tests/auth.spec.ts [ tests/auth.spec.ts ]
Error: Playwright Test did not expect test() to be called here.
Most common reasons include:
- You are calling test() in a configuration file.
- You are calling test() in a file that is imported by the configuration file.
- You have two different versions of @playwright/test. This usually happens
  when one of the dependencies in your package.json depends on @playwright/test.
 â¯ TestTypeImpl._currentSuite node_modules/playwright/lib/common/testType.js:75:13
 â¯ TestTypeImpl._createTest node_modules/playwright/lib/common/testType.js:88:24
 â¯ node_modules/playwright/lib/transform/transform.js:275:12
 â¯ tests/auth.spec.ts:3:1
      1| import { test, expect } from '@playwright/test';
      2| 
      3| test('authentication flow', async ({ page }) => {
       | ^
      4|     // 1. Go to dashboard (should redirect to login)
      5|     await page.goto('http://localhost:3000/dashboard');

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/6]â¯


â¯â¯â¯â¯â¯â¯â¯ Failed Tests 5 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
TestingLibraryElementError: Unable to find an element with the text: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/dashboard/page.test.tsx:168:15
    166|         render(<Dashboard />);
    167| 
    168|         await waitFor(() => {
       |               ^
    169|             expect(screen.getByText('1')).toBeDefined(); // Unread couâ€¦
    170|         });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/6]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
TestingLibraryElementError: Unable to find a label with the text of: Upload New

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 lg:grid-cols-3 gap-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"lg:col-span-2 space-y-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"[39m
                  [36m>[39m
                    [36m<div>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-lg font-semibold text-gray-900"[39m
                      [36m>[39m
                        [0mRecent Documents[0m
                      [36m</h3>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-gray-500"[39m
                      [36m>[39m
                        [0mManage and analyze your files[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative"[39m
                    [36m>[39m
                      [36m<input[39m
                        [33mclass[39m=[32m"hidden"[39m
                        [33mid[39m=[32m"file-upload"[39m
                        [33mmultiple[39m=[32m""[39m
                        [33mtype[39m=[32m"file"[39m
                      [36m/>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                        [33mfor[39m=[32m"file-upload"[39m
                      [36m>[39m
                        [36m<span>[39m
                          [0mâ˜ï¸[0m
                        [36m</span>[39m
                        [0mUpload New[0m
                      [36m</label>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"overflow-x-auto"[39m
                  [36m>[39m
                    [36m<table[39m
                      [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<thead[39m
                        [33mclass[39m=[32m"bg-gray-50"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDocument[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mStatus[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mDate[0m
                          [36m</th>[39m
                          [36m<th[39m
                            [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                          [36m>[39m
                            [0mActions[0m
                          [36m</th>[39m
                        [36m</tr>[39m
                      [36m</thead>[39m
                      [36m<tbody[39m
                        [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                      [36m>[39m
                        [36m<tr>[39m
                          [36m<td[39m
                            [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                            [33mcolspan[39m=[32m"4"[39m
                          [36m>[39m
                            [36m<div[39m
                              [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                            [36m>[39m
                              [36m<span[39m
                                [33mclass[39m=[32m"text-4xl"[39m
                              [36m>[39m
                                [0mğŸ“„[0m
                              [36m</span>[39m
                              [36m<p>[39m
                                [0mNo documents found[0m
                              [36m</p>[39m
                              [36m<p[39m
                                [33mclass[39m=[32m"text-sm"[39m
                              [36m>[39m
                                [0mUpload a document to get started[0m
                              [36m</p>[39m
                            [36m</div>[39m
                          [36m</td>[39m
                        [36m</tr>[39m
                      [36m</tbody>[39m
                    [36m</table>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-8"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white"[39m
                [36m>[39m
                  [36m<h3[39m
                    [33mclass[39m=[32m"text-lg font-semibold mb-2"[39m
                  [36m>[39m
                    [0mNeed Help?[0m
                  [36m</h3>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-blue-100 text-sm mb-4"[39m
                  [36m>[39m
                    [0mAsk our AI Auditor anything about your compliance status.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"w-full bg-white text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-50 transition"[39m
                  [36m>[39m
                    [0mStart Chat[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getAllByLabelText node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/dashboard/page.test.tsx:202:30
    200|         // Trigger upload
    201|         const file = new File(['hello'], 'hello.png', { type: 'image/pâ€¦
    202|         const input = screen.getByLabelText('Upload New') as HTMLInputâ€¦
       |                              ^
    203|         Object.defineProperty(input, 'files', { value: [file] });
    204|         fireEvent.change(input);

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/6]â¯

 FAIL  lib/api.test.ts > API Client > fetchDocuments > should fetch documents successfully
AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "/documents" ][90m

Received: 

[1m  1st vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "/api/auth/session",[90m
[31m+   {[90m
[31m+     "headers": {[90m
[31m+       "Content-Type": "application/json",[90m
[31m+     },[90m
[31m+   },[90m
[2m  ][22m

[1m  2nd vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "http://localhost:4000/documents",[90m
[31m+   {[90m
[31m+     "headers": {},[90m
[31m+   },[90m
[2m  ][22m
[39m[90m

Number of calls: [1m2[22m
[39m
 â¯ lib/api.test.ts:23:34
     21|             const docs = await fetchDocuments();
     22|             expect(docs).toEqual(mockDocs);
     23|             expect(global.fetch).toHaveBeenCalledWith(expect.stringConâ€¦
       |                                  ^
     24|         });
     25| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/6]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/6]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/6]â¯

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯ Uncaught Exception â¯â¯â¯â¯â¯
TypeError: Cannot read properties of undefined (reading 'length')
 â¯ ActivityWidget app/components/ActivityWidget.tsx:14:27
     12|             </div>
     13|             <div className="divide-y divide-gray-100">
     14|                 {activity.length === 0 ? (
       |                           ^
     15|                     <div className="p-6 text-center text-gray-500">No â€¦
     16|                 ) : (
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41
 â¯ renderRootSync node_modules/react-dom/cjs/react-dom-client.development.js:17450:11
 â¯ performWorkOnRoot node_modules/react-dom/cjs/react-dom-client.development.js:16583:35

This error originated in "app/app/dashboard/page.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows notifications". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files  3 failed | 4 passed (7)
      Tests  5 failed | 14 passed (19)
     Errors  1 error
   Start at  02:21:06
   Duration  71.01s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
Test removed... [ tests/auth.spec.ts ]

c[3J RERUN  app/app/dashboard/page.tsx x70 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1075ms
       Ã— should fetch documents successfully 754ms
       âœ“ should throw error on failure 250ms
       Ã— should upload document successfully 17ms
       Ã— should throw error on upload failure 34ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 502ms
     Ã— renders documents and standards 381ms
     Ã— renders dashboard widgets 4ms
     Ã— opens analysis modal and runs check 4ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 105ms
     Ã— shows notifications 3ms
     Ã— shows upload progress 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:38:5
     36|     const [stats, setStats] = useState<any>(null);
     37| 
     38|     useCopilotReadable({
       |     ^
     39|         description: 'Dashboard document lists visible to the user',
     40|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  2 failed (2)
      Tests  10 failed | 1 passed (11)
   Start at  02:26:09
   Duration  8.67s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x71 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1075ms
       Ã— should fetch documents successfully 754ms
       âœ“ should throw error on failure 250ms
       Ã— should upload document successfully 17ms
       Ã— should throw error on upload failure 34ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 218ms
     Ã— renders documents and standards 180ms
     Ã— renders dashboard widgets 6ms
     Ã— opens analysis modal and runs check 4ms
     Ã— shows staged documents and allows approval 3ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 7ms
     Ã— shows upload progress 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:38:5
     36|     const [stats, setStats] = useState<any>(null);
     37| 
     38|     useCopilotReadable({
       |     ^
     39|         description: 'Dashboard document lists visible to the user',
     40|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  2 failed (2)
      Tests  10 failed | 1 passed (11)
   Start at  02:27:05
   Duration  7.86s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x29 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 218ms
     Ã— renders documents and standards 180ms
     Ã— renders dashboard widgets 6ms
     Ã— opens analysis modal and runs check 4ms
     Ã— shows staged documents and allows approval 3ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 7ms
     Ã— shows upload progress 2ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1075ms
       Ã— should fetch documents successfully 754ms
       âœ“ should throw error on failure 250ms
       Ã— should upload document successfully 17ms
       Ã— should throw error on upload failure 34ms
 âœ“ app/app/documents/[id]/page.test.tsx (2 tests) 1685ms
     âœ“ renders document details and download button  1609ms

 Test Files  2 failed | 1 passed (3)
      Tests  10 failed | 3 passed (13)
   Start at  02:27:39
   Duration  4.23s

 PASS  Waiting for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x30 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 218ms
     Ã— renders documents and standards 180ms
     Ã— renders dashboard widgets 6ms
     Ã— opens analysis modal and runs check 4ms
     Ã— shows staged documents and allows approval 3ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 7ms
     Ã— shows upload progress 2ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1075ms
       Ã— should fetch documents successfully 754ms
       âœ“ should throw error on failure 250ms
       Ã— should upload document successfully 17ms
       Ã— should throw error on upload failure 34ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 196ms
     Ã— renders document details and download button 99ms
     Ã— triggers export on button click 11ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:33:5
     31|     const [suggestedOwner, setSuggestedOwner] = useState<string | nullâ€¦
     32| 
     33|     useCopilotReadable({
       |     ^
     34|         description: 'Document metadata',
     35|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  3 failed (3)
      Tests  12 failed | 1 passed (13)
   Start at  02:27:49
   Duration  4.17s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x31 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 218ms
     Ã— renders documents and standards 180ms
     Ã— renders dashboard widgets 6ms
     Ã— opens analysis modal and runs check 4ms
     Ã— shows staged documents and allows approval 3ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 7ms
     Ã— shows upload progress 2ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1075ms
       Ã— should fetch documents successfully 754ms
       âœ“ should throw error on failure 250ms
       Ã— should upload document successfully 17ms
       Ã— should throw error on upload failure 34ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 171ms
     Ã— renders document details and download button 167ms
     Ã— triggers export on button click 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:33:5
     31|     const [suggestedOwner, setSuggestedOwner] = useState<string | nullâ€¦
     32| 
     33|     useCopilotReadable({
       |     ^
     34|         description: 'Document metadata',
     35|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  3 failed (3)
      Tests  12 failed | 1 passed (13)
   Start at  02:28:22
   Duration  3.45s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x32 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 218ms
     Ã— renders documents and standards 180ms
     Ã— renders dashboard widgets 6ms
     Ã— opens analysis modal and runs check 4ms
     Ã— shows staged documents and allows approval 3ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 7ms
     Ã— shows upload progress 2ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1075ms
       Ã— should fetch documents successfully 754ms
       âœ“ should throw error on failure 250ms
       Ã— should upload document successfully 17ms
       Ã— should throw error on upload failure 34ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 76ms
     Ã— renders document details and download button 71ms
     Ã— triggers export on button click 4ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:33:5
     31|     const [suggestedOwner, setSuggestedOwner] = useState<string | nullâ€¦
     32| 
     33|     useCopilotReadable({
       |     ^
     34|         description: 'Document metadata',
     35|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  3 failed (3)
      Tests  12 failed | 1 passed (13)
   Start at  02:28:50
   Duration  3.87s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  package.json 

stderr | lib/api.test.ts > API Client > fetchDocuments > should throw error on failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

 â¯ lib/api.test.ts (4 tests | 3 failed) 1335ms
       Ã— should fetch documents successfully 357ms
       âœ“ should throw error on failure  532ms
       Ã— should upload document successfully 202ms
       Ã— should throw error on upload failure 227ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 592ms
     âœ“ runs gap analysis and displays results  543ms
 âœ“ app/app/page.test.tsx (1 test) 1014ms
     âœ“ renders a heading  1013ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 735ms
     âœ“ renders report data successfully  414ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 22ms
     Ã— renders documents and standards 11ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 227ms
     Ã— renders document details and download button 152ms
     Ã— triggers export on button click 1ms

â¯â¯â¯â¯â¯â¯ Failed Tests 12 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:38:5
     36|     const [stats, setStats] = useState<any>(null);
     37| 
     38|     useCopilotReadable({
       |     ^
     39|         description: 'Dashboard document lists visible to the user',
     40|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/12]â¯

 FAIL  lib/api.test.ts > API Client > fetchDocuments > should fetch documents successfully
AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "/documents" ][90m

Received: 

[1m  1st vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "/api/auth/session",[90m
[31m+   {[90m
[31m+     "headers": {[90m
[31m+       "Content-Type": "application/json",[90m
[31m+     },[90m
[31m+   },[90m
[2m  ][22m

[1m  2nd vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "http://localhost:4000/documents",[90m
[31m+   {[90m
[31m+     "headers": {},[90m
[31m+   },[90m
[2m  ][22m
[39m[90m

Number of calls: [1m2[22m
[39m
 â¯ lib/api.test.ts:23:34
     21|             const docs = await fetchDocuments();
     22|             expect(docs).toEqual(mockDocs);
     23|             expect(global.fetch).toHaveBeenCalledWith(expect.stringConâ€¦
       |                                  ^
     24|         });
     25| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/12]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/12]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/12]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:33:5
     31|     const [suggestedOwner, setSuggestedOwner] = useState<string | nullâ€¦
     32| 
     33|     useCopilotReadable({
       |     ^
     34|         description: 'Document metadata',
     35|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/12]â¯


 Test Files  3 failed | 3 passed (6)
      Tests  12 failed | 7 passed (19)
   Start at  02:28:56
   Duration  54.17s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x34 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 22ms
     Ã— renders documents and standards 11ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1335ms
       Ã— should fetch documents successfully 357ms
       âœ“ should throw error on failure  532ms
       Ã— should upload document successfully 202ms
       Ã— should throw error on upload failure 227ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 15ms
     Ã— triggers export on button click 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:33:5
     31|     const [suggestedOwner, setSuggestedOwner] = useState<string | nullâ€¦
     32| 
     33|     useCopilotReadable({
       |     ^
     34|         description: 'Document metadata',
     35|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  3 failed (3)
      Tests  12 failed | 1 passed (13)
   Start at  02:29:31
   Duration  1.19s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  package.json 

stderr | lib/api.test.ts > API Client > fetchDocuments > should throw error on failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

 â¯ lib/api.test.ts (4 tests | 3 failed) 93ms
       Ã— should fetch documents successfully 13ms
       âœ“ should throw error on failure 17ms
       Ã— should upload document successfully 1ms
       Ã— should throw error on upload failure 62ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 1070ms
     âœ“ renders report data successfully  931ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 1070ms
     âœ“ runs gap analysis and displays results  829ms
 âœ“ app/app/page.test.tsx (1 test) 889ms
     âœ“ renders a heading  888ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 18ms
     Ã— renders documents and standards 11ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 103ms
     Ã— renders document details and download button 64ms
     Ã— triggers export on button click 5ms

â¯â¯â¯â¯â¯â¯ Failed Tests 12 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:38:5
     36|     const [stats, setStats] = useState<any>(null);
     37| 
     38|     useCopilotReadable({
       |     ^
     39|         description: 'Dashboard document lists visible to the user',
     40|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/12]â¯

 FAIL  lib/api.test.ts > API Client > fetchDocuments > should fetch documents successfully
AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "/documents" ][90m

Received: 

[1m  1st vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "/api/auth/session",[90m
[31m+   {[90m
[31m+     "headers": {[90m
[31m+       "Content-Type": "application/json",[90m
[31m+     },[90m
[31m+   },[90m
[2m  ][22m

[1m  2nd vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "http://localhost:4000/documents",[90m
[31m+   {[90m
[31m+     "headers": {},[90m
[31m+   },[90m
[2m  ][22m
[39m[90m

Number of calls: [1m2[22m
[39m
 â¯ lib/api.test.ts:23:34
     21|             const docs = await fetchDocuments();
     22|             expect(docs).toEqual(mockDocs);
     23|             expect(global.fetch).toHaveBeenCalledWith(expect.stringConâ€¦
       |                                  ^
     24|         });
     25| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/12]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/12]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/12]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:33:5
     31|     const [suggestedOwner, setSuggestedOwner] = useState<string | nullâ€¦
     32| 
     33|     useCopilotReadable({
       |     ^
     34|         description: 'Document metadata',
     35|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/12]â¯


 Test Files  3 failed | 3 passed (6)
      Tests  12 failed | 7 passed (19)
   Start at  02:42:49
   Duration  59.27s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

stderr | lib/api.test.ts > API Client > fetchDocuments > should throw error on failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 âœ“ app/app/reports/[id]/page.test.tsx (3 tests) 1305ms
     âœ“ renders report data successfully  1123ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 24ms
     Ã— renders document details and download button 20ms
     Ã— triggers export on button click 1ms
 âœ“ app/app/gap-analysis/page.test.tsx (2 tests) 859ms
     âœ“ renders and loads standards  331ms
     âœ“ runs gap analysis and displays results  361ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 25ms
     Ã— renders documents and standards 16ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯ Failed Tests 12 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > fetchDocuments > should fetch documents successfully
AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "/documents" ][90m

Received: 

[1m  1st vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "/api/auth/session",[90m
[31m+   {[90m
[31m+     "headers": {[90m
[31m+       "Content-Type": "application/json",[90m
[31m+     },[90m
[31m+   },[90m
[2m  ][22m

[1m  2nd vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "http://localhost:4000/documents",[90m
[31m+   {[90m
[31m+     "headers": {},[90m
[31m+   },[90m
[2m  ][22m
[39m[90m

Number of calls: [1m2[22m
[39m
 â¯ lib/api.test.ts:23:34
     21|             const docs = await fetchDocuments();
     22|             expect(docs).toEqual(mockDocs);
     23|             expect(global.fetch).toHaveBeenCalledWith(expect.stringConâ€¦
       |                                  ^
     24|         });
     25| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/12]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/12]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/12]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:38:5
     36|     const [stats, setStats] = useState<any>(null);
     37| 
     38|     useCopilotReadable({
       |     ^
     39|         description: 'Dashboard document lists visible to the user',
     40|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/12]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:33:5
     31|     const [suggestedOwner, setSuggestedOwner] = useState<string | nullâ€¦
     32| 
     33|     useCopilotReadable({
       |     ^
     34|         description: 'Document metadata',
     35|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/12]â¯


 Test Files  3 failed | 2 passed (5)
      Tests  12 failed | 6 passed (18)
   Start at  02:58:37
   Duration  34.68s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x37 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 25ms
     Ã— renders documents and standards 16ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 71ms
     Ã— renders document details and download button 57ms
     Ã— triggers export on button click 13ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:34:5
     32|     const [suggestedOwner, setSuggestedOwner] = useState<string | nullâ€¦
     33| 
     34|     useCopilotReadable({
       |     ^
     35|         description: 'Document metadata',
     36|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  3 failed (3)
      Tests  12 failed | 1 passed (13)
   Start at  02:59:57
   Duration  2.76s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/gap-analysis/page.tsx x19 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 25ms
     Ã— renders documents and standards 16ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 71ms
     Ã— renders document details and download button 57ms
     Ã— triggers export on button click 13ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 22ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > renders and loads standards
 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > runs gap analysis and displays results
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ GapAnalysisPage app/app/gap-analysis/page.tsx:15:5
     13|     const [report, setReport] = useState<any>(null);
     14| 
     15|     useCopilotReadable({
       |     ^
     16|         description: 'Available ISO standards for gap analysis',
     17|         value: standards,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  4 failed (4)
      Tests  14 failed | 1 passed (15)
   Start at  03:05:18
   Duration  1.52s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/gap-analysis/page.tsx x20 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 25ms
     Ã— renders documents and standards 16ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 71ms
     Ã— renders document details and download button 57ms
     Ã— triggers export on button click 13ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 15ms
     Ã— renders and loads standards 12ms
     Ã— runs gap analysis and displays results 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > renders and loads standards
 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > runs gap analysis and displays results
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ GapAnalysisPage app/app/gap-analysis/page.tsx:15:5
     13|     const [report, setReport] = useState<any>(null);
     14| 
     15|     useCopilotReadable({
       |     ^
     16|         description: 'Available ISO standards for gap analysis',
     17|         value: standards,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  4 failed (4)
      Tests  14 failed | 1 passed (15)
   Start at  03:05:24
   Duration  1.11s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/reports/[id]/page.tsx x23 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 25ms
     Ã— renders documents and standards 16ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 71ms
     Ã— renders document details and download button 57ms
     Ã— triggers export on button click 13ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 15ms
     Ã— renders and loads standards 12ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 3 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders loading state initially
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders report data successfully
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders error state on failure
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ ComplianceReportPage app/app/reports/[id]/page.tsx:51:5
     49|     }
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Aktiv compliance-rapport med detaljerte resultatâ€¦
     53|         value: report,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/3]â¯


 Test Files  5 failed (5)
      Tests  17 failed | 1 passed (18)
   Start at  03:05:29
   Duration  1.31s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/gap-analysis/page.tsx x21 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 25ms
     Ã— renders documents and standards 16ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 71ms
     Ã— renders document details and download button 57ms
     Ã— triggers export on button click 13ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > renders and loads standards
 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > runs gap analysis and displays results
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ GapAnalysisPage app/app/gap-analysis/page.tsx:13:5
     11|     const [report, setReport] = useState<any>(null);
     12| 
     13|     useCopilotReadable({
       |     ^
     14|         description: 'Available ISO standards for gap analysis',
     15|         value: standards,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  5 failed (5)
      Tests  17 failed | 1 passed (18)
   Start at  03:05:43
   Duration  1.66s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x75 

 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 71ms
     Ã— renders document details and download button 57ms
     Ã— triggers export on button click 13ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 478ms
     Ã— renders documents and standards 15ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 374ms
     Ã— shows notifications 75ms
     Ã— shows upload progress 5ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:38:5
     36|     const [stats, setStats] = useState<any>(null);
     37| 
     38|     useCopilotReadable({
       |     ^
     39|         description: 'Dashboard document lists visible to the user',
     40|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  5 failed (5)
      Tests  17 failed | 1 passed (18)
   Start at  03:09:02
   Duration  6.51s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x38 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 478ms
     Ã— renders documents and standards 15ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 374ms
     Ã— shows notifications 75ms
     Ã— shows upload progress 5ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 32ms
     Ã— renders document details and download button 25ms
     Ã— triggers export on button click 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:34:5
     32|     const [suggestedOwner, setSuggestedOwner] = useState<string | nullâ€¦
     33| 
     34|     useCopilotReadable({
       |     ^
     35|         description: 'Document metadata',
     36|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  5 failed (5)
      Tests  17 failed | 1 passed (18)
   Start at  03:09:16
   Duration  3.18s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x39 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 478ms
     Ã— renders documents and standards 15ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 374ms
     Ã— shows notifications 75ms
     Ã— shows upload progress 5ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 26ms
     Ã— renders document details and download button 23ms
     Ã— triggers export on button click 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:42:5
     40|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     41| 
     42|     useCopilotReadable({
       |     ^
     43|         description: 'Document metadata',
     44|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  5 failed (5)
      Tests  17 failed | 1 passed (18)
   Start at  03:14:01
   Duration  1.56s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x40 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 478ms
     Ã— renders documents and standards 15ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 374ms
     Ã— shows notifications 75ms
     Ã— shows upload progress 5ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 19ms
     Ã— renders document details and download button 13ms
     Ã— triggers export on button click 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:42:5
     40|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     41| 
     42|     useCopilotReadable({
       |     ^
     43|         description: 'Document metadata',
     44|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  5 failed (5)
      Tests  17 failed | 1 passed (18)
   Start at  03:14:14
   Duration  2.73s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/page.test.tsx x1 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 478ms
     Ã— renders documents and standards 15ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 374ms
     Ã— shows notifications 75ms
     Ã— shows upload progress 5ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 19ms
     Ã— renders document details and download button 13ms
     Ã— triggers export on button click 3ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 4 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > renders document list
 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
 FAIL  app/app/documents/page.test.tsx > Documents Page > allows deleting a document
 FAIL  app/app/documents/page.test.tsx > Documents Page > shows staged documents separately
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentsPage app/app/documents/page.tsx:21:5
     19|     const [uploading, setUploading] = useState(false);
     20| 
     21|     useCopilotReadable({
       |     ^
     22|         description: 'List of all documents',
     23|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/4]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:14:20
   Duration  2.24s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x41 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 478ms
     Ã— renders documents and standards 15ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 374ms
     Ã— shows notifications 75ms
     Ã— shows upload progress 5ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders document details and download button 36ms
     Ã— triggers export on button click 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:42:5
     40|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     41| 
     42|     useCopilotReadable({
       |     ^
     43|         description: 'Document metadata',
     44|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:14:31
   Duration  1.87s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x76 

 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders document details and download button 36ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 300ms
     Ã— renders documents and standards 37ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 140ms
     Ã— shows staged documents and allows approval 98ms
     Ã— allows rejecting staged documents 7ms
     Ã— shows notifications 16ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:32:47
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:16:45
   Duration  5.51s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x77 

 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders document details and download button 36ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 97ms
     Ã— renders documents and standards 82ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:38:5
     36|     const [stats, setStats] = useState<any>(null);
     37| 
     38|     useCopilotReadable({
       |     ^
     39|         description: 'Dashboard document lists visible to the user',
     40|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:16:54
   Duration  3.09s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x42 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 97ms
     Ã— renders documents and standards 82ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 70ms
     Ã— renders document details and download button 66ms
     Ã— triggers export on button click 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:42:5
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:17:53
   Duration  1.44s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x43 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 97ms
     Ã— renders documents and standards 82ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 33ms
     Ã— renders document details and download button 21ms
     Ã— triggers export on button click 11ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:50:5
     48|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     49| 
     50|     useCopilotReadable({
       |     ^
     51|         description: 'Document metadata',
     52|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:17:56
   Duration  959ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x44 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 97ms
     Ã— renders documents and standards 82ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 35ms
     Ã— renders document details and download button 29ms
     Ã— triggers export on button click 4ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:50:5
     48|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     49| 
     50|     useCopilotReadable({
       |     ^
     51|         description: 'Document metadata',
     52|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:17:59
   Duration  1.02s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x45 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 97ms
     Ã— renders documents and standards 82ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 61ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:50:5
     48|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     49| 
     50|     useCopilotReadable({
       |     ^
     51|         description: 'Document metadata',
     52|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:18:21
   Duration  1.89s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x78 

 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 61ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 4 errors:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:245:50: ERROR: Unexpected closing "tr" tag does not match opening "td" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:246:46: ERROR: The character "}" is not valid inside a JSX element
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:247:42: ERROR: Unexpected closing "tbody" tag does not match opening "tr" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:248:44: ERROR: Unterminated regular expression
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:245:50
  
  Unexpected closing "tr" tag does not match opening "td" tag
  243 |                                                              )}
  244 |                                                          </td>
  245 |                                                  </tr>
      |                                                    ^
  246 |                                              ))}
  247 |                                          </tbody>
  
  The character "}" is not valid inside a JSX element
  244 |                                                          </td>
  245 |                                                  </tr>
  246 |                                              ))}
      |                                                ^
  247 |                                          </tbody>
  248 |                                      </table>
  
  Unexpected closing "tbody" tag does not match opening "tr" tag
  245 |                                                  </tr>
  246 |                                              ))}
  247 |                                          </tbody>
      |                                            ^
  248 |                                      </table>
  249 |                                  </div>
  
  Unterminated regular expression
  246 |                                              ))}
  247 |                                          </tbody>
  248 |                                      </table>
      |                                              ^
  249 |                                  </div>
  250 |                              </div>
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  6 failed (6)
      Tests  14 failed | 1 passed (15)
   Start at  03:19:39
   Duration  547ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x79 

 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 61ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 4 errors:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:266:50: ERROR: Unexpected closing "tr" tag does not match opening "td" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:267:46: ERROR: The character "}" is not valid inside a JSX element
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:268:42: ERROR: Unexpected closing "tbody" tag does not match opening "tr" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:269:44: ERROR: Unterminated regular expression
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:266:50
  
  Unexpected closing "tr" tag does not match opening "td" tag
  264 |                                                              )}
  265 |                                                          </td>
  266 |                                                  </tr>
      |                                                    ^
  267 |                                              ))}
  268 |                                          </tbody>
  
  The character "}" is not valid inside a JSX element
  265 |                                                          </td>
  266 |                                                  </tr>
  267 |                                              ))}
      |                                                ^
  268 |                                          </tbody>
  269 |                                      </table>
  
  Unexpected closing "tbody" tag does not match opening "tr" tag
  266 |                                                  </tr>
  267 |                                              ))}
  268 |                                          </tbody>
      |                                            ^
  269 |                                      </table>
  270 |                                  </div>
  
  Unterminated regular expression
  267 |                                              ))}
  268 |                                          </tbody>
  269 |                                      </table>
      |                                              ^
  270 |                                  </div>
  271 |                              </div>
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  6 failed (6)
      Tests  14 failed | 1 passed (15)
   Start at  03:20:53
   Duration  133ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x80 

 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 61ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 4 errors:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:296:50: ERROR: Unexpected closing "tr" tag does not match opening "td" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:297:46: ERROR: The character "}" is not valid inside a JSX element
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:298:42: ERROR: Unexpected closing "tbody" tag does not match opening "tr" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:299:44: ERROR: Unterminated regular expression
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:296:50
  
  Unexpected closing "tr" tag does not match opening "td" tag
  294 |                                                              )}
  295 |                                                          </td>
  296 |                                                  </tr>
      |                                                    ^
  297 |                                              ))}
  298 |                                          </tbody>
  
  The character "}" is not valid inside a JSX element
  295 |                                                          </td>
  296 |                                                  </tr>
  297 |                                              ))}
      |                                                ^
  298 |                                          </tbody>
  299 |                                      </table>
  
  Unexpected closing "tbody" tag does not match opening "tr" tag
  296 |                                                  </tr>
  297 |                                              ))}
  298 |                                          </tbody>
      |                                            ^
  299 |                                      </table>
  300 |                                  </div>
  
  Unterminated regular expression
  297 |                                              ))}
  298 |                                          </tbody>
  299 |                                      </table>
      |                                              ^
  300 |                                  </div>
  301 |                              </div>
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  6 failed (6)
      Tests  14 failed | 1 passed (15)
   Start at  03:20:59
   Duration  204ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x81 

 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 61ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 4 errors:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:301:50: ERROR: Unexpected closing "tr" tag does not match opening "td" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:302:46: ERROR: The character "}" is not valid inside a JSX element
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:303:42: ERROR: Unexpected closing "tbody" tag does not match opening "tr" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:304:44: ERROR: Unterminated regular expression
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/dashboard/page.tsx:301:50
  
  Unexpected closing "tr" tag does not match opening "td" tag
  299 |                                                              )}
  300 |                                                          </td>
  301 |                                                  </tr>
      |                                                    ^
  302 |                                              ))}
  303 |                                          </tbody>
  
  The character "}" is not valid inside a JSX element
  300 |                                                          </td>
  301 |                                                  </tr>
  302 |                                              ))}
      |                                                ^
  303 |                                          </tbody>
  304 |                                      </table>
  
  Unexpected closing "tbody" tag does not match opening "tr" tag
  301 |                                                  </tr>
  302 |                                              ))}
  303 |                                          </tbody>
      |                                            ^
  304 |                                      </table>
  305 |                                  </div>
  
  Unterminated regular expression
  302 |                                              ))}
  303 |                                          </tbody>
  304 |                                      </table>
      |                                              ^
  305 |                                  </div>
  306 |                              </div>
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  6 failed (6)
      Tests  14 failed | 1 passed (15)
   Start at  03:21:03
   Duration  565ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x82 

 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 61ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 94ms
     Ã— renders documents and standards 87ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:50:5
     48|     const [formSavedAt, setFormSavedAt] = useState<Record<string, striâ€¦
     49| 
     50|     useCopilotReadable({
       |     ^
     51|         description: 'Dashboard document lists visible to the user',
     52|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:21:47
   Duration  3.62s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x83 

 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 61ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 71ms
     Ã— renders documents and standards 47ms
     Ã— renders dashboard widgets 7ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 3ms
     Ã— shows notifications 8ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:50:5
     48|     const [formSavedAt, setFormSavedAt] = useState<Record<string, striâ€¦
     49| 
     50|     useCopilotReadable({
       |     ^
     51|         description: 'Dashboard document lists visible to the user',
     52|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:22:04
   Duration  3.49s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x84 

 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 61ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 15ms
     Ã— renders document list 10ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 1ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 236ms
     Ã— renders documents and standards 206ms
     Ã— renders dashboard widgets 3ms
     Ã— opens analysis modal and runs check 6ms
     Ã— shows staged documents and allows approval 7ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 7ms
     Ã— shows upload progress 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:50:5
     48|     const [formSavedAt, setFormSavedAt] = useState<Record<string, striâ€¦
     49| 
     50|     useCopilotReadable({
       |     ^
     51|         description: 'Dashboard document lists visible to the user',
     52|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:22:14
   Duration  3.98s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/page.test.tsx x2 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 236ms
     Ã— renders documents and standards 206ms
     Ã— renders dashboard widgets 3ms
     Ã— opens analysis modal and runs check 6ms
     Ã— shows staged documents and allows approval 7ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 7ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 189ms
       Ã— should fetch documents successfully 59ms
       âœ“ should throw error on failure 100ms
       Ã— should upload document successfully 28ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 30ms
     Ã— renders loading state initially 20ms
     Ã— renders report data successfully 7ms
     Ã— renders error state on failure 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 61ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 20ms
     Ã— renders and loads standards 17ms
     Ã— runs gap analysis and displays results 2ms
stderr | app/app/documents/page.test.tsx > Documents Page > handles file upload
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to DocumentsPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to DocumentsPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ app/app/documents/page.test.tsx (4 tests | 1 failed) 283ms
     âœ“ renders document list 204ms
     Ã— handles file upload 34ms
     âœ“ allows deleting a document 28ms
     âœ“ shows staged documents separately 15ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
TestingLibraryElementError: Unable to find a label with the text of: Upload New

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDocuments[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500"[39m
                [36m>[39m
                  [0mManage all your uploaded files[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"file-upload"[39m
                  [33mmultiple[39m=[32m""[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                  [33mfor[39m=[32m"file-upload"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mâ˜ï¸[0m
                  [36m</span>[39m
                  [0mUpload New[0m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"overflow-x-auto"[39m
              [36m>[39m
                [36m<table[39m
                  [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                [36m>[39m
                  [36m<thead[39m
                    [33mclass[39m=[32m"bg-gray-50"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mDocument[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mStatus[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mDate[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mActions[0m
                      [36m</th>[39m
                    [36m</tr>[39m
                  [36m</thead>[39m
                  [36m<tbody[39m
                    [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                        [33mcolspan[39m=[32m"4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                        [36m>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-4xl"[39m
                          [36m>[39m
                            [0mğŸ“„[0m
                          [36m</span>[39m
                          [36m<p>[39m
                            [0mNo active documents found[0m
                          [36m</p>[39m
                        [36m</div>[39m
                      [36m</td>[39m
                    [36m</tr>[39m
                  [36m</tbody>[39m
                [36m</table>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getAllByLabelText node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/documents/page.test.tsx:61:30
     59| 
     60|         const file = new File(['dummy'], 'test.pdf', { type: 'applicatâ€¦
     61|         const input = screen.getByLabelText('Upload New') as HTMLInputâ€¦
       |                              ^
     62|         
     63|         Object.defineProperty(input, 'files', { value: [file] });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  6 failed (6)
      Tests  18 failed | 4 passed (22)
   Start at  03:27:06
   Duration  1.36s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

stderr | lib/api.test.ts > API Client > fetchDocuments > should throw error on failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

 â¯ lib/api.test.ts (4 tests | 3 failed) 251ms
       Ã— should fetch documents successfully 96ms
       âœ“ should throw error on failure 101ms
       Ã— should upload document successfully 21ms
       Ã— should throw error on upload failure 0ms
stderr | app/app/documents/page.test.tsx > Documents Page > handles file upload
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Header inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to DocumentsPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to DocumentsPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ app/app/documents/page.test.tsx (4 tests | 2 failed) 10694ms
     âœ“ renders document list  3437ms
     Ã— handles file upload 2373ms
     âœ“ allows deleting a document  1671ms
     Ã— shows staged documents separately 3069ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 457ms
     Ã— renders document details and download button 408ms
     Ã— triggers export on button click 5ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 321ms
     Ã— renders loading state initially 221ms
     Ã— renders report data successfully 4ms
     Ã— renders error state on failure 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 333ms
     Ã— renders and loads standards 327ms
     Ã— runs gap analysis and displays results 4ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 456ms
     Ã— renders documents and standards 264ms
     Ã— renders dashboard widgets 4ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 133ms
     Ã— allows rejecting staged documents 7ms
     Ã— shows notifications 41ms
     Ã— shows upload progress 4ms

â¯â¯â¯â¯â¯â¯ Failed Tests 19 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > fetchDocuments > should fetch documents successfully
AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "/documents" ][90m

Received: 

[1m  1st vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "/api/auth/session",[90m
[31m+   {[90m
[31m+     "headers": {[90m
[31m+       "Content-Type": "application/json",[90m
[31m+     },[90m
[31m+   },[90m
[2m  ][22m

[1m  2nd vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "http://localhost:4000/documents",[90m
[31m+   {[90m
[31m+     "headers": {},[90m
[31m+   },[90m
[2m  ][22m
[39m[90m

Number of calls: [1m2[22m
[39m
 â¯ lib/api.test.ts:23:34
     21|             const docs = await fetchDocuments();
     22|             expect(docs).toEqual(mockDocs);
     23|             expect(global.fetch).toHaveBeenCalledWith(expect.stringConâ€¦
       |                                  ^
     24|         });
     25| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/19]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/19]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/19]â¯

 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders loading state initially
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders report data successfully
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders error state on failure
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ ComplianceReportPage app/app/reports/[id]/page.tsx:51:5
     49|     }
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Aktiv compliance-rapport med detaljerte resultatâ€¦
     53|         value: report,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/19]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:50:5
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/19]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:50:5
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/19]â¯

 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > renders and loads standards
 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > runs gap analysis and displays results
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ GapAnalysisPage app/app/gap-analysis/page.tsx:13:5
     11|     const [report, setReport] = useState<any>(null);
     12| 
     13|     useCopilotReadable({
       |     ^
     14|         description: 'Available ISO standards for gap analysis',
     15|         value: standards,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/19]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
TestingLibraryElementError: Unable to find a label with the text of: Upload New

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDocuments[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500"[39m
                [36m>[39m
                  [0mManage all your uploaded files[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"file-upload"[39m
                  [33mmultiple[39m=[32m""[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                  [33mfor[39m=[32m"file-upload"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mâ˜ï¸[0m
                  [36m</span>[39m
                  [0mUpload New[0m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"overflow-x-auto"[39m
              [36m>[39m
                [36m<table[39m
                  [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                [36m>[39m
                  [36m<thead[39m
                    [33mclass[39m=[32m"bg-gray-50"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mDocument[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mStatus[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mDate[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mActions[0m
                      [36m</th>[39m
                    [36m</tr>[39m
                  [36m</thead>[39m
                  [36m<tbody[39m
                    [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                        [33mcolspan[39m=[32m"4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                        [36m>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-4xl"[39m
                          [36m>[39m
                            [0mğŸ“„[0m
                          [36m</span>[39m
                          [36m<p>[39m
                            [0mNo active documents found[0m
                          [36m</p>[39m
                        [36m</div>[39m
                      [36m</td>[39m
                    [36m</tr>[39m
                  [36m</tbody>[39m
                [36m</table>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getAllByLabelText node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/documents/page.test.tsx:61:30
     59| 
     60|         const file = new File(['dummy'], 'test.pdf', { type: 'applicatâ€¦
     61|         const input = screen.getByLabelText('Upload New') as HTMLInputâ€¦
       |                              ^
     62|         
     63|         Object.defineProperty(input, 'files', { value: [file] });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/19]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > shows staged documents separately
TestingLibraryElementError: Unable to find an element with the text: Active Doc. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDocuments[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500"[39m
                [36m>[39m
                  [0mManage all your uploaded files[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"file-upload"[39m
                  [33mmultiple[39m=[32m""[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                  [33mfor[39m=[32m"file-upload"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mâ˜ï¸[0m
                  [36m</span>[39m
                  [0mUpload New[0m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"overflow-x-auto"[39m
              [36m>[39m
                [36m<table[39m
                  [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                [36m>[39m
                  [36m<thead[39m
                    [33mclass[39m=[32m"bg-gray-50"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mDocument[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mStatus[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mDate[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mActions[0m
                      [36m</th>[39m
                    [36m</tr>[39m
                  [36m</thead>[39m
                  [36m<tbody[39m
                    [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                        [33mcolspan[39m=[32m"4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                        [36m>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-4xl"[39m
                          [36m>[39m
                            [0mğŸ“„[0m
                          [36m</span>[39m
                          [36m<p>[39m
                            [0mNo active documents found[0m
                          [36m</p>[39m
                        [36m</div>[39m
                      [36m</td>[39m
                    [36m</tr>[39m
                  [36m</tbody>[39m
                [36m</table>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
      [36m>[39m
        [36m<aside[39m
          [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
            [36m>[39m
              [36m<span>[39m
                [0mğŸ›¡ï¸[0m
              [36m</span>[39m
              [0m ISO Doc[0m
            [36m</h1>[39m
          [36m</div>[39m
          [36m<nav[39m
            [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
          [36m>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/dashboard"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“Š[0m
              [36m</span>[39m
              [0mDashboard[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
              [33mhref[39m=[32m"/app/documents"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“[0m
              [36m</span>[39m
              [0mDocuments[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/gap-analysis"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ”[0m
              [36m</span>[39m
              [0mGap Analysis[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/reports"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mğŸ“‹[0m
              [36m</span>[39m
              [0mReports[0m
            [36m</a>[39m
            [36m<a[39m
              [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
              [33mhref[39m=[32m"/app/settings"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xl"[39m
              [36m>[39m
                [0mâš™ï¸[0m
              [36m</span>[39m
              [0mSettings[0m
            [36m</a>[39m
          [36m</nav>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
              [36m>[39m
                [0mPro Plan[0m
              [36m</h4>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
              [36m>[39m
                [0mGet access to advanced AI features.[0m
              [36m</p>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
              [36m>[39m
                [0mUpgrade Now[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</aside>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex-1 flex flex-col"[39m
        [36m>[39m
          [36m<header[39m
            [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
              [36m>[39m
                [0mDashboard[0m
              [36m</h2>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sm text-gray-500"[39m
              [36m>[39m
                [0mWelcome back, User[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-1/3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative w-full max-w-xl"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-gray-400"[39m
                    [36m>[39m
                      [0mğŸ”[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mSearch[0m
                  [36m</button>[39m
                [36m</form>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
                [36m>[39m
                  [0mğŸ””[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
              [36m>[39m
                [0mU[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</header>[39m
          [36m<main[39m
            [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-center"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h1[39m
                    [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
                  [36m>[39m
                    [0mDocuments[0m
                  [36m</h1>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-sm text-gray-500"[39m
                  [36m>[39m
                    [0mManage all your uploaded files[0m
                  [36m</p>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"hidden"[39m
                    [33mid[39m=[32m"file-upload"[39m
                    [33mmultiple[39m=[32m""[39m
                    [33mtype[39m=[32m"file"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                    [33mfor[39m=[32m"file-upload"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0mâ˜ï¸[0m
                    [36m</span>[39m
                    [0mUpload New[0m
                  [36m</label>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"overflow-x-auto"[39m
                [36m>[39m
                  [36m<table[39m
                    [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<thead[39m
                      [33mclass[39m=[32m"bg-gray-50"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                        [36m>[39m
                          [0mDocument[0m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                        [36m>[39m
                          [0mStatus[0m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                        [36m>[39m
                          [0mDate[0m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                        [36m>[39m
                          [0mActions[0m
                        [36m</th>[39m
                      [36m</tr>[39m
                    [36m</thead>[39m
                    [36m<tbody[39m
                      [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<td[39m
                          [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                          [33mcolspan[39m=[32m"4"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                          [36m>[39m
                            [36m<span[39m
                              [33mclass[39m=[32m"text-4xl"[39m
                            [36m>[39m
                              [0mğŸ“„[0m
                            [36m</span>[39m
                            [36m<p>[39m
                              [0mNo active documents found[0m
                            [36m</p>[39m
                          [36m</div>[39m
                        [36m</td>[39m
                      [36m</tr>[39m
                    [36m</tbody>[39m
                  [36m</table>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</main>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 â¯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 â¯ app/app/documents/page.test.tsx:106:15
    104|         render(<DocumentsPage />);
    105| 
    106|         await waitFor(() => {
       |               ^
    107|             expect(screen.getByText('Active Doc')).toBeDefined();
    108|             expect(screen.getByText('Staged Doc')).toBeDefined();

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/19]â¯


 Test Files  6 failed (6)
      Tests  19 failed | 3 passed (22)
   Start at  03:27:34
   Duration  108.11s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

stderr | lib/api.test.ts > API Client > fetchDocuments > should throw error on failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

 â¯ lib/api.test.ts (4 tests | 3 failed) 3640ms
       Ã— should fetch documents successfully 1993ms
       âœ“ should throw error on failure  880ms
       Ã— should upload document successfully 2ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 1668ms
     Ã— renders and loads standards 1450ms
     Ã— runs gap analysis and displays results 50ms
stderr | app/app/documents/page.test.tsx > Documents Page > allows deleting a document
An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | app/app/documents/page.test.tsx > Documents Page > allows deleting a document
An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | app/app/documents/page.test.tsx > Documents Page > allows deleting a document
An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | app/app/documents/page.test.tsx > Documents Page > allows deleting a document
An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | app/app/documents/page.test.tsx > Documents Page > allows deleting a document
An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 â¯ app/app/documents/page.test.tsx (4 tests | 2 failed) 18982ms
     Ã— renders document list 11378ms
     Ã— handles file upload 2455ms
     âœ“ allows deleting a document  2726ms
     âœ“ shows staged documents separately  2301ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 39ms
     Ã— renders document details and download button 34ms
     Ã— triggers export on button click 4ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 17ms
     Ã— renders loading state initially 12ms
     Ã— renders report data successfully 1ms
     Ã— renders error state on failure 2ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 307ms
     Ã— renders documents and standards 24ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 276ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯ Failed Tests 19 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > fetchDocuments > should fetch documents successfully
AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "/documents" ][90m

Received: 

[1m  1st vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "/api/auth/session",[90m
[31m+   {[90m
[31m+     "headers": {[90m
[31m+       "Content-Type": "application/json",[90m
[31m+     },[90m
[31m+   },[90m
[2m  ][22m

[1m  2nd vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "http://localhost:4000/documents",[90m
[31m+   {[90m
[31m+     "headers": {},[90m
[31m+   },[90m
[2m  ][22m
[39m[90m

Number of calls: [1m2[22m
[39m
 â¯ lib/api.test.ts:23:34
     21|             const docs = await fetchDocuments();
     22|             expect(docs).toEqual(mockDocs);
     23|             expect(global.fetch).toHaveBeenCalledWith(expect.stringConâ€¦
       |                                  ^
     24|         });
     25| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/19]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/19]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/19]â¯

 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders loading state initially
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders report data successfully
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders error state on failure
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ ComplianceReportPage app/app/reports/[id]/page.tsx:51:5
     49|     }
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Aktiv compliance-rapport med detaljerte resultatâ€¦
     53|         value: report,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/19]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:51:5
     49|     const [formSavedAt, setFormSavedAt] = useState<Record<string, striâ€¦
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Dashboard document lists visible to the user',
     53|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/19]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:50:5
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/19]â¯

 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > renders and loads standards
 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > runs gap analysis and displays results
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ GapAnalysisPage app/app/gap-analysis/page.tsx:13:5
     11|     const [report, setReport] = useState<any>(null);
     12| 
     13|     useCopilotReadable({
       |     ^
     14|         description: 'Available ISO standards for gap analysis',
     15|         value: standards,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/19]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > renders document list
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 â¯ app/app/documents/page.test.tsx:34:5
     32|     });
     33| 
     34|     it('renders document list', async () => {
       |     ^
     35|         const mockDocuments = [
     36|             { id: '1', title: 'Doc 1', status: 'ANALYZED', createdAt: â€¦

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/19]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
TestingLibraryElementError: Unable to find a label with the text of: Upload New

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"flex min-h-screen bg-gray-50"[39m
    [36m>[39m
      [36m<aside[39m
        [33mclass[39m=[32m"w-64 bg-white border-r border-gray-200 min-h-screen flex flex-col"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 border-b border-gray-100"[39m
        [36m>[39m
          [36m<h1[39m
            [33mclass[39m=[32m"text-2xl font-bold text-blue-600 flex items-center gap-2"[39m
          [36m>[39m
            [36m<span>[39m
              [0mğŸ›¡ï¸[0m
            [36m</span>[39m
            [0m ISO Doc[0m
          [36m</h1>[39m
        [36m</div>[39m
        [36m<nav[39m
          [33mclass[39m=[32m"flex-1 p-4 space-y-1"[39m
        [36m>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/dashboard"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“Š[0m
            [36m</span>[39m
            [0mDashboard[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors bg-blue-50 text-blue-700 font-medium"[39m
            [33mhref[39m=[32m"/app/documents"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“[0m
            [36m</span>[39m
            [0mDocuments[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/gap-analysis"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ”[0m
            [36m</span>[39m
            [0mGap Analysis[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/reports"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mğŸ“‹[0m
            [36m</span>[39m
            [0mReports[0m
          [36m</a>[39m
          [36m<a[39m
            [33mclass[39m=[32m"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900"[39m
            [33mhref[39m=[32m"/app/settings"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"text-xl"[39m
            [36m>[39m
              [0mâš™ï¸[0m
            [36m</span>[39m
            [0mSettings[0m
          [36m</a>[39m
        [36m</nav>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-4 border-t border-gray-100"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-blue-50 rounded-lg p-4"[39m
          [36m>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-blue-800 mb-1"[39m
            [36m>[39m
              [0mPro Plan[0m
            [36m</h4>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-xs text-blue-600 mb-3"[39m
            [36m>[39m
              [0mGet access to advanced AI features.[0m
            [36m</p>[39m
            [36m<button[39m
              [33mclass[39m=[32m"w-full bg-blue-600 text-white text-xs font-medium py-2 rounded hover:bg-blue-700 transition"[39m
            [36m>[39m
              [0mUpgrade Now[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</aside>[39m
      [36m<div[39m
        [33mclass[39m=[32m"flex-1 flex flex-col"[39m
      [36m>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white border-b border-gray-200 px-8 py-4 flex justify-between items-center sticky top-0 z-10"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-800"[39m
            [36m>[39m
              [0mDashboard[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-500"[39m
            [36m>[39m
              [0mWelcome back, User[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"w-1/3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative w-full max-w-xl"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full border border-gray-300 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mplaceholder[39m=[32m"Search documents (e.g. 'password policy')..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-400"[39m
                  [36m>[39m
                    [0mğŸ”[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"absolute inset-y-0 right-0 px-4 text-white bg-blue-600 rounded-r-lg hover:bg-blue-700 disabled:opacity-50"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</button>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"p-2 text-gray-400 hover:text-gray-600 relative"[39m
              [36m>[39m
                [0mğŸ””[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold"[39m
            [36m>[39m
              [0mU[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
        [36m<main[39m
          [33mclass[39m=[32m"flex-1 p-8 overflow-y-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-w-7xl mx-auto space-y-8"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
                [36m>[39m
                  [0mDocuments[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sm text-gray-500"[39m
                [36m>[39m
                  [0mManage all your uploaded files[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"file-upload"[39m
                  [33mmultiple[39m=[32m""[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer shadow-sm "[39m
                  [33mfor[39m=[32m"file-upload"[39m
                [36m>[39m
                  [36m<span>[39m
                    [0mâ˜ï¸[0m
                  [36m</span>[39m
                  [0mUpload New[0m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"overflow-x-auto"[39m
              [36m>[39m
                [36m<table[39m
                  [33mclass[39m=[32m"min-w-full divide-y divide-gray-200"[39m
                [36m>[39m
                  [36m<thead[39m
                    [33mclass[39m=[32m"bg-gray-50"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mDocument[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mStatus[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mDate[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mActions[0m
                      [36m</th>[39m
                    [36m</tr>[39m
                  [36m</thead>[39m
                  [36m<tbody[39m
                    [33mclass[39m=[32m"bg-white divide-y divide-gray-200"[39m
                  [36m>[39m
                    [36m<tr>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"px-6 py-12 text-center text-gray-500"[39m
                        [33mcolspan[39m=[32m"4"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex flex-col items-center gap-2"[39m
                        [36m>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-4xl"[39m
                          [36m>[39m
                            [0mğŸ“„[0m
                          [36m</span>[39m
                          [36m<p>[39m
                            [0mNo active documents found[0m
                          [36m</p>[39m
                        [36m</div>[39m
                      [36m</td>[39m
                    [36m</tr>[39m
                  [36m</tbody>[39m
                [36m</table>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</main>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 â¯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 â¯ getAllByLabelText node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 â¯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 â¯ app/app/documents/page.test.tsx:61:30
     59| 
     60|         const file = new File(['dummy'], 'test.pdf', { type: 'applicatâ€¦
     61|         const input = screen.getByLabelText('Upload New') as HTMLInputâ€¦
       |                              ^
     62|         
     63|         Object.defineProperty(input, 'files', { value: [file] });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/19]â¯


 Test Files  6 failed (6)
      Tests  19 failed | 3 passed (22)
   Start at  03:28:16
   Duration  236.60s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx 

 â¯ lib/api.test.ts (4 tests | 3 failed) 3640ms
       Ã— should fetch documents successfully 1993ms
       âœ“ should throw error on failure  880ms
       Ã— should upload document successfully 2ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 17ms
     Ã— renders loading state initially 12ms
     Ã— renders report data successfully 1ms
     Ã— renders error state on failure 2ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 1668ms
     Ã— renders and loads standards 1450ms
     Ã— runs gap analysis and displays results 50ms
 â¯ app/app/documents/page.test.tsx (4 tests | 2 failed) 18982ms
     Ã— renders document list 11378ms
     Ã— handles file upload 2455ms
     âœ“ allows deleting a document  2726ms
     âœ“ shows staged documents separately  2301ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 34ms
     Ã— renders documents and standards 21ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 5ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 160ms
     Ã— renders document details and download button 153ms
     Ã— triggers export on button click 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 9 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:51:5
     49|     const [formSavedAt, setFormSavedAt] = useState<Record<string, striâ€¦
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Dashboard document lists visible to the user',
     53|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/9]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:51:5
     49|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Document metadata',
     53|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/9]â¯


 Test Files  6 failed (6)
      Tests  19 failed | 3 passed (22)
   Start at  03:29:30
   Duration  24.81s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/page.test.tsx x5 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 34ms
     Ã— renders documents and standards 21ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 5ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 3640ms
       Ã— should fetch documents successfully 1993ms
       âœ“ should throw error on failure  880ms
       Ã— should upload document successfully 2ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 17ms
     Ã— renders loading state initially 12ms
     Ã— renders report data successfully 1ms
     Ã— renders error state on failure 2ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 160ms
     Ã— renders document details and download button 153ms
     Ã— triggers export on button click 3ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 1668ms
     Ã— renders and loads standards 1450ms
     Ã— runs gap analysis and displays results 50ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 113ms
     Ã— renders document list 13ms
     Ã— handles file upload 51ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 45ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 4 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > renders document list
 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
 FAIL  app/app/documents/page.test.tsx > Documents Page > allows deleting a document
 FAIL  app/app/documents/page.test.tsx > Documents Page > shows staged documents separately
ConfigurationError: Missing required prop: 'runtimeUrl' or 'publicApiKey' or 'publicLicenseKey'
 â¯ new CopilotKitError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:170:5
 â¯ new ConfigurationError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:315:5
 â¯ validateProps node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:651:11
 â¯ CopilotKitInternal node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:207:3
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/4]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:30:20
   Duration  3.79s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/Sidebar.tsx 

 â¯ lib/api.test.ts (4 tests | 3 failed) 3640ms
       Ã— should fetch documents successfully 1993ms
       âœ“ should throw error on failure  880ms
       Ã— should upload document successfully 2ms
       Ã— should throw error on upload failure 0ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 17ms
     Ã— renders loading state initially 12ms
     Ã— renders report data successfully 1ms
     Ã— renders error state on failure 2ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 160ms
     Ã— renders document details and download button 153ms
     Ã— triggers export on button click 3ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 1668ms
     Ã— renders and loads standards 1450ms
     Ã— runs gap analysis and displays results 50ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 218ms
     Ã— renders documents and standards 21ms
     Ã— renders dashboard widgets 176ms
     Ã— opens analysis modal and runs check 7ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 4ms
     Ã— shows upload progress 5ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 235ms
     Ã— renders document list 23ms
     Ã— handles file upload 110ms
     Ã— allows deleting a document 71ms
     Ã— shows staged documents separately 29ms

â¯â¯â¯â¯â¯â¯ Failed Tests 11 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:51:5
     49|     const [formSavedAt, setFormSavedAt] = useState<Record<string, striâ€¦
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Dashboard document lists visible to the user',
     53|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/11]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > renders document list
 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
 FAIL  app/app/documents/page.test.tsx > Documents Page > allows deleting a document
 FAIL  app/app/documents/page.test.tsx > Documents Page > shows staged documents separately
ConfigurationError: Missing required prop: 'runtimeUrl' or 'publicApiKey' or 'publicLicenseKey'
 â¯ new CopilotKitError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:170:5
 â¯ new ConfigurationError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:315:5
 â¯ validateProps node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:651:11
 â¯ CopilotKitInternal node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:207:3
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/11]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  03:57:44
   Duration  10.46s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

stderr | lib/api.test.ts > API Client > fetchDocuments > should throw error on failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 2167ms
     Ã— renders and loads standards 1715ms
     Ã— runs gap analysis and displays results 355ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 882ms
     Ã— renders document list 600ms
     Ã— handles file upload 267ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 8ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 64ms
     Ã— renders documents and standards 47ms
     Ã— renders dashboard widgets 3ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 2ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯ Failed Tests 21 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > fetchDocuments > should fetch documents successfully
AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "/documents" ][90m

Received: 

[1m  1st vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "/api/auth/session",[90m
[31m+   {[90m
[31m+     "headers": {[90m
[31m+       "Content-Type": "application/json",[90m
[31m+     },[90m
[31m+   },[90m
[2m  ][22m

[1m  2nd vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "http://localhost:4000/documents",[90m
[31m+   {[90m
[31m+     "headers": {},[90m
[31m+   },[90m
[2m  ][22m
[39m[90m

Number of calls: [1m2[22m
[39m
 â¯ lib/api.test.ts:23:34
     21|             const docs = await fetchDocuments();
     22|             expect(docs).toEqual(mockDocs);
     23|             expect(global.fetch).toHaveBeenCalledWith(expect.stringConâ€¦
       |                                  ^
     24|         });
     25| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/21]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:42:19
     40| 
     41|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     42|             await uploadDocument(file);
       |                   ^
     43| 
     44|             expect(global.fetch).toHaveBeenCalledWith(

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/21]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
TypeError: (0 , __vite_ssr_import_0__.uploadDocument) is not a function
 â¯ lib/api.test.ts:59:26
     57| 
     58|             const file = new File(['content'], 'test.txt', { type: 'teâ€¦
     59|             await expect(uploadDocument(file)).rejects.toThrow('Failedâ€¦
       |                          ^
     60|         });
     61|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/21]â¯

 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders loading state initially
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders report data successfully
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders error state on failure
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ ComplianceReportPage app/app/reports/[id]/page.tsx:51:5
     49|     }
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Aktiv compliance-rapport med detaljerte resultatâ€¦
     53|         value: report,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/21]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:51:5
     49|     const [formSavedAt, setFormSavedAt] = useState<Record<string, striâ€¦
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Dashboard document lists visible to the user',
     53|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/21]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:51:5
     49|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Document metadata',
     53|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/21]â¯

 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > renders and loads standards
 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > runs gap analysis and displays results
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ GapAnalysisPage app/app/gap-analysis/page.tsx:13:5
     11|     const [report, setReport] = useState<any>(null);
     12| 
     13|     useCopilotReadable({
       |     ^
     14|         description: 'Available ISO standards for gap analysis',
     15|         value: standards,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/21]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > renders document list
 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
 FAIL  app/app/documents/page.test.tsx > Documents Page > allows deleting a document
 FAIL  app/app/documents/page.test.tsx > Documents Page > shows staged documents separately
ConfigurationError: Missing required prop: 'runtimeUrl' or 'publicApiKey' or 'publicLicenseKey'
 â¯ new CopilotKitError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:170:5
 â¯ new ConfigurationError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:315:5
 â¯ validateProps node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:651:11
 â¯ CopilotKitInternal node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:207:3
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/21]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  04:18:17
   Duration  199.76s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/gap-analysis/page.tsx x25 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 64ms
     Ã— renders documents and standards 47ms
     Ã— renders dashboard widgets 3ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 2ms
     Ã— shows upload progress 1ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 882ms
     Ã— renders document list 600ms
     Ã— handles file upload 267ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 8ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > renders and loads standards
 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > runs gap analysis and displays results
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ GapAnalysisPage app/app/gap-analysis/page.tsx:16:5
     14|     const [fullReport, setFullReport] = useState<any>(null);
     15| 
     16|     useCopilotReadable({
       |     ^
     17|         description: 'Available ISO standards for gap analysis',
     18|         value: standards,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  04:20:22
   Duration  9.68s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x90 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 882ms
     Ã— renders document list 600ms
     Ã— handles file upload 267ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 8ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 101ms
     Ã— renders documents and standards 75ms
     Ã— renders dashboard widgets 9ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 6ms
     Ã— shows notifications 2ms
     Ã— shows upload progress 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:51:5
     49|     const [formSavedAt, setFormSavedAt] = useState<Record<string, striâ€¦
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Dashboard document lists visible to the user',
     53|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  04:22:50
   Duration  5.46s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x91 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 882ms
     Ã— renders document list 600ms
     Ã— handles file upload 267ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 8ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 37ms
     Ã— renders documents and standards 23ms
     Ã— renders dashboard widgets 3ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 3ms
     Ã— shows notifications 2ms
     Ã— shows upload progress 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:52:5
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  04:22:59
   Duration  5.81s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x92 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 882ms
     Ã— renders document list 600ms
     Ã— handles file upload 267ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 8ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 333ms
     Ã— renders documents and standards 293ms
     Ã— renders dashboard widgets 3ms
     Ã— opens analysis modal and runs check 4ms
     Ã— shows staged documents and allows approval 6ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 6ms
     Ã— shows upload progress 10ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ Dashboard app/app/dashboard/page.tsx:52:5
     50|     const [previewUrl, setPreviewUrl] = useState<string | null>(null);
     51| 
     52|     useCopilotReadable({
       |     ^
     53|         description: 'Dashboard document lists visible to the user',
     54|         value: {
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  04:23:07
   Duration  7.27s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x93 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 882ms
     Ã— renders document list 600ms
     Ã— handles file upload 267ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 8ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 20ms
     Ã— renders documents and standards 12ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ Dashboard app/app/dashboard/page.tsx:12:26
     10| 
     11| export default function Dashboard() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  04:41:42
   Duration  5.82s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/Sidebar.tsx 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 16ms
     Ã— renders documents and standards 10ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯ Failed Tests 11 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ Dashboard app/app/dashboard/page.tsx:12:26
     10| 
     11| export default function Dashboard() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/11]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > renders document list
 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
 FAIL  app/app/documents/page.test.tsx > Documents Page > allows deleting a document
 FAIL  app/app/documents/page.test.tsx > Documents Page > shows staged documents separately
ConfigurationError: Missing required prop: 'runtimeUrl' or 'publicApiKey' or 'publicLicenseKey'
 â¯ new CopilotKitError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:170:5
 â¯ new ConfigurationError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:315:5
 â¯ validateProps node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:651:11
 â¯ CopilotKitInternal node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:207:3
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/11]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  04:41:59
   Duration  10.01s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x95 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 2174ms
     Ã— renders documents and standards 412ms
     Ã— renders dashboard widgets 19ms
     Ã— opens analysis modal and runs check 79ms
     Ã— shows staged documents and allows approval 456ms
     Ã— allows rejecting staged documents 102ms
     Ã— shows notifications 344ms
     Ã— shows upload progress 411ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  10:57:28
   Duration  34.71s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/ComplianceTab.tsx x96 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 179ms
     Ã— renders documents and standards 90ms
     Ã— renders dashboard widgets 78ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:01:17
   Duration  5.54s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/GapAnalysisTab.tsx x97 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 30ms
     Ã— renders documents and standards 17ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 2ms
     Ã— shows upload progress 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:01:26
   Duration  3.61s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x98 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 240ms
     Ã— renders documents and standards 219ms
     Ã— renders dashboard widgets 4ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 3ms
     Ã— shows notifications 2ms
     Ã— shows upload progress 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:32:17
   Duration  8.95s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x99 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 38ms
     Ã— renders documents and standards 23ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 6ms
     Ã— allows rejecting staged documents 3ms
     Ã— shows notifications 2ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:32:40
   Duration  6.40s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x100 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 127ms
     Ã— renders documents and standards 90ms
     Ã— renders dashboard widgets 21ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 4ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 3ms
     Ã— shows upload progress 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:32:51
   Duration  23.31s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x101 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 74ms
     Ã— renders documents and standards 29ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 26ms
     Ã— shows staged documents and allows approval 5ms
     Ã— allows rejecting staged documents 9ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:33:23
   Duration  6.98s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x102 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 112ms
     Ã— renders document details and download button 107ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 117ms
     Ã— renders documents and standards 87ms
     Ã— renders dashboard widgets 6ms
     Ã— opens analysis modal and runs check 4ms
     Ã— shows staged documents and allows approval 3ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 4ms
     Ã— shows upload progress 5ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:34:55
   Duration  8.07s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x50 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 117ms
     Ã— renders documents and standards 87ms
     Ã— renders dashboard widgets 6ms
     Ã— opens analysis modal and runs check 4ms
     Ã— shows staged documents and allows approval 3ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 4ms
     Ã— shows upload progress 5ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx [ app/app/documents/[id]/page.test.tsx ]
Error: Transform failed with 1 error:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/documents/[id]/page.tsx:600:15: ERROR: Unterminated regular expression
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/documents/[id]/page.tsx:600:15
  
  Unterminated regular expression
  598 |              </div>
  599 |          </div>
  600 |          </div >
      |                 ^
  601 |      );
  602 |  }
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  6 failed (6)
      Tests  19 failed | 1 passed (20)
   Start at  11:36:30
   Duration  809ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x103 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (0 test)
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 551ms
     Ã— renders documents and standards 333ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 67ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 108ms
     Ã— shows notifications 7ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  19 failed | 1 passed (20)
   Start at  11:37:24
   Duration  21.28s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x104 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (0 test)
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 357ms
     Ã— renders documents and standards 65ms
     Ã— renders dashboard widgets 15ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 268ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  19 failed | 1 passed (20)
   Start at  11:37:52
   Duration  23.22s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x51 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 357ms
     Ã— renders documents and standards 65ms
     Ã— renders dashboard widgets 15ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 268ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx [ app/app/documents/[id]/page.test.tsx ]
Error: Transform failed with 1 error:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/documents/[id]/page.tsx:250:4: ERROR: Unexpected "}"
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/documents/[id]/page.tsx:250:4
  
  Unexpected "}"
  248 |                  </div>
  249 |              ),
  250 |      });
      |      ^
  251 |  
  252 |      useCopilotAction({
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  6 failed (6)
      Tests  19 failed | 1 passed (20)
   Start at  11:38:18
   Duration  421ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x52 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 357ms
     Ã— renders documents and standards 65ms
     Ã— renders dashboard widgets 15ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 268ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx [ app/app/documents/[id]/page.test.tsx ]
Error: Transform failed with 1 error:
/Users/isak/Downloads/iso-doc-platform/frontend/app/app/documents/[id]/page.tsx:303:4: ERROR: Unexpected "}"
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/app/documents/[id]/page.tsx:303:4
  
  Unexpected "}"
  301 |                  </div>
  302 |              ),
  303 |      });
      |      ^
  304 |  
  305 |      const allowedFields: Array<keyof RemediationForm> = ['owner', 'dueDate', 'status', 'summary', 'nextSteps'];
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  6 failed (6)
      Tests  19 failed | 1 passed (20)
   Start at  11:39:11
   Duration  393ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x53 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 357ms
     Ã— renders documents and standards 65ms
     Ã— renders dashboard widgets 15ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 268ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 54ms
     Ã— renders document details and download button 48ms
     Ã— triggers export on button click 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:52:5
     50|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     51| 
     52|     useCopilotReadable({
       |     ^
     53|         description: 'Document metadata',
     54|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:39:50
   Duration  19.26s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x54 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 357ms
     Ã— renders documents and standards 65ms
     Ã— renders dashboard widgets 15ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 268ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 201ms
     Ã— renders document details and download button 191ms
     Ã— triggers export on button click 5ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:52:5
     50|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     51| 
     52|     useCopilotReadable({
       |     ^
     53|         description: 'Document metadata',
     54|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:40:48
   Duration  6.17s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x55 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 357ms
     Ã— renders documents and standards 65ms
     Ã— renders dashboard widgets 15ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 268ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 137ms
     Ã— renders document details and download button 134ms
     Ã— triggers export on button click 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:52:5
     50|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     51| 
     52|     useCopilotReadable({
       |     ^
     53|         description: 'Document metadata',
     54|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:42:16
   Duration  8.40s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x56 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 357ms
     Ã— renders documents and standards 65ms
     Ã— renders dashboard widgets 15ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 268ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 40ms
     Ã— renders document details and download button 33ms
     Ã— triggers export on button click 6ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:52:5
     50|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     51| 
     52|     useCopilotReadable({
       |     ^
     53|         description: 'Document metadata',
     54|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:42:34
   Duration  7.86s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/PersistentCopilot.tsx x57 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 357ms
     Ã— renders documents and standards 65ms
     Ã— renders dashboard widgets 15ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 268ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 278ms
     Ã— renders document details and download button 275ms
     Ã— triggers export on button click 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:52:5
     50|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     51| 
     52|     useCopilotReadable({
       |     ^
     53|         description: 'Document metadata',
     54|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:52:36
   Duration  8.10s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/PersistentCopilot.tsx x58 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 357ms
     Ã— renders documents and standards 65ms
     Ã— renders dashboard widgets 15ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 268ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 3ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 109ms
     Ã— renders document details and download button 45ms
     Ã— triggers export on button click 55ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ DocumentView app/app/documents/[id]/page.tsx:52:5
     50|     const [formSavedAt, setFormSavedAt] = useState<string | null>(nullâ€¦
     51| 
     52|     useCopilotReadable({
       |     ^
     53|         description: 'Document metadata',
     54|         value: document,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  11:52:58
   Duration  6.57s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x105 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 109ms
     Ã— renders document details and download button 45ms
     Ã— triggers export on button click 55ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 17ms
     Ã— renders documents and standards 11ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:04:31
   Duration  7.54s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/documents/[id]/page.tsx x59 

 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 17ms
     Ã— renders documents and standards 11ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms
 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 12ms
     Ã— renders document details and download button 10ms
     Ã— triggers export on button click 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: [vitest] No "useRouter" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DocumentPage app/app/documents/[id]/page.tsx:9:20
      7| export default function DocumentPage() {
      8|     const params = useParams();
      9|     const router = useRouter();
       |                    ^
     10|     const id = params?.id as string;
     11| 
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/2]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:05:57
   Duration  1.83s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentDetailView.tsx 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 784ms
     Ã— renders documents and standards 186ms
     Ã— renders dashboard widgets 3ms
     Ã— opens analysis modal and runs check 291ms
     Ã— shows staged documents and allows approval 5ms
     Ã— allows rejecting staged documents 4ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 507ms
     Ã— renders document details and download button 493ms
     Ã— triggers export on button click 3ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 9 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/9]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: [vitest] No "useRouter" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DocumentPage app/app/documents/[id]/page.tsx:9:20
      7| export default function DocumentPage() {
      8|     const params = useParams();
      9|     const router = useRouter();
       |                    ^
     10|     const id = params?.id as string;
     11| 
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/9]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:06:44
   Duration  73.93s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x107 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 507ms
     Ã— renders document details and download button 493ms
     Ã— triggers export on button click 3ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 58ms
     Ã— renders documents and standards 28ms
     Ã— renders dashboard widgets 6ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 2ms
     Ã— shows upload progress 11ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:07:29
   Duration  5.78s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x108 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 507ms
     Ã— renders document details and download button 493ms
     Ã— triggers export on button click 3ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 130ms
     Ã— renders documents and standards 115ms
     Ã— renders dashboard widgets 5ms
     Ã— opens analysis modal and runs check 4ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:07:42
   Duration  5.88s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentDetailView.tsx 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 19ms
     Ã— renders document details and download button 16ms
     Ã— triggers export on button click 2ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 132ms
     Ã— renders documents and standards 13ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 66ms
     Ã— shows upload progress 45ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 9 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/9]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: [vitest] No "useRouter" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DocumentPage app/app/documents/[id]/page.tsx:9:20
      7| export default function DocumentPage() {
      8|     const params = useParams();
      9|     const router = useRouter();
       |                    ^
     10|     const id = params?.id as string;
     11| 
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/9]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:08:19
   Duration  24.93s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentDetailView.tsx 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 14ms
     Ã— triggers export on button click 1ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 65ms
     Ã— renders documents and standards 54ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 6ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 9 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/9]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: [vitest] No "useRouter" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DocumentPage app/app/documents/[id]/page.tsx:9:20
      7| export default function DocumentPage() {
      8|     const params = useParams();
      9|     const router = useRouter();
       |                    ^
     10|     const id = params?.id as string;
     11| 
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/9]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:08:39
   Duration  21.21s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x111 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 14ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms

â¯â¯â¯â¯â¯â¯ Failed Suites 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx [ app/app/dashboard/page.test.tsx ]
Error: Transform failed with 2 errors:
/Users/isak/Downloads/iso-doc-platform/frontend/app/components/DocumentsTab.tsx:189:50: ERROR: Unexpected closing "td" tag does not match opening "span" tag
/Users/isak/Downloads/iso-doc-platform/frontend/app/components/DocumentsTab.tsx:190:52: ERROR: Expected ")" but found "className"
  Plugin: vite:esbuild
  File: /Users/isak/Downloads/iso-doc-platform/frontend/app/components/DocumentsTab.tsx:189:50
  
  Unexpected closing "td" tag does not match opening "span" tag
  187 |                                                      Ready for Approval
  188 |                                                      {new Date(doc.createdAt).toLocaleDateString()}
  189 |                                                  </td>
      |                                                    ^
  190 |                                                  <td className="px-6 py-4 whitespace-nowrap text-right text-sm font-me...
  191 |                                                      <div className="flex justify-end gap-3">
  
  Expected ")" but found "className"
  188 |                                                      {new Date(doc.createdAt).toLocaleDateString()}
  189 |                                                  </td>
  190 |                                                  <td className="px-6 py-4 whitespace-nowrap text-right text-sm font-me...
      |                                                      ^
  191 |                                                      <div className="flex justify-end gap-3">
  192 |                                                          <button onClick={() => openDocument(doc.id)} className="text-...
  
 â¯ failureErrorWithLog node_modules/esbuild/lib/main.js:1467:15
 â¯ node_modules/esbuild/lib/main.js:736:50
 â¯ responseCallbacks.<computed> node_modules/esbuild/lib/main.js:603:9
 â¯ handleIncomingPacket node_modules/esbuild/lib/main.js:658:12
 â¯ Socket.readFromStdout node_modules/esbuild/lib/main.js:581:7

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


 Test Files  6 failed (6)
      Tests  14 failed | 1 passed (15)
   Start at  12:14:18
   Duration  681ms

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x112 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 14ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 202ms
     Ã— renders documents and standards 186ms
     Ã— renders dashboard widgets 3ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 3ms
     Ã— shows notifications 3ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:14:56
   Duration  14.17s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x113 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 14ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 34ms
     Ã— renders documents and standards 19ms
     Ã— renders dashboard widgets 4ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:15:33
   Duration  15.82s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x114 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 14ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 174ms
     Ã— renders documents and standards 38ms
     Ã— renders dashboard widgets 8ms
     Ã— opens analysis modal and runs check 13ms
     Ã— shows staged documents and allows approval 23ms
     Ã— allows rejecting staged documents 9ms
     Ã— shows notifications 48ms
     Ã— shows upload progress 32ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:15:57
   Duration  15.89s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/IDE/ComplianceTools.tsx x115 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 14ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 129ms
     Ã— renders documents and standards 91ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 29ms
     Ã— shows notifications 3ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:16:57
   Duration  5.42s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/IDE/ComplianceTools.tsx x116 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 14ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 68ms
     Ã— renders documents and standards 13ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 19ms
     Ã— allows rejecting staged documents 31ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:17:13
   Duration  5.49s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x117 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 14ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 65ms
     Ã— renders documents and standards 31ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 28ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:22:42
   Duration  5.58s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x118 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 14ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 34ms
     Ã— renders documents and standards 28ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:22:56
   Duration  7.13s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/IDE/IDELayout.tsx x119 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 14ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 21ms
     Ã— renders documents and standards 11ms
     Ã— renders dashboard widgets 3ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:23:16
   Duration  6.59s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/IDE/IDELayout.tsx x120 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 17ms
     Ã— renders document details and download button 14ms
     Ã— triggers export on button click 1ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 136ms
     Ã— renders documents and standards 30ms
     Ã— renders dashboard widgets 64ms
     Ã— opens analysis modal and runs check 33ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:23:53
   Duration  8.36s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/PersistentCopilot.tsx 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 84ms
     Ã— renders document list 14ms
     Ã— handles file upload 1ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 27ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 15ms
     Ã— renders document details and download button 13ms
     Ã— triggers export on button click 2ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 20ms
     Ã— renders documents and standards 12ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 9 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: [vitest] No "useRouter" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DocumentPage app/app/documents/[id]/page.tsx:9:20
      7| export default function DocumentPage() {
      8|     const params = useParams();
      9|     const router = useRouter();
       |                    ^
     10|     const id = params?.id as string;
     11| 
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/9]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/9]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:26:36
   Duration  33.06s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/Sidebar.tsx 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 15ms
     Ã— renders document details and download button 13ms
     Ã— triggers export on button click 2ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 146ms
     Ã— renders document list 100ms
     Ã— handles file upload 2ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 41ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 44ms
     Ã— renders documents and standards 12ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 27ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯ Failed Tests 11 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardContent app/app/dashboard/page.tsx:12:26
     10| 
     11| function DashboardContent() {
     12|     const searchParams = useSearchParams();
       |                          ^
     13|     const router = useRouter();
     14|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/11]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > renders document list
 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
 FAIL  app/app/documents/page.test.tsx > Documents Page > allows deleting a document
 FAIL  app/app/documents/page.test.tsx > Documents Page > shows staged documents separately
ConfigurationError: Missing required prop: 'runtimeUrl' or 'publicApiKey' or 'publicLicenseKey'
 â¯ new CopilotKitError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:170:5
 â¯ new ConfigurationError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:315:5
 â¯ validateProps node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:651:11
 â¯ CopilotKitInternal node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:207:3
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/11]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:26:59
   Duration  14.87s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x123 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 15ms
     Ã— renders document details and download button 13ms
     Ã— triggers export on button click 2ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 146ms
     Ã— renders document list 100ms
     Ã— handles file upload 2ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 41ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 110ms
     Ã— renders documents and standards 82ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 4ms
     Ã— shows staged documents and allows approval 4ms
     Ã— allows rejecting staged documents 4ms
     Ã— shows notifications 3ms
     Ã— shows upload progress 11ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:16:26
     14| 
     15| function DashboardInner() {
     16|     const searchParams = useSearchParams();
       |                          ^
     17|     const router = useRouter();
     18|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:29:35
   Duration  8.74s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x124 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 15ms
     Ã— renders document details and download button 13ms
     Ã— triggers export on button click 2ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 146ms
     Ã— renders document list 100ms
     Ã— handles file upload 2ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 41ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 26ms
     Ã— renders documents and standards 15ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 3ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:16:26
     14| 
     15| function DashboardInner() {
     16|     const searchParams = useSearchParams();
       |                          ^
     17|     const router = useRouter();
     18|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:30:05
   Duration  14.67s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/DocumentsTab.tsx x125 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 15ms
     Ã— renders document details and download button 13ms
     Ã— triggers export on button click 2ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 146ms
     Ã— renders document list 100ms
     Ã— handles file upload 2ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 41ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 67ms
     Ã— renders documents and standards 51ms
     Ã— renders dashboard widgets 3ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 3ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:16:26
     14| 
     15| function DashboardInner() {
     16|     const searchParams = useSearchParams();
       |                          ^
     17|     const router = useRouter();
     18|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:30:25
   Duration  28.55s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/IDE/IDELayout.tsx x126 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 15ms
     Ã— renders document details and download button 13ms
     Ã— triggers export on button click 2ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 146ms
     Ã— renders document list 100ms
     Ã— handles file upload 2ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 41ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 576ms
     Ã— renders documents and standards 490ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 53ms
     Ã— shows staged documents and allows approval 14ms
     Ã— allows rejecting staged documents 4ms
     Ã— shows notifications 4ms
     Ã— shows upload progress 8ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:16:26
     14| 
     15| function DashboardInner() {
     16|     const searchParams = useSearchParams();
       |                          ^
     17|     const router = useRouter();
     18|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:31:04
   Duration  12.57s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/IDE/IDELayout.tsx x127 

 â¯ lib/api.test.ts (4 tests | 3 failed) 1233ms
       Ã— should fetch documents successfully 941ms
       âœ“ should throw error on failure 67ms
       Ã— should upload document successfully 150ms
       Ã— should throw error on upload failure 63ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 2303ms
     Ã— renders loading state initially 2033ms
     Ã— renders report data successfully 100ms
     Ã— renders error state on failure 108ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 15ms
     Ã— renders document details and download button 13ms
     Ã— triggers export on button click 2ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 43ms
     Ã— renders and loads standards 33ms
     Ã— runs gap analysis and displays results 7ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 146ms
     Ã— renders document list 100ms
     Ã— handles file upload 2ms
     Ã— allows deleting a document 2ms
     Ã— shows staged documents separately 41ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 501ms
     Ã— renders documents and standards 383ms
     Ã— renders dashboard widgets 4ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 94ms
     Ã— shows notifications 11ms
     Ã— shows upload progress 4ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:16:26
     14| 
     15| function DashboardInner() {
     16|     const searchParams = useSearchParams();
       |                          ^
     17|     const router = useRouter();
     18|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  21 failed | 1 passed (22)
   Start at  12:31:24
   Duration  9.79s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

stderr | lib/api.test.ts > API Client > fetchDocuments > should throw error on failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

stderr | lib/api.test.ts > API Client > uploadDocument > should upload document successfully
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

stderr | lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

 â¯ lib/api.test.ts (4 tests | 2 failed) 2778ms
       Ã— should fetch documents successfully 1686ms
       âœ“ should throw error on failure  926ms
       Ã— should upload document successfully 66ms
       âœ“ should throw error on upload failure 19ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 1673ms
     Ã— renders loading state initially 1119ms
     Ã— renders report data successfully 408ms
     Ã— renders error state on failure 68ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 826ms
     Ã— renders and loads standards 686ms
     Ã— runs gap analysis and displays results 79ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 1076ms
     Ã— renders document list 673ms
     Ã— handles file upload 137ms
     Ã— allows deleting a document 112ms
     Ã— shows staged documents separately 39ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 618ms
     Ã— renders document details and download button 578ms
     Ã— triggers export on button click 2ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 1083ms
     Ã— renders documents and standards 991ms
     Ã— renders dashboard widgets 11ms
     Ã— opens analysis modal and runs check 63ms
     Ã— shows staged documents and allows approval 3ms
     Ã— allows rejecting staged documents 3ms
     Ã— shows notifications 5ms
     Ã— shows upload progress 3ms

â¯â¯â¯â¯â¯â¯ Failed Tests 20 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > fetchDocuments > should fetch documents successfully
AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "/documents" ][90m

Received: 

[1m  1st vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "/api/auth/session",[90m
[31m+   {[90m
[31m+     "headers": {[90m
[31m+       "Content-Type": "application/json",[90m
[31m+     },[90m
[31m+   },[90m
[2m  ][22m

[1m  2nd vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "http://localhost:4000/documents",[90m
[31m+   {[90m
[31m+     "headers": {},[90m
[31m+   },[90m
[2m  ][22m
[39m[90m

Number of calls: [1m2[22m
[39m
 â¯ lib/api.test.ts:23:34
     21|             const docs = await fetchDocuments();
     22|             expect(docs).toEqual(mockDocs);
     23|             expect(global.fetch).toHaveBeenCalledWith(expect.stringConâ€¦
       |                                  ^
     24|         });
     25| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/20]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: res.json is not a function
 â¯ uploadDocuments lib/api.ts:134:16
    132|         throw new Error('Failed to upload documents');
    133|     }
    134|     return res.json();
       |                ^
    135| }
    136| 
 â¯ lib/api.test.ts:42:13

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/20]â¯

 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders loading state initially
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders report data successfully
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders error state on failure
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ ComplianceReportPage app/app/reports/[id]/page.tsx:51:5
     49|     }
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Aktiv compliance-rapport med detaljerte resultatâ€¦
     53|         value: report,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/20]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:16:26
     14| 
     15| function DashboardInner() {
     16|     const searchParams = useSearchParams();
       |                          ^
     17|     const router = useRouter();
     18|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/20]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: [vitest] No "useRouter" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DocumentPage app/app/documents/[id]/page.tsx:9:20
      7| export default function DocumentPage() {
      8|     const params = useParams();
      9|     const router = useRouter();
       |                    ^
     10|     const id = params?.id as string;
     11| 
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/20]â¯

 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > renders and loads standards
 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > runs gap analysis and displays results
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ GapAnalysisPage app/app/gap-analysis/page.tsx:16:5
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/20]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > renders document list
 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
 FAIL  app/app/documents/page.test.tsx > Documents Page > allows deleting a document
 FAIL  app/app/documents/page.test.tsx > Documents Page > shows staged documents separately
ConfigurationError: Missing required prop: 'runtimeUrl' or 'publicApiKey' or 'publicLicenseKey'
 â¯ new CopilotKitError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:170:5
 â¯ new ConfigurationError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:315:5
 â¯ validateProps node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:651:11
 â¯ CopilotKitInternal node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:207:3
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/20]â¯


 Test Files  6 failed (6)
      Tests  20 failed | 2 passed (22)
   Start at  12:31:44
   Duration  203.17s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/Sidebar.tsx 

 â¯ lib/api.test.ts (4 tests | 2 failed) 2778ms
       Ã— should fetch documents successfully 1686ms
       âœ“ should throw error on failure  926ms
       Ã— should upload document successfully 66ms
       âœ“ should throw error on upload failure 19ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 1673ms
     Ã— renders loading state initially 1119ms
     Ã— renders report data successfully 408ms
     Ã— renders error state on failure 68ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 618ms
     Ã— renders document details and download button 578ms
     Ã— triggers export on button click 2ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 826ms
     Ã— renders and loads standards 686ms
     Ã— runs gap analysis and displays results 79ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 610ms
     Ã— renders document list 370ms
     Ã— handles file upload 101ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 95ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 346ms
     Ã— renders documents and standards 214ms
     Ã— renders dashboard widgets 2ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 74ms
     Ã— shows notifications 24ms
     Ã— shows upload progress 12ms

â¯â¯â¯â¯â¯â¯ Failed Tests 11 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:16:26
     14| 
     15| function DashboardInner() {
     16|     const searchParams = useSearchParams();
       |                          ^
     17|     const router = useRouter();
     18|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/11]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > renders document list
 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
 FAIL  app/app/documents/page.test.tsx > Documents Page > allows deleting a document
 FAIL  app/app/documents/page.test.tsx > Documents Page > shows staged documents separately
ConfigurationError: Missing required prop: 'runtimeUrl' or 'publicApiKey' or 'publicLicenseKey'
 â¯ new CopilotKitError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:170:5
 â¯ new ConfigurationError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:315:5
 â¯ validateProps node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:651:11
 â¯ CopilotKitInternal node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:207:3
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/11]â¯


 Test Files  6 failed (6)
      Tests  20 failed | 2 passed (22)
   Start at  12:33:26
   Duration  42.77s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/GlobalTools.tsx x130 

 â¯ lib/api.test.ts (4 tests | 2 failed) 2778ms
       Ã— should fetch documents successfully 1686ms
       âœ“ should throw error on failure  926ms
       Ã— should upload document successfully 66ms
       âœ“ should throw error on upload failure 19ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 1673ms
     Ã— renders loading state initially 1119ms
     Ã— renders report data successfully 408ms
     Ã— renders error state on failure 68ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 618ms
     Ã— renders document details and download button 578ms
     Ã— triggers export on button click 2ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 826ms
     Ã— renders and loads standards 686ms
     Ã— runs gap analysis and displays results 79ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 610ms
     Ã— renders document list 370ms
     Ã— handles file upload 101ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 95ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 897ms
     Ã— renders documents and standards 523ms
     Ã— renders dashboard widgets 7ms
     Ã— opens analysis modal and runs check 14ms
     Ã— shows staged documents and allows approval 12ms
     Ã— allows rejecting staged documents 9ms
     Ã— shows notifications 307ms
     Ã— shows upload progress 2ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:16:26
     14| 
     15| function DashboardInner() {
     16|     const searchParams = useSearchParams();
       |                          ^
     17|     const router = useRouter();
     18|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  20 failed | 2 passed (22)
   Start at  12:34:59
   Duration  35.89s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/GlobalTools.tsx x131 

 â¯ lib/api.test.ts (4 tests | 2 failed) 2778ms
       Ã— should fetch documents successfully 1686ms
       âœ“ should throw error on failure  926ms
       Ã— should upload document successfully 66ms
       âœ“ should throw error on upload failure 19ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 1673ms
     Ã— renders loading state initially 1119ms
     Ã— renders report data successfully 408ms
     Ã— renders error state on failure 68ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 618ms
     Ã— renders document details and download button 578ms
     Ã— triggers export on button click 2ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 826ms
     Ã— renders and loads standards 686ms
     Ã— runs gap analysis and displays results 79ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 610ms
     Ã— renders document list 370ms
     Ã— handles file upload 101ms
     Ã— allows deleting a document 37ms
     Ã— shows staged documents separately 95ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 262ms
     Ã— renders documents and standards 161ms
     Ã— renders dashboard widgets 3ms
     Ã— opens analysis modal and runs check 2ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 2ms
     Ã— shows notifications 2ms
     Ã— shows upload progress 89ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:16:26
     14| 
     15| function DashboardInner() {
     16|     const searchParams = useSearchParams();
       |                          ^
     17|     const router = useRouter();
     18|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  20 failed | 2 passed (22)
   Start at  12:36:10
   Duration  24.58s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  lib/api.ts 

stderr | lib/api.test.ts > API Client > fetchDocuments > should throw error on failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

stderr | lib/api.test.ts > API Client > uploadDocument > should upload document successfully
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

stderr | lib/api.test.ts > API Client > uploadDocument > should throw error on upload failure
[next-auth][error][CLIENT_FETCH_ERROR] 
https://next-auth.js.org/errors#client_fetch_error res.json is not a function {
  error: {
    message: [32m'res.json is not a function'[39m,
    stack: [32m'TypeError: res.json is not a function\n'[39m +
      [32m'    at _callee$ (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/next-auth/client/_utils.js:53:22)\n'[39m +
      [32m'    at /Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorRuntime.js:52:18\n'[39m +
      [32m'    at Generator.<anonymous> (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regenerator.js:52:51)\n'[39m +
      [32m'    at Generator.next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/regeneratorDefine.js:11:21)\n'[39m +
      [32m'    at asyncGeneratorStep (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)\n'[39m +
      [32m'    at _next (/Users/isak/Downloads/iso-doc-platform/frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:95:5)'[39m,
    name: [32m'TypeError'[39m
  },
  url: [32m'/api/auth/session'[39m,
  message: [32m'res.json is not a function'[39m
}

 â¯ lib/api.test.ts (4 tests | 2 failed) 818ms
       Ã— should fetch documents successfully 292ms
       âœ“ should throw error on failure 94ms
       Ã— should upload document successfully 382ms
       âœ“ should throw error on upload failure 46ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 1945ms
     Ã— renders and loads standards 1153ms
     Ã— runs gap analysis and displays results 596ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 2226ms
     Ã— renders document list 1863ms
     Ã— handles file upload 239ms
     Ã— allows deleting a document 7ms
     Ã— shows staged documents separately 3ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 25ms
     Ã— renders loading state initially 19ms
     Ã— renders report data successfully 2ms
     Ã— renders error state on failure 3ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 64ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 4ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 307ms
     Ã— renders documents and standards 291ms
     Ã— renders dashboard widgets 4ms
     Ã— opens analysis modal and runs check 3ms
     Ã— shows staged documents and allows approval 2ms
     Ã— allows rejecting staged documents 3ms
     Ã— shows notifications 2ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯ Failed Tests 20 â¯â¯â¯â¯â¯â¯â¯

 FAIL  lib/api.test.ts > API Client > fetchDocuments > should fetch documents successfully
AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "/documents" ][90m

Received: 

[1m  1st vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "/api/auth/session",[90m
[31m+   {[90m
[31m+     "headers": {[90m
[31m+       "Content-Type": "application/json",[90m
[31m+     },[90m
[31m+   },[90m
[2m  ][22m

[1m  2nd vi.fn() call:

[22m[2m  [[22m
[32m-   StringContaining "/documents",[90m
[31m+   "http://localhost:4000/documents",[90m
[31m+   {[90m
[31m+     "headers": {},[90m
[31m+   },[90m
[2m  ][22m
[39m[90m

Number of calls: [1m2[22m
[39m
 â¯ lib/api.test.ts:23:34
     21|             const docs = await fetchDocuments();
     22|             expect(docs).toEqual(mockDocs);
     23|             expect(global.fetch).toHaveBeenCalledWith(expect.stringConâ€¦
       |                                  ^
     24|         });
     25| 

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/20]â¯

 FAIL  lib/api.test.ts > API Client > uploadDocument > should upload document successfully
TypeError: res.json is not a function
 â¯ uploadDocuments lib/api.ts:134:16
    132|         throw new Error('Failed to upload documents');
    133|     }
    134|     return res.json();
       |                ^
    135| }
    136| 
 â¯ lib/api.test.ts:42:13

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/20]â¯

 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders loading state initially
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders report data successfully
 FAIL  app/app/reports/[id]/page.test.tsx > ComplianceReportPage > renders error state on failure
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ ComplianceReportPage app/app/reports/[id]/page.tsx:51:5
     49|     }
     50| 
     51|     useCopilotReadable({
       |     ^
     52|         description: 'Aktiv compliance-rapport med detaljerte resultatâ€¦
     53|         value: report,
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/20]â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:16:26
     14| 
     15| function DashboardInner() {
     16|     const searchParams = useSearchParams();
       |                          ^
     17|     const router = useRouter();
     18|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/20]â¯

 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > renders document details and download button
 FAIL  app/app/documents/[id]/page.test.tsx > DocumentView Page > triggers export on button click
Error: [vitest] No "useRouter" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DocumentPage app/app/documents/[id]/page.tsx:9:20
      7| export default function DocumentPage() {
      8|     const params = useParams();
      9|     const router = useRouter();
       |                    ^
     10|     const id = params?.id as string;
     11| 
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/20]â¯

 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > renders and loads standards
 FAIL  app/app/gap-analysis/page.test.tsx > GapAnalysisPage > runs gap analysis and displays results
Error: Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!
 â¯ useCopilotContext node_modules/@copilotkit/react-core/dist/chunk-EUX2P2E7.mjs:96:11
 â¯ useCopilotReadable node_modules/@copilotkit/react-core/dist/chunk-HDOG2RTM.mjs:18:41
 â¯ GapAnalysisPage app/app/gap-analysis/page.tsx:16:5
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/20]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > renders document list
 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
 FAIL  app/app/documents/page.test.tsx > Documents Page > allows deleting a document
 FAIL  app/app/documents/page.test.tsx > Documents Page > shows staged documents separately
ConfigurationError: Missing required prop: 'runtimeUrl' or 'publicApiKey' or 'publicLicenseKey'
 â¯ new CopilotKitError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:170:5
 â¯ new ConfigurationError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:315:5
 â¯ validateProps node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:651:11
 â¯ CopilotKitInternal node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:207:3
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/20]â¯


 Test Files  6 failed (6)
      Tests  20 failed | 2 passed (22)
   Start at  12:44:47
   Duration  142.95s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x133 

 â¯ lib/api.test.ts (4 tests | 2 failed) 818ms
       Ã— should fetch documents successfully 292ms
       âœ“ should throw error on failure 94ms
       Ã— should upload document successfully 382ms
       âœ“ should throw error on upload failure 46ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 25ms
     Ã— renders loading state initially 19ms
     Ã— renders report data successfully 2ms
     Ã— renders error state on failure 3ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 64ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 1945ms
     Ã— renders and loads standards 1153ms
     Ã— runs gap analysis and displays results 596ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 2226ms
     Ã— renders document list 1863ms
     Ã— handles file upload 239ms
     Ã— allows deleting a document 7ms
     Ã— shows staged documents separately 3ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 98ms
     Ã— renders documents and standards 51ms
     Ã— renders dashboard widgets 7ms
     Ã— opens analysis modal and runs check 9ms
     Ã— shows staged documents and allows approval 6ms
     Ã— allows rejecting staged documents 10ms
     Ã— shows notifications 5ms
     Ã— shows upload progress 7ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:16:26
     14| 
     15| function DashboardInner() {
     16|     const searchParams = useSearchParams();
       |                          ^
     17|     const router = useRouter();
     18|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  20 failed | 2 passed (22)
   Start at  12:46:51
   Duration  9.02s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/app/dashboard/page.tsx x134 

 â¯ lib/api.test.ts (4 tests | 2 failed) 818ms
       Ã— should fetch documents successfully 292ms
       âœ“ should throw error on failure 94ms
       Ã— should upload document successfully 382ms
       âœ“ should throw error on upload failure 46ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 25ms
     Ã— renders loading state initially 19ms
     Ã— renders report data successfully 2ms
     Ã— renders error state on failure 3ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 64ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 1945ms
     Ã— renders and loads standards 1153ms
     Ã— runs gap analysis and displays results 596ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 2226ms
     Ã— renders document list 1863ms
     Ã— handles file upload 239ms
     Ã— allows deleting a document 7ms
     Ã— shows staged documents separately 3ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 129ms
     Ã— renders documents and standards 53ms
     Ã— renders dashboard widgets 8ms
     Ã— opens analysis modal and runs check 6ms
     Ã— shows staged documents and allows approval 10ms
     Ã— allows rejecting staged documents 5ms
     Ã— shows notifications 37ms
     Ã— shows upload progress 7ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 7 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:17:26
     15| 
     16| function DashboardInner() {
     17|     const searchParams = useSearchParams();
       |                          ^
     18|     const router = useRouter();
     19|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯


 Test Files  6 failed (6)
      Tests  20 failed | 2 passed (22)
   Start at  12:47:09
   Duration  15.59s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
c[3J RERUN  app/components/Sidebar.tsx 

 â¯ lib/api.test.ts (4 tests | 2 failed) 818ms
       Ã— should fetch documents successfully 292ms
       âœ“ should throw error on failure 94ms
       Ã— should upload document successfully 382ms
       âœ“ should throw error on upload failure 46ms
 â¯ app/app/reports/[id]/page.test.tsx (3 tests | 3 failed) 25ms
     Ã— renders loading state initially 19ms
     Ã— renders report data successfully 2ms
     Ã— renders error state on failure 3ms
 â¯ app/app/documents/[id]/page.test.tsx (2 tests | 2 failed) 64ms
     Ã— renders document details and download button 59ms
     Ã— triggers export on button click 4ms
 â¯ app/app/gap-analysis/page.test.tsx (2 tests | 2 failed) 1945ms
     Ã— renders and loads standards 1153ms
     Ã— runs gap analysis and displays results 596ms
 â¯ app/app/documents/page.test.tsx (4 tests | 4 failed) 49ms
     Ã— renders document list 31ms
     Ã— handles file upload 10ms
     Ã— allows deleting a document 6ms
     Ã— shows staged documents separately 2ms
 â¯ app/app/dashboard/page.test.tsx (7 tests | 7 failed) 21ms
     Ã— renders documents and standards 13ms
     Ã— renders dashboard widgets 1ms
     Ã— opens analysis modal and runs check 1ms
     Ã— shows staged documents and allows approval 1ms
     Ã— allows rejecting staged documents 1ms
     Ã— shows notifications 1ms
     Ã— shows upload progress 1ms

â¯â¯â¯â¯â¯â¯ Failed Tests 11 â¯â¯â¯â¯â¯â¯â¯

 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders documents and standards
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > renders dashboard widgets
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > opens analysis modal and runs check
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows staged documents and allows approval
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > allows rejecting staged documents
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows notifications
 FAIL  app/app/dashboard/page.test.tsx > Dashboard Page > shows upload progress
Error: [vitest] No "useSearchParams" export is defined on the "next/navigation" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("next/navigation"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 â¯ DashboardInner app/app/dashboard/page.tsx:17:26
     15| 
     16| function DashboardInner() {
     17|     const searchParams = useSearchParams();
       |                          ^
     18|     const router = useRouter();
     19|     const tabParam = searchParams.get('tab');
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 â¯ workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/11]â¯

 FAIL  app/app/documents/page.test.tsx > Documents Page > renders document list
 FAIL  app/app/documents/page.test.tsx > Documents Page > handles file upload
 FAIL  app/app/documents/page.test.tsx > Documents Page > allows deleting a document
 FAIL  app/app/documents/page.test.tsx > Documents Page > shows staged documents separately
ConfigurationError: Missing required prop: 'runtimeUrl' or 'publicApiKey' or 'publicLicenseKey'
 â¯ new CopilotKitError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:170:5
 â¯ new ConfigurationError node_modules/@copilotkit/shared/dist/chunk-XLQ2EIPH.mjs:315:5
 â¯ validateProps node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:651:11
 â¯ CopilotKitInternal node_modules/@copilotkit/react-core/dist/chunk-CI4KD357.mjs:207:3
 â¯ Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 â¯ renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 â¯ updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 â¯ beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 â¯ runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 â¯ performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/11]â¯


 Test Files  6 failed (6)
      Tests  20 failed | 2 passed (22)
   Start at  12:47:47
   Duration  11.84s

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
